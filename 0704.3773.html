<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[0704.3773] AVOIDING ROTATED BITBOARDS WITH DIRECT LOOKUP</title><meta property="og:description" content="This paper describes an approach for obtaining direct access to the attacked
squares of sliding pieces without resorting to rotated
bitboards. The technique involves creating four hash tables using the
built in hash ar…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="AVOIDING ROTATED BITBOARDS WITH DIRECT LOOKUP">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="AVOIDING ROTATED BITBOARDS WITH DIRECT LOOKUP">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/0704.3773">

<!--Generated on Fri Mar  8 17:08:07 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.7.9.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.7.9.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<div id="p1" class="ltx_para">
<p id="p1.1" class="ltx_p">numbers=left,
stepnumber=1,
numberstyle=<span id="p1.1.1" class="ltx_text ltx_font_sansserif" style="font-size:70%;">,numbersep=10pt</span>

</p>
</div>
<h1 class="ltx_title ltx_title_document">AVOIDING ROTATED BITBOARDS WITH DIRECT LOOKUP</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Sam Tannous
</span><span class="ltx_author_notes">email:sam.tannous@gmail.com
<span class="ltx_contact ltx_role_affiliation">Durham, North Carolina, USA
</span></span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id1.id1" class="ltx_p">This paper describes an approach for obtaining direct access to the attacked
squares of sliding pieces without resorting to rotated
bitboards. The technique involves creating four hash tables using the
built in hash arrays from an interpreted, high level language.
The rank, file, and diagonal occupancy are first isolated by masking
the desired portion of the board. The attacked squares are then directly retrieved
from the hash tables.
Maintaining incrementally updated rotated bitboards
becomes unnecessary as does all the updating, mapping and shifting
required to access the attacked squares. Finally, rotated bitboard
move generation speed is compared with that of the direct hash table lookup
method.</p>
</div>
<span id="id1" class="ltx_note ltx_note_frontmatter ltx_role_issue"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">issue: </span>March, 2007</span></span></span>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Prior to the their introduction by the Soviet chess program
KAISSA in the late 1960s, bitboards were used in checkers
playing programs as described in <span id="S1.p1.1.1" class="ltx_ERROR undefined">\citeaby</span>samuel59.
The elegance and performance advantages of bitboard-based
programs attracted many chess programmers and bitboards were used by
most early programs (<span id="S1.p1.1.2" class="ltx_ERROR undefined">\citeaby</span>slate78, <span id="S1.p1.1.3" class="ltx_ERROR undefined">\citeaby</span>bitman70,
and <span id="S1.p1.1.4" class="ltx_ERROR undefined">\citeaby</span>hyatt90).
But to fully exploit the performance advantages of parallel, bitwise
logical operations afforded by bitboards, most programs maintain,
and incrementally update, rotated bitboards. These rotated bitboards allow
for easy attack detection without having to loop over the squares
of a particular rank, file, or diagonal as described in <span id="S1.p1.1.5" class="ltx_ERROR undefined">\citeaby</span>heinz97
and <span id="S1.p1.1.6" class="ltx_ERROR undefined">\citeaby</span>hyatt99. The file occupancy is computed by using an
occupancy bitboard rotated 90 degrees and then using the rank attack
hash tables to find the attacked squares. Once the attacked squares are known, they are
mapped back to their original file squares for move generation.
The diagonal attacks are handled similarly except that the rotation
involved is 45 (or -45) degrees depending on which diagonal is being
investigated. These rotated occupancy bitboards are incrementally
updated after each move to avoid the performance penalty of dynamically
recreating them from scratch at every move.</p>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Direct Lookup</h2>

<div id="S2.p1" class="ltx_para">
<p id="S2.p1.1" class="ltx_p">As researchers and practitioners explore Shannon type B
approaches to chess programming <span id="S2.p1.1.1" class="ltx_ERROR undefined">\citebay</span>shannon50, code clarity
and expressive power become important in implementing complex
evaluation functions and move ordering algorithms.
Many high level programming languages (notably Python <span id="S2.p1.1.2" class="ltx_ERROR undefined">\citebay</span>python93) have
useful predefined data structures (e.g. associative arrays) which are dynamically
resizable hash tables that resolve collisions by probing techniques. The basic
lookup function used in Python is based on Algorithm D: Open Addressing with
Double Hashing from Section 6.4 in <span id="S2.p1.1.3" class="ltx_ERROR undefined">\citeaby</span>knuth98. We define four
dictionaries that are two dimensional
hash tables which the are main focus of this paper:
<span id="S2.p1.1.4" class="ltx_text ltx_font_sansserif ltx_font_bold">rank_attacks</span>,
<span id="S2.p1.1.5" class="ltx_text ltx_font_sansserif ltx_font_bold">file_attacks</span>,
<span id="S2.p1.1.6" class="ltx_text ltx_font_sansserif ltx_font_bold">diag_attacks_ne</span>,
and <span id="S2.p1.1.7" class="ltx_text ltx_font_sansserif ltx_font_bold">diag_attacks_nw</span>
representing the rank, file, and two diagonal directions (“ne” represents
the northeast A1-H8 diagonals and “nw” represents the northwest A8-H1
diagonals). In order to use these hash tables directly, we need to also
create rank, file and diagonal mask bitboards for each of the squares
(e.g. <math id="S2.p1.1.m1.4" class="ltx_Math" alttext="diag\_mask\_ne[c4]=a2|b3|c4|d5|e6|f7|g8" display="inline"><semantics id="S2.p1.1.m1.4a"><mrow id="S2.p1.1.m1.4.4" xref="S2.p1.1.m1.4.4.cmml"><mrow id="S2.p1.1.m1.1.1.1" xref="S2.p1.1.m1.1.1.1.cmml"><mi id="S2.p1.1.m1.1.1.1.3" xref="S2.p1.1.m1.1.1.1.3.cmml">d</mi><mo lspace="0em" rspace="0em" id="S2.p1.1.m1.1.1.1.2" xref="S2.p1.1.m1.1.1.1.2.cmml">​</mo><mi id="S2.p1.1.m1.1.1.1.4" xref="S2.p1.1.m1.1.1.1.4.cmml">i</mi><mo lspace="0em" rspace="0em" id="S2.p1.1.m1.1.1.1.2a" xref="S2.p1.1.m1.1.1.1.2.cmml">​</mo><mi id="S2.p1.1.m1.1.1.1.5" xref="S2.p1.1.m1.1.1.1.5.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.p1.1.m1.1.1.1.2b" xref="S2.p1.1.m1.1.1.1.2.cmml">​</mo><mi id="S2.p1.1.m1.1.1.1.6" xref="S2.p1.1.m1.1.1.1.6.cmml">g</mi><mo lspace="0em" rspace="0em" id="S2.p1.1.m1.1.1.1.2c" xref="S2.p1.1.m1.1.1.1.2.cmml">​</mo><mi mathvariant="normal" id="S2.p1.1.m1.1.1.1.7" xref="S2.p1.1.m1.1.1.1.7.cmml">_</mi><mo lspace="0em" rspace="0em" id="S2.p1.1.m1.1.1.1.2d" xref="S2.p1.1.m1.1.1.1.2.cmml">​</mo><mi id="S2.p1.1.m1.1.1.1.8" xref="S2.p1.1.m1.1.1.1.8.cmml">m</mi><mo lspace="0em" rspace="0em" id="S2.p1.1.m1.1.1.1.2e" xref="S2.p1.1.m1.1.1.1.2.cmml">​</mo><mi id="S2.p1.1.m1.1.1.1.9" xref="S2.p1.1.m1.1.1.1.9.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.p1.1.m1.1.1.1.2f" xref="S2.p1.1.m1.1.1.1.2.cmml">​</mo><mi id="S2.p1.1.m1.1.1.1.10" xref="S2.p1.1.m1.1.1.1.10.cmml">s</mi><mo lspace="0em" rspace="0em" id="S2.p1.1.m1.1.1.1.2g" xref="S2.p1.1.m1.1.1.1.2.cmml">​</mo><mi id="S2.p1.1.m1.1.1.1.11" xref="S2.p1.1.m1.1.1.1.11.cmml">k</mi><mo lspace="0em" rspace="0em" id="S2.p1.1.m1.1.1.1.2h" xref="S2.p1.1.m1.1.1.1.2.cmml">​</mo><mi mathvariant="normal" id="S2.p1.1.m1.1.1.1.12" xref="S2.p1.1.m1.1.1.1.12.cmml">_</mi><mo lspace="0em" rspace="0em" id="S2.p1.1.m1.1.1.1.2i" xref="S2.p1.1.m1.1.1.1.2.cmml">​</mo><mi id="S2.p1.1.m1.1.1.1.13" xref="S2.p1.1.m1.1.1.1.13.cmml">n</mi><mo lspace="0em" rspace="0em" id="S2.p1.1.m1.1.1.1.2j" xref="S2.p1.1.m1.1.1.1.2.cmml">​</mo><mi id="S2.p1.1.m1.1.1.1.14" xref="S2.p1.1.m1.1.1.1.14.cmml">e</mi><mo lspace="0em" rspace="0em" id="S2.p1.1.m1.1.1.1.2k" xref="S2.p1.1.m1.1.1.1.2.cmml">​</mo><mrow id="S2.p1.1.m1.1.1.1.1.1" xref="S2.p1.1.m1.1.1.1.1.2.cmml"><mo stretchy="false" id="S2.p1.1.m1.1.1.1.1.1.2" xref="S2.p1.1.m1.1.1.1.1.2.1.cmml">[</mo><mrow id="S2.p1.1.m1.1.1.1.1.1.1" xref="S2.p1.1.m1.1.1.1.1.1.1.cmml"><mi id="S2.p1.1.m1.1.1.1.1.1.1.2" xref="S2.p1.1.m1.1.1.1.1.1.1.2.cmml">c</mi><mo lspace="0em" rspace="0em" id="S2.p1.1.m1.1.1.1.1.1.1.1" xref="S2.p1.1.m1.1.1.1.1.1.1.1.cmml">​</mo><mn id="S2.p1.1.m1.1.1.1.1.1.1.3" xref="S2.p1.1.m1.1.1.1.1.1.1.3.cmml">4</mn></mrow><mo stretchy="false" id="S2.p1.1.m1.1.1.1.1.1.3" xref="S2.p1.1.m1.1.1.1.1.2.1.cmml">]</mo></mrow></mrow><mo id="S2.p1.1.m1.4.4.5" xref="S2.p1.1.m1.4.4.5.cmml">=</mo><mrow id="S2.p1.1.m1.4.4.4" xref="S2.p1.1.m1.4.4.4.cmml"><mi id="S2.p1.1.m1.4.4.4.5" xref="S2.p1.1.m1.4.4.4.5.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.p1.1.m1.4.4.4.4" xref="S2.p1.1.m1.4.4.4.4.cmml">​</mo><mn id="S2.p1.1.m1.4.4.4.6" xref="S2.p1.1.m1.4.4.4.6.cmml">2</mn><mo lspace="0em" rspace="0em" id="S2.p1.1.m1.4.4.4.4a" xref="S2.p1.1.m1.4.4.4.4.cmml">​</mo><mrow id="S2.p1.1.m1.2.2.2.1.1" xref="S2.p1.1.m1.2.2.2.1.2.cmml"><mo stretchy="false" id="S2.p1.1.m1.2.2.2.1.1.2" xref="S2.p1.1.m1.2.2.2.1.2.1.cmml">|</mo><mrow id="S2.p1.1.m1.2.2.2.1.1.1" xref="S2.p1.1.m1.2.2.2.1.1.1.cmml"><mi id="S2.p1.1.m1.2.2.2.1.1.1.2" xref="S2.p1.1.m1.2.2.2.1.1.1.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="S2.p1.1.m1.2.2.2.1.1.1.1" xref="S2.p1.1.m1.2.2.2.1.1.1.1.cmml">​</mo><mn id="S2.p1.1.m1.2.2.2.1.1.1.3" xref="S2.p1.1.m1.2.2.2.1.1.1.3.cmml">3</mn></mrow><mo stretchy="false" id="S2.p1.1.m1.2.2.2.1.1.3" xref="S2.p1.1.m1.2.2.2.1.2.1.cmml">|</mo></mrow><mo lspace="0em" rspace="0em" id="S2.p1.1.m1.4.4.4.4b" xref="S2.p1.1.m1.4.4.4.4.cmml">​</mo><mi id="S2.p1.1.m1.4.4.4.7" xref="S2.p1.1.m1.4.4.4.7.cmml">c</mi><mo lspace="0em" rspace="0em" id="S2.p1.1.m1.4.4.4.4c" xref="S2.p1.1.m1.4.4.4.4.cmml">​</mo><mn id="S2.p1.1.m1.4.4.4.8" xref="S2.p1.1.m1.4.4.4.8.cmml">4</mn><mo lspace="0em" rspace="0em" id="S2.p1.1.m1.4.4.4.4d" xref="S2.p1.1.m1.4.4.4.4.cmml">​</mo><mrow id="S2.p1.1.m1.3.3.3.2.1" xref="S2.p1.1.m1.3.3.3.2.2.cmml"><mo stretchy="false" id="S2.p1.1.m1.3.3.3.2.1.2" xref="S2.p1.1.m1.3.3.3.2.2.1.cmml">|</mo><mrow id="S2.p1.1.m1.3.3.3.2.1.1" xref="S2.p1.1.m1.3.3.3.2.1.1.cmml"><mi id="S2.p1.1.m1.3.3.3.2.1.1.2" xref="S2.p1.1.m1.3.3.3.2.1.1.2.cmml">d</mi><mo lspace="0em" rspace="0em" id="S2.p1.1.m1.3.3.3.2.1.1.1" xref="S2.p1.1.m1.3.3.3.2.1.1.1.cmml">​</mo><mn id="S2.p1.1.m1.3.3.3.2.1.1.3" xref="S2.p1.1.m1.3.3.3.2.1.1.3.cmml">5</mn></mrow><mo stretchy="false" id="S2.p1.1.m1.3.3.3.2.1.3" xref="S2.p1.1.m1.3.3.3.2.2.1.cmml">|</mo></mrow><mo lspace="0em" rspace="0em" id="S2.p1.1.m1.4.4.4.4e" xref="S2.p1.1.m1.4.4.4.4.cmml">​</mo><mi id="S2.p1.1.m1.4.4.4.9" xref="S2.p1.1.m1.4.4.4.9.cmml">e</mi><mo lspace="0em" rspace="0em" id="S2.p1.1.m1.4.4.4.4f" xref="S2.p1.1.m1.4.4.4.4.cmml">​</mo><mn id="S2.p1.1.m1.4.4.4.10" xref="S2.p1.1.m1.4.4.4.10.cmml">6</mn><mo lspace="0em" rspace="0em" id="S2.p1.1.m1.4.4.4.4g" xref="S2.p1.1.m1.4.4.4.4.cmml">​</mo><mrow id="S2.p1.1.m1.4.4.4.3.1" xref="S2.p1.1.m1.4.4.4.3.2.cmml"><mo stretchy="false" id="S2.p1.1.m1.4.4.4.3.1.2" xref="S2.p1.1.m1.4.4.4.3.2.1.cmml">|</mo><mrow id="S2.p1.1.m1.4.4.4.3.1.1" xref="S2.p1.1.m1.4.4.4.3.1.1.cmml"><mi id="S2.p1.1.m1.4.4.4.3.1.1.2" xref="S2.p1.1.m1.4.4.4.3.1.1.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S2.p1.1.m1.4.4.4.3.1.1.1" xref="S2.p1.1.m1.4.4.4.3.1.1.1.cmml">​</mo><mn id="S2.p1.1.m1.4.4.4.3.1.1.3" xref="S2.p1.1.m1.4.4.4.3.1.1.3.cmml">7</mn></mrow><mo stretchy="false" id="S2.p1.1.m1.4.4.4.3.1.3" xref="S2.p1.1.m1.4.4.4.3.2.1.cmml">|</mo></mrow><mo lspace="0em" rspace="0em" id="S2.p1.1.m1.4.4.4.4h" xref="S2.p1.1.m1.4.4.4.4.cmml">​</mo><mi id="S2.p1.1.m1.4.4.4.11" xref="S2.p1.1.m1.4.4.4.11.cmml">g</mi><mo lspace="0em" rspace="0em" id="S2.p1.1.m1.4.4.4.4i" xref="S2.p1.1.m1.4.4.4.4.cmml">​</mo><mn id="S2.p1.1.m1.4.4.4.12" xref="S2.p1.1.m1.4.4.4.12.cmml">8</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.p1.1.m1.4b"><apply id="S2.p1.1.m1.4.4.cmml" xref="S2.p1.1.m1.4.4"><eq id="S2.p1.1.m1.4.4.5.cmml" xref="S2.p1.1.m1.4.4.5"></eq><apply id="S2.p1.1.m1.1.1.1.cmml" xref="S2.p1.1.m1.1.1.1"><times id="S2.p1.1.m1.1.1.1.2.cmml" xref="S2.p1.1.m1.1.1.1.2"></times><ci id="S2.p1.1.m1.1.1.1.3.cmml" xref="S2.p1.1.m1.1.1.1.3">𝑑</ci><ci id="S2.p1.1.m1.1.1.1.4.cmml" xref="S2.p1.1.m1.1.1.1.4">𝑖</ci><ci id="S2.p1.1.m1.1.1.1.5.cmml" xref="S2.p1.1.m1.1.1.1.5">𝑎</ci><ci id="S2.p1.1.m1.1.1.1.6.cmml" xref="S2.p1.1.m1.1.1.1.6">𝑔</ci><ci id="S2.p1.1.m1.1.1.1.7.cmml" xref="S2.p1.1.m1.1.1.1.7">_</ci><ci id="S2.p1.1.m1.1.1.1.8.cmml" xref="S2.p1.1.m1.1.1.1.8">𝑚</ci><ci id="S2.p1.1.m1.1.1.1.9.cmml" xref="S2.p1.1.m1.1.1.1.9">𝑎</ci><ci id="S2.p1.1.m1.1.1.1.10.cmml" xref="S2.p1.1.m1.1.1.1.10">𝑠</ci><ci id="S2.p1.1.m1.1.1.1.11.cmml" xref="S2.p1.1.m1.1.1.1.11">𝑘</ci><ci id="S2.p1.1.m1.1.1.1.12.cmml" xref="S2.p1.1.m1.1.1.1.12">_</ci><ci id="S2.p1.1.m1.1.1.1.13.cmml" xref="S2.p1.1.m1.1.1.1.13">𝑛</ci><ci id="S2.p1.1.m1.1.1.1.14.cmml" xref="S2.p1.1.m1.1.1.1.14">𝑒</ci><apply id="S2.p1.1.m1.1.1.1.1.2.cmml" xref="S2.p1.1.m1.1.1.1.1.1"><csymbol cd="latexml" id="S2.p1.1.m1.1.1.1.1.2.1.cmml" xref="S2.p1.1.m1.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S2.p1.1.m1.1.1.1.1.1.1.cmml" xref="S2.p1.1.m1.1.1.1.1.1.1"><times id="S2.p1.1.m1.1.1.1.1.1.1.1.cmml" xref="S2.p1.1.m1.1.1.1.1.1.1.1"></times><ci id="S2.p1.1.m1.1.1.1.1.1.1.2.cmml" xref="S2.p1.1.m1.1.1.1.1.1.1.2">𝑐</ci><cn type="integer" id="S2.p1.1.m1.1.1.1.1.1.1.3.cmml" xref="S2.p1.1.m1.1.1.1.1.1.1.3">4</cn></apply></apply></apply><apply id="S2.p1.1.m1.4.4.4.cmml" xref="S2.p1.1.m1.4.4.4"><times id="S2.p1.1.m1.4.4.4.4.cmml" xref="S2.p1.1.m1.4.4.4.4"></times><ci id="S2.p1.1.m1.4.4.4.5.cmml" xref="S2.p1.1.m1.4.4.4.5">𝑎</ci><cn type="integer" id="S2.p1.1.m1.4.4.4.6.cmml" xref="S2.p1.1.m1.4.4.4.6">2</cn><apply id="S2.p1.1.m1.2.2.2.1.2.cmml" xref="S2.p1.1.m1.2.2.2.1.1"><abs id="S2.p1.1.m1.2.2.2.1.2.1.cmml" xref="S2.p1.1.m1.2.2.2.1.1.2"></abs><apply id="S2.p1.1.m1.2.2.2.1.1.1.cmml" xref="S2.p1.1.m1.2.2.2.1.1.1"><times id="S2.p1.1.m1.2.2.2.1.1.1.1.cmml" xref="S2.p1.1.m1.2.2.2.1.1.1.1"></times><ci id="S2.p1.1.m1.2.2.2.1.1.1.2.cmml" xref="S2.p1.1.m1.2.2.2.1.1.1.2">𝑏</ci><cn type="integer" id="S2.p1.1.m1.2.2.2.1.1.1.3.cmml" xref="S2.p1.1.m1.2.2.2.1.1.1.3">3</cn></apply></apply><ci id="S2.p1.1.m1.4.4.4.7.cmml" xref="S2.p1.1.m1.4.4.4.7">𝑐</ci><cn type="integer" id="S2.p1.1.m1.4.4.4.8.cmml" xref="S2.p1.1.m1.4.4.4.8">4</cn><apply id="S2.p1.1.m1.3.3.3.2.2.cmml" xref="S2.p1.1.m1.3.3.3.2.1"><abs id="S2.p1.1.m1.3.3.3.2.2.1.cmml" xref="S2.p1.1.m1.3.3.3.2.1.2"></abs><apply id="S2.p1.1.m1.3.3.3.2.1.1.cmml" xref="S2.p1.1.m1.3.3.3.2.1.1"><times id="S2.p1.1.m1.3.3.3.2.1.1.1.cmml" xref="S2.p1.1.m1.3.3.3.2.1.1.1"></times><ci id="S2.p1.1.m1.3.3.3.2.1.1.2.cmml" xref="S2.p1.1.m1.3.3.3.2.1.1.2">𝑑</ci><cn type="integer" id="S2.p1.1.m1.3.3.3.2.1.1.3.cmml" xref="S2.p1.1.m1.3.3.3.2.1.1.3">5</cn></apply></apply><ci id="S2.p1.1.m1.4.4.4.9.cmml" xref="S2.p1.1.m1.4.4.4.9">𝑒</ci><cn type="integer" id="S2.p1.1.m1.4.4.4.10.cmml" xref="S2.p1.1.m1.4.4.4.10">6</cn><apply id="S2.p1.1.m1.4.4.4.3.2.cmml" xref="S2.p1.1.m1.4.4.4.3.1"><abs id="S2.p1.1.m1.4.4.4.3.2.1.cmml" xref="S2.p1.1.m1.4.4.4.3.1.2"></abs><apply id="S2.p1.1.m1.4.4.4.3.1.1.cmml" xref="S2.p1.1.m1.4.4.4.3.1.1"><times id="S2.p1.1.m1.4.4.4.3.1.1.1.cmml" xref="S2.p1.1.m1.4.4.4.3.1.1.1"></times><ci id="S2.p1.1.m1.4.4.4.3.1.1.2.cmml" xref="S2.p1.1.m1.4.4.4.3.1.1.2">𝑓</ci><cn type="integer" id="S2.p1.1.m1.4.4.4.3.1.1.3.cmml" xref="S2.p1.1.m1.4.4.4.3.1.1.3">7</cn></apply></apply><ci id="S2.p1.1.m1.4.4.4.11.cmml" xref="S2.p1.1.m1.4.4.4.11">𝑔</ci><cn type="integer" id="S2.p1.1.m1.4.4.4.12.cmml" xref="S2.p1.1.m1.4.4.4.12">8</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.1.m1.4c">diag\_mask\_ne[c4]=a2|b3|c4|d5|e6|f7|g8</annotation></semantics></math>).
These hash tables only need to be
generated at startup. The initial cost of calculating these tables
can be avoided altogether if the table
values are stored in a file and simply retrieved.</p>
</div>
<figure id="S2.F1" class="ltx_figure"><img src="/html/0704.3773/assets/fig1.jpg" id="S2.F1.1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="457" height="221" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>C4 White Bishop Attacks and Attacked Squares Bitboard</figcaption>
</figure>
<div id="S2.p2" class="ltx_para">
<p id="S2.p2.1" class="ltx_p">The first dimension represents the
location of the attacking (sliding) piece and the second dimension represents
the occupancy of the particular rank, file, or diagonal. The first dimension has
64 possible values and the second has 256 possible values (except for the
diagonals with fewer then eight squares). While
the sizes of these hash tables are small, the actual values are fairly large
(up to <math id="S2.p2.1.m1.1" class="ltx_Math" alttext="2^{64}-1" display="inline"><semantics id="S2.p2.1.m1.1a"><mrow id="S2.p2.1.m1.1.1" xref="S2.p2.1.m1.1.1.cmml"><msup id="S2.p2.1.m1.1.1.2" xref="S2.p2.1.m1.1.1.2.cmml"><mn id="S2.p2.1.m1.1.1.2.2" xref="S2.p2.1.m1.1.1.2.2.cmml">2</mn><mn id="S2.p2.1.m1.1.1.2.3" xref="S2.p2.1.m1.1.1.2.3.cmml">64</mn></msup><mo id="S2.p2.1.m1.1.1.1" xref="S2.p2.1.m1.1.1.1.cmml">−</mo><mn id="S2.p2.1.m1.1.1.3" xref="S2.p2.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.p2.1.m1.1b"><apply id="S2.p2.1.m1.1.1.cmml" xref="S2.p2.1.m1.1.1"><minus id="S2.p2.1.m1.1.1.1.cmml" xref="S2.p2.1.m1.1.1.1"></minus><apply id="S2.p2.1.m1.1.1.2.cmml" xref="S2.p2.1.m1.1.1.2"><csymbol cd="ambiguous" id="S2.p2.1.m1.1.1.2.1.cmml" xref="S2.p2.1.m1.1.1.2">superscript</csymbol><cn type="integer" id="S2.p2.1.m1.1.1.2.2.cmml" xref="S2.p2.1.m1.1.1.2.2">2</cn><cn type="integer" id="S2.p2.1.m1.1.1.2.3.cmml" xref="S2.p2.1.m1.1.1.2.3">64</cn></apply><cn type="integer" id="S2.p2.1.m1.1.1.3.cmml" xref="S2.p2.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p2.1.m1.1c">2^{64}-1</annotation></semantics></math>). The reason for this is that these hash tables are called
directly from the bitboard values retrieved from the chess board.
In Figure <a href="#S2.F1" title="Figure 1 ‣ 2 Direct Lookup ‣ AVOIDING ROTATED BITBOARDS WITH DIRECT LOOKUP" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, the squares attacked by the bishop at square c4
would ideally be found by simply calculating the occupancy of the two diagonals
intersecting at the square c4 and then performing a logical OR of the attacked
squares provided by direct lookup of the two diagonal hash tables
and then removing squares occupied by friendly pieces.
The techniques described in this paper provide the attacked squares
that are both unoccupied and occupied. These same attack
vectors are also used in evaluation functions that require attacks from
a certain square as well as attacks on a certain square.</p>
</div>
<section id="S2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1 </span>Rank Attacks</h3>

<div id="S2.SS1.p1" class="ltx_para">
<p id="S2.SS1.p1.1" class="ltx_p">The rank attack hash array can best be understood by starting with the
first rank. (Note: in the subsequent listings, the convenience variables
for each square are created so that h1=1,
a1=128, h8=72057594037927936, a8=9223372036854775808, etc.)
The rank attack for the first rank is given by the following:</p>
</div>
<div id="S2.SS1.p2" class="ltx_para">
<table id="S2.Ex1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.Ex1.m1.2" class="ltx_Math" alttext="rank\_attacks_{rank_{1}}(p_{rank_{1}},o_{rank_{1}})=\sum_{i=l}^{p_{rank_{1}}-1}B_{i}+\sum_{i=p_{rank_{1}}+1}^{r}B_{i}" display="block"><semantics id="S2.Ex1.m1.2a"><mrow id="S2.Ex1.m1.2.2" xref="S2.Ex1.m1.2.2.cmml"><mrow id="S2.Ex1.m1.2.2.2" xref="S2.Ex1.m1.2.2.2.cmml"><mi id="S2.Ex1.m1.2.2.2.4" xref="S2.Ex1.m1.2.2.2.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.Ex1.m1.2.2.2.3" xref="S2.Ex1.m1.2.2.2.3.cmml">​</mo><mi id="S2.Ex1.m1.2.2.2.5" xref="S2.Ex1.m1.2.2.2.5.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.Ex1.m1.2.2.2.3a" xref="S2.Ex1.m1.2.2.2.3.cmml">​</mo><mi id="S2.Ex1.m1.2.2.2.6" xref="S2.Ex1.m1.2.2.2.6.cmml">n</mi><mo lspace="0em" rspace="0em" id="S2.Ex1.m1.2.2.2.3b" xref="S2.Ex1.m1.2.2.2.3.cmml">​</mo><mi id="S2.Ex1.m1.2.2.2.7" xref="S2.Ex1.m1.2.2.2.7.cmml">k</mi><mo lspace="0em" rspace="0em" id="S2.Ex1.m1.2.2.2.3c" xref="S2.Ex1.m1.2.2.2.3.cmml">​</mo><mi mathvariant="normal" id="S2.Ex1.m1.2.2.2.8" xref="S2.Ex1.m1.2.2.2.8.cmml">_</mi><mo lspace="0em" rspace="0em" id="S2.Ex1.m1.2.2.2.3d" xref="S2.Ex1.m1.2.2.2.3.cmml">​</mo><mi id="S2.Ex1.m1.2.2.2.9" xref="S2.Ex1.m1.2.2.2.9.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.Ex1.m1.2.2.2.3e" xref="S2.Ex1.m1.2.2.2.3.cmml">​</mo><mi id="S2.Ex1.m1.2.2.2.10" xref="S2.Ex1.m1.2.2.2.10.cmml">t</mi><mo lspace="0em" rspace="0em" id="S2.Ex1.m1.2.2.2.3f" xref="S2.Ex1.m1.2.2.2.3.cmml">​</mo><mi id="S2.Ex1.m1.2.2.2.11" xref="S2.Ex1.m1.2.2.2.11.cmml">t</mi><mo lspace="0em" rspace="0em" id="S2.Ex1.m1.2.2.2.3g" xref="S2.Ex1.m1.2.2.2.3.cmml">​</mo><mi id="S2.Ex1.m1.2.2.2.12" xref="S2.Ex1.m1.2.2.2.12.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.Ex1.m1.2.2.2.3h" xref="S2.Ex1.m1.2.2.2.3.cmml">​</mo><mi id="S2.Ex1.m1.2.2.2.13" xref="S2.Ex1.m1.2.2.2.13.cmml">c</mi><mo lspace="0em" rspace="0em" id="S2.Ex1.m1.2.2.2.3i" xref="S2.Ex1.m1.2.2.2.3.cmml">​</mo><mi id="S2.Ex1.m1.2.2.2.14" xref="S2.Ex1.m1.2.2.2.14.cmml">k</mi><mo lspace="0em" rspace="0em" id="S2.Ex1.m1.2.2.2.3j" xref="S2.Ex1.m1.2.2.2.3.cmml">​</mo><msub id="S2.Ex1.m1.2.2.2.15" xref="S2.Ex1.m1.2.2.2.15.cmml"><mi id="S2.Ex1.m1.2.2.2.15.2" xref="S2.Ex1.m1.2.2.2.15.2.cmml">s</mi><mrow id="S2.Ex1.m1.2.2.2.15.3" xref="S2.Ex1.m1.2.2.2.15.3.cmml"><mi id="S2.Ex1.m1.2.2.2.15.3.2" xref="S2.Ex1.m1.2.2.2.15.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.Ex1.m1.2.2.2.15.3.1" xref="S2.Ex1.m1.2.2.2.15.3.1.cmml">​</mo><mi id="S2.Ex1.m1.2.2.2.15.3.3" xref="S2.Ex1.m1.2.2.2.15.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.Ex1.m1.2.2.2.15.3.1a" xref="S2.Ex1.m1.2.2.2.15.3.1.cmml">​</mo><mi id="S2.Ex1.m1.2.2.2.15.3.4" xref="S2.Ex1.m1.2.2.2.15.3.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="S2.Ex1.m1.2.2.2.15.3.1b" xref="S2.Ex1.m1.2.2.2.15.3.1.cmml">​</mo><msub id="S2.Ex1.m1.2.2.2.15.3.5" xref="S2.Ex1.m1.2.2.2.15.3.5.cmml"><mi id="S2.Ex1.m1.2.2.2.15.3.5.2" xref="S2.Ex1.m1.2.2.2.15.3.5.2.cmml">k</mi><mn id="S2.Ex1.m1.2.2.2.15.3.5.3" xref="S2.Ex1.m1.2.2.2.15.3.5.3.cmml">1</mn></msub></mrow></msub><mo lspace="0em" rspace="0em" id="S2.Ex1.m1.2.2.2.3k" xref="S2.Ex1.m1.2.2.2.3.cmml">​</mo><mrow id="S2.Ex1.m1.2.2.2.2.2" xref="S2.Ex1.m1.2.2.2.2.3.cmml"><mo stretchy="false" id="S2.Ex1.m1.2.2.2.2.2.3" xref="S2.Ex1.m1.2.2.2.2.3.cmml">(</mo><msub id="S2.Ex1.m1.1.1.1.1.1.1" xref="S2.Ex1.m1.1.1.1.1.1.1.cmml"><mi id="S2.Ex1.m1.1.1.1.1.1.1.2" xref="S2.Ex1.m1.1.1.1.1.1.1.2.cmml">p</mi><mrow id="S2.Ex1.m1.1.1.1.1.1.1.3" xref="S2.Ex1.m1.1.1.1.1.1.1.3.cmml"><mi id="S2.Ex1.m1.1.1.1.1.1.1.3.2" xref="S2.Ex1.m1.1.1.1.1.1.1.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.Ex1.m1.1.1.1.1.1.1.3.1" xref="S2.Ex1.m1.1.1.1.1.1.1.3.1.cmml">​</mo><mi id="S2.Ex1.m1.1.1.1.1.1.1.3.3" xref="S2.Ex1.m1.1.1.1.1.1.1.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.Ex1.m1.1.1.1.1.1.1.3.1a" xref="S2.Ex1.m1.1.1.1.1.1.1.3.1.cmml">​</mo><mi id="S2.Ex1.m1.1.1.1.1.1.1.3.4" xref="S2.Ex1.m1.1.1.1.1.1.1.3.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="S2.Ex1.m1.1.1.1.1.1.1.3.1b" xref="S2.Ex1.m1.1.1.1.1.1.1.3.1.cmml">​</mo><msub id="S2.Ex1.m1.1.1.1.1.1.1.3.5" xref="S2.Ex1.m1.1.1.1.1.1.1.3.5.cmml"><mi id="S2.Ex1.m1.1.1.1.1.1.1.3.5.2" xref="S2.Ex1.m1.1.1.1.1.1.1.3.5.2.cmml">k</mi><mn id="S2.Ex1.m1.1.1.1.1.1.1.3.5.3" xref="S2.Ex1.m1.1.1.1.1.1.1.3.5.3.cmml">1</mn></msub></mrow></msub><mo id="S2.Ex1.m1.2.2.2.2.2.4" xref="S2.Ex1.m1.2.2.2.2.3.cmml">,</mo><msub id="S2.Ex1.m1.2.2.2.2.2.2" xref="S2.Ex1.m1.2.2.2.2.2.2.cmml"><mi id="S2.Ex1.m1.2.2.2.2.2.2.2" xref="S2.Ex1.m1.2.2.2.2.2.2.2.cmml">o</mi><mrow id="S2.Ex1.m1.2.2.2.2.2.2.3" xref="S2.Ex1.m1.2.2.2.2.2.2.3.cmml"><mi id="S2.Ex1.m1.2.2.2.2.2.2.3.2" xref="S2.Ex1.m1.2.2.2.2.2.2.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.Ex1.m1.2.2.2.2.2.2.3.1" xref="S2.Ex1.m1.2.2.2.2.2.2.3.1.cmml">​</mo><mi id="S2.Ex1.m1.2.2.2.2.2.2.3.3" xref="S2.Ex1.m1.2.2.2.2.2.2.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.Ex1.m1.2.2.2.2.2.2.3.1a" xref="S2.Ex1.m1.2.2.2.2.2.2.3.1.cmml">​</mo><mi id="S2.Ex1.m1.2.2.2.2.2.2.3.4" xref="S2.Ex1.m1.2.2.2.2.2.2.3.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="S2.Ex1.m1.2.2.2.2.2.2.3.1b" xref="S2.Ex1.m1.2.2.2.2.2.2.3.1.cmml">​</mo><msub id="S2.Ex1.m1.2.2.2.2.2.2.3.5" xref="S2.Ex1.m1.2.2.2.2.2.2.3.5.cmml"><mi id="S2.Ex1.m1.2.2.2.2.2.2.3.5.2" xref="S2.Ex1.m1.2.2.2.2.2.2.3.5.2.cmml">k</mi><mn id="S2.Ex1.m1.2.2.2.2.2.2.3.5.3" xref="S2.Ex1.m1.2.2.2.2.2.2.3.5.3.cmml">1</mn></msub></mrow></msub><mo stretchy="false" id="S2.Ex1.m1.2.2.2.2.2.5" xref="S2.Ex1.m1.2.2.2.2.3.cmml">)</mo></mrow></mrow><mo rspace="0.111em" id="S2.Ex1.m1.2.2.3" xref="S2.Ex1.m1.2.2.3.cmml">=</mo><mrow id="S2.Ex1.m1.2.2.4" xref="S2.Ex1.m1.2.2.4.cmml"><mrow id="S2.Ex1.m1.2.2.4.2" xref="S2.Ex1.m1.2.2.4.2.cmml"><munderover id="S2.Ex1.m1.2.2.4.2.1" xref="S2.Ex1.m1.2.2.4.2.1.cmml"><mo movablelimits="false" id="S2.Ex1.m1.2.2.4.2.1.2.2" xref="S2.Ex1.m1.2.2.4.2.1.2.2.cmml">∑</mo><mrow id="S2.Ex1.m1.2.2.4.2.1.2.3" xref="S2.Ex1.m1.2.2.4.2.1.2.3.cmml"><mi id="S2.Ex1.m1.2.2.4.2.1.2.3.2" xref="S2.Ex1.m1.2.2.4.2.1.2.3.2.cmml">i</mi><mo id="S2.Ex1.m1.2.2.4.2.1.2.3.1" xref="S2.Ex1.m1.2.2.4.2.1.2.3.1.cmml">=</mo><mi id="S2.Ex1.m1.2.2.4.2.1.2.3.3" xref="S2.Ex1.m1.2.2.4.2.1.2.3.3.cmml">l</mi></mrow><mrow id="S2.Ex1.m1.2.2.4.2.1.3" xref="S2.Ex1.m1.2.2.4.2.1.3.cmml"><msub id="S2.Ex1.m1.2.2.4.2.1.3.2" xref="S2.Ex1.m1.2.2.4.2.1.3.2.cmml"><mi id="S2.Ex1.m1.2.2.4.2.1.3.2.2" xref="S2.Ex1.m1.2.2.4.2.1.3.2.2.cmml">p</mi><mrow id="S2.Ex1.m1.2.2.4.2.1.3.2.3" xref="S2.Ex1.m1.2.2.4.2.1.3.2.3.cmml"><mi id="S2.Ex1.m1.2.2.4.2.1.3.2.3.2" xref="S2.Ex1.m1.2.2.4.2.1.3.2.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.Ex1.m1.2.2.4.2.1.3.2.3.1" xref="S2.Ex1.m1.2.2.4.2.1.3.2.3.1.cmml">​</mo><mi id="S2.Ex1.m1.2.2.4.2.1.3.2.3.3" xref="S2.Ex1.m1.2.2.4.2.1.3.2.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.Ex1.m1.2.2.4.2.1.3.2.3.1a" xref="S2.Ex1.m1.2.2.4.2.1.3.2.3.1.cmml">​</mo><mi id="S2.Ex1.m1.2.2.4.2.1.3.2.3.4" xref="S2.Ex1.m1.2.2.4.2.1.3.2.3.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="S2.Ex1.m1.2.2.4.2.1.3.2.3.1b" xref="S2.Ex1.m1.2.2.4.2.1.3.2.3.1.cmml">​</mo><msub id="S2.Ex1.m1.2.2.4.2.1.3.2.3.5" xref="S2.Ex1.m1.2.2.4.2.1.3.2.3.5.cmml"><mi id="S2.Ex1.m1.2.2.4.2.1.3.2.3.5.2" xref="S2.Ex1.m1.2.2.4.2.1.3.2.3.5.2.cmml">k</mi><mn id="S2.Ex1.m1.2.2.4.2.1.3.2.3.5.3" xref="S2.Ex1.m1.2.2.4.2.1.3.2.3.5.3.cmml">1</mn></msub></mrow></msub><mo id="S2.Ex1.m1.2.2.4.2.1.3.1" xref="S2.Ex1.m1.2.2.4.2.1.3.1.cmml">−</mo><mn id="S2.Ex1.m1.2.2.4.2.1.3.3" xref="S2.Ex1.m1.2.2.4.2.1.3.3.cmml">1</mn></mrow></munderover><msub id="S2.Ex1.m1.2.2.4.2.2" xref="S2.Ex1.m1.2.2.4.2.2.cmml"><mi id="S2.Ex1.m1.2.2.4.2.2.2" xref="S2.Ex1.m1.2.2.4.2.2.2.cmml">B</mi><mi id="S2.Ex1.m1.2.2.4.2.2.3" xref="S2.Ex1.m1.2.2.4.2.2.3.cmml">i</mi></msub></mrow><mo rspace="0.055em" id="S2.Ex1.m1.2.2.4.1" xref="S2.Ex1.m1.2.2.4.1.cmml">+</mo><mrow id="S2.Ex1.m1.2.2.4.3" xref="S2.Ex1.m1.2.2.4.3.cmml"><munderover id="S2.Ex1.m1.2.2.4.3.1" xref="S2.Ex1.m1.2.2.4.3.1.cmml"><mo movablelimits="false" id="S2.Ex1.m1.2.2.4.3.1.2.2" xref="S2.Ex1.m1.2.2.4.3.1.2.2.cmml">∑</mo><mrow id="S2.Ex1.m1.2.2.4.3.1.2.3" xref="S2.Ex1.m1.2.2.4.3.1.2.3.cmml"><mi id="S2.Ex1.m1.2.2.4.3.1.2.3.2" xref="S2.Ex1.m1.2.2.4.3.1.2.3.2.cmml">i</mi><mo id="S2.Ex1.m1.2.2.4.3.1.2.3.1" xref="S2.Ex1.m1.2.2.4.3.1.2.3.1.cmml">=</mo><mrow id="S2.Ex1.m1.2.2.4.3.1.2.3.3" xref="S2.Ex1.m1.2.2.4.3.1.2.3.3.cmml"><msub id="S2.Ex1.m1.2.2.4.3.1.2.3.3.2" xref="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.cmml"><mi id="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.2" xref="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.2.cmml">p</mi><mrow id="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.3" xref="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.3.cmml"><mi id="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.3.2" xref="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.3.1" xref="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.3.1.cmml">​</mo><mi id="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.3.3" xref="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.3.1a" xref="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.3.1.cmml">​</mo><mi id="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.3.4" xref="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.3.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.3.1b" xref="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.3.1.cmml">​</mo><msub id="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.3.5" xref="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.3.5.cmml"><mi id="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.3.5.2" xref="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.3.5.2.cmml">k</mi><mn id="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.3.5.3" xref="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.3.5.3.cmml">1</mn></msub></mrow></msub><mo id="S2.Ex1.m1.2.2.4.3.1.2.3.3.1" xref="S2.Ex1.m1.2.2.4.3.1.2.3.3.1.cmml">+</mo><mn id="S2.Ex1.m1.2.2.4.3.1.2.3.3.3" xref="S2.Ex1.m1.2.2.4.3.1.2.3.3.3.cmml">1</mn></mrow></mrow><mi id="S2.Ex1.m1.2.2.4.3.1.3" xref="S2.Ex1.m1.2.2.4.3.1.3.cmml">r</mi></munderover><msub id="S2.Ex1.m1.2.2.4.3.2" xref="S2.Ex1.m1.2.2.4.3.2.cmml"><mi id="S2.Ex1.m1.2.2.4.3.2.2" xref="S2.Ex1.m1.2.2.4.3.2.2.cmml">B</mi><mi id="S2.Ex1.m1.2.2.4.3.2.3" xref="S2.Ex1.m1.2.2.4.3.2.3.cmml">i</mi></msub></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.Ex1.m1.2b"><apply id="S2.Ex1.m1.2.2.cmml" xref="S2.Ex1.m1.2.2"><eq id="S2.Ex1.m1.2.2.3.cmml" xref="S2.Ex1.m1.2.2.3"></eq><apply id="S2.Ex1.m1.2.2.2.cmml" xref="S2.Ex1.m1.2.2.2"><times id="S2.Ex1.m1.2.2.2.3.cmml" xref="S2.Ex1.m1.2.2.2.3"></times><ci id="S2.Ex1.m1.2.2.2.4.cmml" xref="S2.Ex1.m1.2.2.2.4">𝑟</ci><ci id="S2.Ex1.m1.2.2.2.5.cmml" xref="S2.Ex1.m1.2.2.2.5">𝑎</ci><ci id="S2.Ex1.m1.2.2.2.6.cmml" xref="S2.Ex1.m1.2.2.2.6">𝑛</ci><ci id="S2.Ex1.m1.2.2.2.7.cmml" xref="S2.Ex1.m1.2.2.2.7">𝑘</ci><ci id="S2.Ex1.m1.2.2.2.8.cmml" xref="S2.Ex1.m1.2.2.2.8">_</ci><ci id="S2.Ex1.m1.2.2.2.9.cmml" xref="S2.Ex1.m1.2.2.2.9">𝑎</ci><ci id="S2.Ex1.m1.2.2.2.10.cmml" xref="S2.Ex1.m1.2.2.2.10">𝑡</ci><ci id="S2.Ex1.m1.2.2.2.11.cmml" xref="S2.Ex1.m1.2.2.2.11">𝑡</ci><ci id="S2.Ex1.m1.2.2.2.12.cmml" xref="S2.Ex1.m1.2.2.2.12">𝑎</ci><ci id="S2.Ex1.m1.2.2.2.13.cmml" xref="S2.Ex1.m1.2.2.2.13">𝑐</ci><ci id="S2.Ex1.m1.2.2.2.14.cmml" xref="S2.Ex1.m1.2.2.2.14">𝑘</ci><apply id="S2.Ex1.m1.2.2.2.15.cmml" xref="S2.Ex1.m1.2.2.2.15"><csymbol cd="ambiguous" id="S2.Ex1.m1.2.2.2.15.1.cmml" xref="S2.Ex1.m1.2.2.2.15">subscript</csymbol><ci id="S2.Ex1.m1.2.2.2.15.2.cmml" xref="S2.Ex1.m1.2.2.2.15.2">𝑠</ci><apply id="S2.Ex1.m1.2.2.2.15.3.cmml" xref="S2.Ex1.m1.2.2.2.15.3"><times id="S2.Ex1.m1.2.2.2.15.3.1.cmml" xref="S2.Ex1.m1.2.2.2.15.3.1"></times><ci id="S2.Ex1.m1.2.2.2.15.3.2.cmml" xref="S2.Ex1.m1.2.2.2.15.3.2">𝑟</ci><ci id="S2.Ex1.m1.2.2.2.15.3.3.cmml" xref="S2.Ex1.m1.2.2.2.15.3.3">𝑎</ci><ci id="S2.Ex1.m1.2.2.2.15.3.4.cmml" xref="S2.Ex1.m1.2.2.2.15.3.4">𝑛</ci><apply id="S2.Ex1.m1.2.2.2.15.3.5.cmml" xref="S2.Ex1.m1.2.2.2.15.3.5"><csymbol cd="ambiguous" id="S2.Ex1.m1.2.2.2.15.3.5.1.cmml" xref="S2.Ex1.m1.2.2.2.15.3.5">subscript</csymbol><ci id="S2.Ex1.m1.2.2.2.15.3.5.2.cmml" xref="S2.Ex1.m1.2.2.2.15.3.5.2">𝑘</ci><cn type="integer" id="S2.Ex1.m1.2.2.2.15.3.5.3.cmml" xref="S2.Ex1.m1.2.2.2.15.3.5.3">1</cn></apply></apply></apply><interval closure="open" id="S2.Ex1.m1.2.2.2.2.3.cmml" xref="S2.Ex1.m1.2.2.2.2.2"><apply id="S2.Ex1.m1.1.1.1.1.1.1.cmml" xref="S2.Ex1.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.Ex1.m1.1.1.1.1.1.1.1.cmml" xref="S2.Ex1.m1.1.1.1.1.1.1">subscript</csymbol><ci id="S2.Ex1.m1.1.1.1.1.1.1.2.cmml" xref="S2.Ex1.m1.1.1.1.1.1.1.2">𝑝</ci><apply id="S2.Ex1.m1.1.1.1.1.1.1.3.cmml" xref="S2.Ex1.m1.1.1.1.1.1.1.3"><times id="S2.Ex1.m1.1.1.1.1.1.1.3.1.cmml" xref="S2.Ex1.m1.1.1.1.1.1.1.3.1"></times><ci id="S2.Ex1.m1.1.1.1.1.1.1.3.2.cmml" xref="S2.Ex1.m1.1.1.1.1.1.1.3.2">𝑟</ci><ci id="S2.Ex1.m1.1.1.1.1.1.1.3.3.cmml" xref="S2.Ex1.m1.1.1.1.1.1.1.3.3">𝑎</ci><ci id="S2.Ex1.m1.1.1.1.1.1.1.3.4.cmml" xref="S2.Ex1.m1.1.1.1.1.1.1.3.4">𝑛</ci><apply id="S2.Ex1.m1.1.1.1.1.1.1.3.5.cmml" xref="S2.Ex1.m1.1.1.1.1.1.1.3.5"><csymbol cd="ambiguous" id="S2.Ex1.m1.1.1.1.1.1.1.3.5.1.cmml" xref="S2.Ex1.m1.1.1.1.1.1.1.3.5">subscript</csymbol><ci id="S2.Ex1.m1.1.1.1.1.1.1.3.5.2.cmml" xref="S2.Ex1.m1.1.1.1.1.1.1.3.5.2">𝑘</ci><cn type="integer" id="S2.Ex1.m1.1.1.1.1.1.1.3.5.3.cmml" xref="S2.Ex1.m1.1.1.1.1.1.1.3.5.3">1</cn></apply></apply></apply><apply id="S2.Ex1.m1.2.2.2.2.2.2.cmml" xref="S2.Ex1.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S2.Ex1.m1.2.2.2.2.2.2.1.cmml" xref="S2.Ex1.m1.2.2.2.2.2.2">subscript</csymbol><ci id="S2.Ex1.m1.2.2.2.2.2.2.2.cmml" xref="S2.Ex1.m1.2.2.2.2.2.2.2">𝑜</ci><apply id="S2.Ex1.m1.2.2.2.2.2.2.3.cmml" xref="S2.Ex1.m1.2.2.2.2.2.2.3"><times id="S2.Ex1.m1.2.2.2.2.2.2.3.1.cmml" xref="S2.Ex1.m1.2.2.2.2.2.2.3.1"></times><ci id="S2.Ex1.m1.2.2.2.2.2.2.3.2.cmml" xref="S2.Ex1.m1.2.2.2.2.2.2.3.2">𝑟</ci><ci id="S2.Ex1.m1.2.2.2.2.2.2.3.3.cmml" xref="S2.Ex1.m1.2.2.2.2.2.2.3.3">𝑎</ci><ci id="S2.Ex1.m1.2.2.2.2.2.2.3.4.cmml" xref="S2.Ex1.m1.2.2.2.2.2.2.3.4">𝑛</ci><apply id="S2.Ex1.m1.2.2.2.2.2.2.3.5.cmml" xref="S2.Ex1.m1.2.2.2.2.2.2.3.5"><csymbol cd="ambiguous" id="S2.Ex1.m1.2.2.2.2.2.2.3.5.1.cmml" xref="S2.Ex1.m1.2.2.2.2.2.2.3.5">subscript</csymbol><ci id="S2.Ex1.m1.2.2.2.2.2.2.3.5.2.cmml" xref="S2.Ex1.m1.2.2.2.2.2.2.3.5.2">𝑘</ci><cn type="integer" id="S2.Ex1.m1.2.2.2.2.2.2.3.5.3.cmml" xref="S2.Ex1.m1.2.2.2.2.2.2.3.5.3">1</cn></apply></apply></apply></interval></apply><apply id="S2.Ex1.m1.2.2.4.cmml" xref="S2.Ex1.m1.2.2.4"><plus id="S2.Ex1.m1.2.2.4.1.cmml" xref="S2.Ex1.m1.2.2.4.1"></plus><apply id="S2.Ex1.m1.2.2.4.2.cmml" xref="S2.Ex1.m1.2.2.4.2"><apply id="S2.Ex1.m1.2.2.4.2.1.cmml" xref="S2.Ex1.m1.2.2.4.2.1"><csymbol cd="ambiguous" id="S2.Ex1.m1.2.2.4.2.1.1.cmml" xref="S2.Ex1.m1.2.2.4.2.1">superscript</csymbol><apply id="S2.Ex1.m1.2.2.4.2.1.2.cmml" xref="S2.Ex1.m1.2.2.4.2.1"><csymbol cd="ambiguous" id="S2.Ex1.m1.2.2.4.2.1.2.1.cmml" xref="S2.Ex1.m1.2.2.4.2.1">subscript</csymbol><sum id="S2.Ex1.m1.2.2.4.2.1.2.2.cmml" xref="S2.Ex1.m1.2.2.4.2.1.2.2"></sum><apply id="S2.Ex1.m1.2.2.4.2.1.2.3.cmml" xref="S2.Ex1.m1.2.2.4.2.1.2.3"><eq id="S2.Ex1.m1.2.2.4.2.1.2.3.1.cmml" xref="S2.Ex1.m1.2.2.4.2.1.2.3.1"></eq><ci id="S2.Ex1.m1.2.2.4.2.1.2.3.2.cmml" xref="S2.Ex1.m1.2.2.4.2.1.2.3.2">𝑖</ci><ci id="S2.Ex1.m1.2.2.4.2.1.2.3.3.cmml" xref="S2.Ex1.m1.2.2.4.2.1.2.3.3">𝑙</ci></apply></apply><apply id="S2.Ex1.m1.2.2.4.2.1.3.cmml" xref="S2.Ex1.m1.2.2.4.2.1.3"><minus id="S2.Ex1.m1.2.2.4.2.1.3.1.cmml" xref="S2.Ex1.m1.2.2.4.2.1.3.1"></minus><apply id="S2.Ex1.m1.2.2.4.2.1.3.2.cmml" xref="S2.Ex1.m1.2.2.4.2.1.3.2"><csymbol cd="ambiguous" id="S2.Ex1.m1.2.2.4.2.1.3.2.1.cmml" xref="S2.Ex1.m1.2.2.4.2.1.3.2">subscript</csymbol><ci id="S2.Ex1.m1.2.2.4.2.1.3.2.2.cmml" xref="S2.Ex1.m1.2.2.4.2.1.3.2.2">𝑝</ci><apply id="S2.Ex1.m1.2.2.4.2.1.3.2.3.cmml" xref="S2.Ex1.m1.2.2.4.2.1.3.2.3"><times id="S2.Ex1.m1.2.2.4.2.1.3.2.3.1.cmml" xref="S2.Ex1.m1.2.2.4.2.1.3.2.3.1"></times><ci id="S2.Ex1.m1.2.2.4.2.1.3.2.3.2.cmml" xref="S2.Ex1.m1.2.2.4.2.1.3.2.3.2">𝑟</ci><ci id="S2.Ex1.m1.2.2.4.2.1.3.2.3.3.cmml" xref="S2.Ex1.m1.2.2.4.2.1.3.2.3.3">𝑎</ci><ci id="S2.Ex1.m1.2.2.4.2.1.3.2.3.4.cmml" xref="S2.Ex1.m1.2.2.4.2.1.3.2.3.4">𝑛</ci><apply id="S2.Ex1.m1.2.2.4.2.1.3.2.3.5.cmml" xref="S2.Ex1.m1.2.2.4.2.1.3.2.3.5"><csymbol cd="ambiguous" id="S2.Ex1.m1.2.2.4.2.1.3.2.3.5.1.cmml" xref="S2.Ex1.m1.2.2.4.2.1.3.2.3.5">subscript</csymbol><ci id="S2.Ex1.m1.2.2.4.2.1.3.2.3.5.2.cmml" xref="S2.Ex1.m1.2.2.4.2.1.3.2.3.5.2">𝑘</ci><cn type="integer" id="S2.Ex1.m1.2.2.4.2.1.3.2.3.5.3.cmml" xref="S2.Ex1.m1.2.2.4.2.1.3.2.3.5.3">1</cn></apply></apply></apply><cn type="integer" id="S2.Ex1.m1.2.2.4.2.1.3.3.cmml" xref="S2.Ex1.m1.2.2.4.2.1.3.3">1</cn></apply></apply><apply id="S2.Ex1.m1.2.2.4.2.2.cmml" xref="S2.Ex1.m1.2.2.4.2.2"><csymbol cd="ambiguous" id="S2.Ex1.m1.2.2.4.2.2.1.cmml" xref="S2.Ex1.m1.2.2.4.2.2">subscript</csymbol><ci id="S2.Ex1.m1.2.2.4.2.2.2.cmml" xref="S2.Ex1.m1.2.2.4.2.2.2">𝐵</ci><ci id="S2.Ex1.m1.2.2.4.2.2.3.cmml" xref="S2.Ex1.m1.2.2.4.2.2.3">𝑖</ci></apply></apply><apply id="S2.Ex1.m1.2.2.4.3.cmml" xref="S2.Ex1.m1.2.2.4.3"><apply id="S2.Ex1.m1.2.2.4.3.1.cmml" xref="S2.Ex1.m1.2.2.4.3.1"><csymbol cd="ambiguous" id="S2.Ex1.m1.2.2.4.3.1.1.cmml" xref="S2.Ex1.m1.2.2.4.3.1">superscript</csymbol><apply id="S2.Ex1.m1.2.2.4.3.1.2.cmml" xref="S2.Ex1.m1.2.2.4.3.1"><csymbol cd="ambiguous" id="S2.Ex1.m1.2.2.4.3.1.2.1.cmml" xref="S2.Ex1.m1.2.2.4.3.1">subscript</csymbol><sum id="S2.Ex1.m1.2.2.4.3.1.2.2.cmml" xref="S2.Ex1.m1.2.2.4.3.1.2.2"></sum><apply id="S2.Ex1.m1.2.2.4.3.1.2.3.cmml" xref="S2.Ex1.m1.2.2.4.3.1.2.3"><eq id="S2.Ex1.m1.2.2.4.3.1.2.3.1.cmml" xref="S2.Ex1.m1.2.2.4.3.1.2.3.1"></eq><ci id="S2.Ex1.m1.2.2.4.3.1.2.3.2.cmml" xref="S2.Ex1.m1.2.2.4.3.1.2.3.2">𝑖</ci><apply id="S2.Ex1.m1.2.2.4.3.1.2.3.3.cmml" xref="S2.Ex1.m1.2.2.4.3.1.2.3.3"><plus id="S2.Ex1.m1.2.2.4.3.1.2.3.3.1.cmml" xref="S2.Ex1.m1.2.2.4.3.1.2.3.3.1"></plus><apply id="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.cmml" xref="S2.Ex1.m1.2.2.4.3.1.2.3.3.2"><csymbol cd="ambiguous" id="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.1.cmml" xref="S2.Ex1.m1.2.2.4.3.1.2.3.3.2">subscript</csymbol><ci id="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.2.cmml" xref="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.2">𝑝</ci><apply id="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.3.cmml" xref="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.3"><times id="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.3.1.cmml" xref="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.3.1"></times><ci id="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.3.2.cmml" xref="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.3.2">𝑟</ci><ci id="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.3.3.cmml" xref="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.3.3">𝑎</ci><ci id="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.3.4.cmml" xref="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.3.4">𝑛</ci><apply id="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.3.5.cmml" xref="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.3.5"><csymbol cd="ambiguous" id="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.3.5.1.cmml" xref="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.3.5">subscript</csymbol><ci id="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.3.5.2.cmml" xref="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.3.5.2">𝑘</ci><cn type="integer" id="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.3.5.3.cmml" xref="S2.Ex1.m1.2.2.4.3.1.2.3.3.2.3.5.3">1</cn></apply></apply></apply><cn type="integer" id="S2.Ex1.m1.2.2.4.3.1.2.3.3.3.cmml" xref="S2.Ex1.m1.2.2.4.3.1.2.3.3.3">1</cn></apply></apply></apply><ci id="S2.Ex1.m1.2.2.4.3.1.3.cmml" xref="S2.Ex1.m1.2.2.4.3.1.3">𝑟</ci></apply><apply id="S2.Ex1.m1.2.2.4.3.2.cmml" xref="S2.Ex1.m1.2.2.4.3.2"><csymbol cd="ambiguous" id="S2.Ex1.m1.2.2.4.3.2.1.cmml" xref="S2.Ex1.m1.2.2.4.3.2">subscript</csymbol><ci id="S2.Ex1.m1.2.2.4.3.2.2.cmml" xref="S2.Ex1.m1.2.2.4.3.2.2">𝐵</ci><ci id="S2.Ex1.m1.2.2.4.3.2.3.cmml" xref="S2.Ex1.m1.2.2.4.3.2.3">𝑖</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.Ex1.m1.2c">rank\_attacks_{rank_{1}}(p_{rank_{1}},o_{rank_{1}})=\sum_{i=l}^{p_{rank_{1}}-1}B_{i}+\sum_{i=p_{rank_{1}}+1}^{r}B_{i}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div id="S2.SS1.p3" class="ltx_para ltx_noindent">
<p id="S2.SS1.p3.5" class="ltx_p">where <math id="S2.SS1.p3.1.m1.1" class="ltx_Math" alttext="p_{rank_{1}}" display="inline"><semantics id="S2.SS1.p3.1.m1.1a"><msub id="S2.SS1.p3.1.m1.1.1" xref="S2.SS1.p3.1.m1.1.1.cmml"><mi id="S2.SS1.p3.1.m1.1.1.2" xref="S2.SS1.p3.1.m1.1.1.2.cmml">p</mi><mrow id="S2.SS1.p3.1.m1.1.1.3" xref="S2.SS1.p3.1.m1.1.1.3.cmml"><mi id="S2.SS1.p3.1.m1.1.1.3.2" xref="S2.SS1.p3.1.m1.1.1.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.SS1.p3.1.m1.1.1.3.1" xref="S2.SS1.p3.1.m1.1.1.3.1.cmml">​</mo><mi id="S2.SS1.p3.1.m1.1.1.3.3" xref="S2.SS1.p3.1.m1.1.1.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.SS1.p3.1.m1.1.1.3.1a" xref="S2.SS1.p3.1.m1.1.1.3.1.cmml">​</mo><mi id="S2.SS1.p3.1.m1.1.1.3.4" xref="S2.SS1.p3.1.m1.1.1.3.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="S2.SS1.p3.1.m1.1.1.3.1b" xref="S2.SS1.p3.1.m1.1.1.3.1.cmml">​</mo><msub id="S2.SS1.p3.1.m1.1.1.3.5" xref="S2.SS1.p3.1.m1.1.1.3.5.cmml"><mi id="S2.SS1.p3.1.m1.1.1.3.5.2" xref="S2.SS1.p3.1.m1.1.1.3.5.2.cmml">k</mi><mn id="S2.SS1.p3.1.m1.1.1.3.5.3" xref="S2.SS1.p3.1.m1.1.1.3.5.3.cmml">1</mn></msub></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS1.p3.1.m1.1b"><apply id="S2.SS1.p3.1.m1.1.1.cmml" xref="S2.SS1.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p3.1.m1.1.1.1.cmml" xref="S2.SS1.p3.1.m1.1.1">subscript</csymbol><ci id="S2.SS1.p3.1.m1.1.1.2.cmml" xref="S2.SS1.p3.1.m1.1.1.2">𝑝</ci><apply id="S2.SS1.p3.1.m1.1.1.3.cmml" xref="S2.SS1.p3.1.m1.1.1.3"><times id="S2.SS1.p3.1.m1.1.1.3.1.cmml" xref="S2.SS1.p3.1.m1.1.1.3.1"></times><ci id="S2.SS1.p3.1.m1.1.1.3.2.cmml" xref="S2.SS1.p3.1.m1.1.1.3.2">𝑟</ci><ci id="S2.SS1.p3.1.m1.1.1.3.3.cmml" xref="S2.SS1.p3.1.m1.1.1.3.3">𝑎</ci><ci id="S2.SS1.p3.1.m1.1.1.3.4.cmml" xref="S2.SS1.p3.1.m1.1.1.3.4">𝑛</ci><apply id="S2.SS1.p3.1.m1.1.1.3.5.cmml" xref="S2.SS1.p3.1.m1.1.1.3.5"><csymbol cd="ambiguous" id="S2.SS1.p3.1.m1.1.1.3.5.1.cmml" xref="S2.SS1.p3.1.m1.1.1.3.5">subscript</csymbol><ci id="S2.SS1.p3.1.m1.1.1.3.5.2.cmml" xref="S2.SS1.p3.1.m1.1.1.3.5.2">𝑘</ci><cn type="integer" id="S2.SS1.p3.1.m1.1.1.3.5.3.cmml" xref="S2.SS1.p3.1.m1.1.1.3.5.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p3.1.m1.1c">p_{rank_{1}}</annotation></semantics></math> is the position of the sliding piece (rook or queen) on the
first rank,
<math id="S2.SS1.p3.2.m2.1" class="ltx_Math" alttext="o_{rank_{1}}" display="inline"><semantics id="S2.SS1.p3.2.m2.1a"><msub id="S2.SS1.p3.2.m2.1.1" xref="S2.SS1.p3.2.m2.1.1.cmml"><mi id="S2.SS1.p3.2.m2.1.1.2" xref="S2.SS1.p3.2.m2.1.1.2.cmml">o</mi><mrow id="S2.SS1.p3.2.m2.1.1.3" xref="S2.SS1.p3.2.m2.1.1.3.cmml"><mi id="S2.SS1.p3.2.m2.1.1.3.2" xref="S2.SS1.p3.2.m2.1.1.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.SS1.p3.2.m2.1.1.3.1" xref="S2.SS1.p3.2.m2.1.1.3.1.cmml">​</mo><mi id="S2.SS1.p3.2.m2.1.1.3.3" xref="S2.SS1.p3.2.m2.1.1.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.SS1.p3.2.m2.1.1.3.1a" xref="S2.SS1.p3.2.m2.1.1.3.1.cmml">​</mo><mi id="S2.SS1.p3.2.m2.1.1.3.4" xref="S2.SS1.p3.2.m2.1.1.3.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="S2.SS1.p3.2.m2.1.1.3.1b" xref="S2.SS1.p3.2.m2.1.1.3.1.cmml">​</mo><msub id="S2.SS1.p3.2.m2.1.1.3.5" xref="S2.SS1.p3.2.m2.1.1.3.5.cmml"><mi id="S2.SS1.p3.2.m2.1.1.3.5.2" xref="S2.SS1.p3.2.m2.1.1.3.5.2.cmml">k</mi><mn id="S2.SS1.p3.2.m2.1.1.3.5.3" xref="S2.SS1.p3.2.m2.1.1.3.5.3.cmml">1</mn></msub></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS1.p3.2.m2.1b"><apply id="S2.SS1.p3.2.m2.1.1.cmml" xref="S2.SS1.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S2.SS1.p3.2.m2.1.1.1.cmml" xref="S2.SS1.p3.2.m2.1.1">subscript</csymbol><ci id="S2.SS1.p3.2.m2.1.1.2.cmml" xref="S2.SS1.p3.2.m2.1.1.2">𝑜</ci><apply id="S2.SS1.p3.2.m2.1.1.3.cmml" xref="S2.SS1.p3.2.m2.1.1.3"><times id="S2.SS1.p3.2.m2.1.1.3.1.cmml" xref="S2.SS1.p3.2.m2.1.1.3.1"></times><ci id="S2.SS1.p3.2.m2.1.1.3.2.cmml" xref="S2.SS1.p3.2.m2.1.1.3.2">𝑟</ci><ci id="S2.SS1.p3.2.m2.1.1.3.3.cmml" xref="S2.SS1.p3.2.m2.1.1.3.3">𝑎</ci><ci id="S2.SS1.p3.2.m2.1.1.3.4.cmml" xref="S2.SS1.p3.2.m2.1.1.3.4">𝑛</ci><apply id="S2.SS1.p3.2.m2.1.1.3.5.cmml" xref="S2.SS1.p3.2.m2.1.1.3.5"><csymbol cd="ambiguous" id="S2.SS1.p3.2.m2.1.1.3.5.1.cmml" xref="S2.SS1.p3.2.m2.1.1.3.5">subscript</csymbol><ci id="S2.SS1.p3.2.m2.1.1.3.5.2.cmml" xref="S2.SS1.p3.2.m2.1.1.3.5.2">𝑘</ci><cn type="integer" id="S2.SS1.p3.2.m2.1.1.3.5.3.cmml" xref="S2.SS1.p3.2.m2.1.1.3.5.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p3.2.m2.1c">o_{rank_{1}}</annotation></semantics></math> is the occupancy value for the first rank, <math id="S2.SS1.p3.3.m3.1" class="ltx_Math" alttext="l" display="inline"><semantics id="S2.SS1.p3.3.m3.1a"><mi id="S2.SS1.p3.3.m3.1.1" xref="S2.SS1.p3.3.m3.1.1.cmml">l</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p3.3.m3.1b"><ci id="S2.SS1.p3.3.m3.1.1.cmml" xref="S2.SS1.p3.3.m3.1.1">𝑙</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p3.3.m3.1c">l</annotation></semantics></math> is the first occupied
square to the left of the sliding piece, and <math id="S2.SS1.p3.4.m4.1" class="ltx_Math" alttext="r" display="inline"><semantics id="S2.SS1.p3.4.m4.1a"><mi id="S2.SS1.p3.4.m4.1.1" xref="S2.SS1.p3.4.m4.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p3.4.m4.1b"><ci id="S2.SS1.p3.4.m4.1.1.cmml" xref="S2.SS1.p3.4.m4.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p3.4.m4.1c">r</annotation></semantics></math> is the first occupied
square to the right of the sliding piece. And <math id="S2.SS1.p3.5.m5.1" class="ltx_Math" alttext="B_{i}" display="inline"><semantics id="S2.SS1.p3.5.m5.1a"><msub id="S2.SS1.p3.5.m5.1.1" xref="S2.SS1.p3.5.m5.1.1.cmml"><mi id="S2.SS1.p3.5.m5.1.1.2" xref="S2.SS1.p3.5.m5.1.1.2.cmml">B</mi><mi id="S2.SS1.p3.5.m5.1.1.3" xref="S2.SS1.p3.5.m5.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS1.p3.5.m5.1b"><apply id="S2.SS1.p3.5.m5.1.1.cmml" xref="S2.SS1.p3.5.m5.1.1"><csymbol cd="ambiguous" id="S2.SS1.p3.5.m5.1.1.1.cmml" xref="S2.SS1.p3.5.m5.1.1">subscript</csymbol><ci id="S2.SS1.p3.5.m5.1.1.2.cmml" xref="S2.SS1.p3.5.m5.1.1.2">𝐵</ci><ci id="S2.SS1.p3.5.m5.1.1.3.cmml" xref="S2.SS1.p3.5.m5.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p3.5.m5.1c">B_{i}</annotation></semantics></math> is the value given
by</p>
</div>
<div id="S2.SS1.p4" class="ltx_para">
<table id="S2.Ex2" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.Ex2.m1.5" class="ltx_Math" alttext="B_{i}=\cases{2^{i},&amp;if 1 exists at $i^{th}$ bit of $o_{rank_{1}}$;\cr 0,&amp;otherwise.\cr}" display="block"><semantics id="S2.Ex2.m1.5a"><mrow id="S2.Ex2.m1.5.6" xref="S2.Ex2.m1.5.6.cmml"><msub id="S2.Ex2.m1.5.6.2" xref="S2.Ex2.m1.5.6.2.cmml"><mi id="S2.Ex2.m1.5.6.2.2" xref="S2.Ex2.m1.5.6.2.2.cmml">B</mi><mi id="S2.Ex2.m1.5.6.2.3" xref="S2.Ex2.m1.5.6.2.3.cmml">i</mi></msub><mo id="S2.Ex2.m1.5.6.1" xref="S2.Ex2.m1.5.6.1.cmml">=</mo><mrow id="S2.Ex2.m1.5.5" xref="S2.Ex2.m1.5.6.3.1.cmml"><mo id="S2.Ex2.m1.5.5.6" xref="S2.Ex2.m1.5.6.3.1.1.cmml">{</mo><mtable columnspacing="5pt" displaystyle="true" rowspacing="0pt" id="S2.Ex2.m1.5.5.5" xref="S2.Ex2.m1.5.6.3.1.cmml"><mtr id="S2.Ex2.m1.5.5.5a" xref="S2.Ex2.m1.5.6.3.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S2.Ex2.m1.5.5.5b" xref="S2.Ex2.m1.5.6.3.1.cmml"><mrow id="S2.Ex2.m1.3.3.3.3.3.1.1" xref="S2.Ex2.m1.3.3.3.3.3.1.1.1.cmml"><msup id="S2.Ex2.m1.3.3.3.3.3.1.1.1" xref="S2.Ex2.m1.3.3.3.3.3.1.1.1.cmml"><mn id="S2.Ex2.m1.3.3.3.3.3.1.1.1.2" xref="S2.Ex2.m1.3.3.3.3.3.1.1.1.2.cmml">2</mn><mi id="S2.Ex2.m1.3.3.3.3.3.1.1.1.3" xref="S2.Ex2.m1.3.3.3.3.3.1.1.1.3.cmml">i</mi></msup><mo id="S2.Ex2.m1.3.3.3.3.3.1.1.2" xref="S2.Ex2.m1.3.3.3.3.3.1.1.1.cmml">,</mo></mrow></mtd><mtd class="ltx_align_left" columnalign="left" id="S2.Ex2.m1.5.5.5c" xref="S2.Ex2.m1.5.6.3.1.cmml"><mrow id="S2.Ex2.m1.2.2.2.2.2.2" xref="S2.Ex2.m1.2.2.2.2.2.2d.cmml"><mtext id="S2.Ex2.m1.2.2.2.2.2.2a" xref="S2.Ex2.m1.2.2.2.2.2.2d.cmml">if 1 exists at </mtext><msup id="S2.Ex2.m1.1.1.1.1.1.1.1.m1.1.1" xref="S2.Ex2.m1.1.1.1.1.1.1.1.m1.1.1.cmml"><mi id="S2.Ex2.m1.1.1.1.1.1.1.1.m1.1.1.2" xref="S2.Ex2.m1.1.1.1.1.1.1.1.m1.1.1.2.cmml">i</mi><mrow id="S2.Ex2.m1.1.1.1.1.1.1.1.m1.1.1.3" xref="S2.Ex2.m1.1.1.1.1.1.1.1.m1.1.1.3.cmml"><mi id="S2.Ex2.m1.1.1.1.1.1.1.1.m1.1.1.3.2" xref="S2.Ex2.m1.1.1.1.1.1.1.1.m1.1.1.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S2.Ex2.m1.1.1.1.1.1.1.1.m1.1.1.3.1" xref="S2.Ex2.m1.1.1.1.1.1.1.1.m1.1.1.3.1.cmml">​</mo><mi id="S2.Ex2.m1.1.1.1.1.1.1.1.m1.1.1.3.3" xref="S2.Ex2.m1.1.1.1.1.1.1.1.m1.1.1.3.3.cmml">h</mi></mrow></msup><mtext id="S2.Ex2.m1.2.2.2.2.2.2b" xref="S2.Ex2.m1.2.2.2.2.2.2d.cmml"> bit of </mtext><msub id="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1" xref="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.cmml"><mi id="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.2" xref="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.2.cmml">o</mi><mrow id="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.3" xref="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.3.cmml"><mi id="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.3.2" xref="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.3.1" xref="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.3.1.cmml">​</mo><mi id="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.3.3" xref="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.3.1a" xref="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.3.1.cmml">​</mo><mi id="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.3.4" xref="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.3.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.3.1b" xref="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.3.1.cmml">​</mo><msub id="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.3.5" xref="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.3.5.cmml"><mi id="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.3.5.2" xref="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.3.5.2.cmml">k</mi><mn id="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.3.5.3" xref="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.3.5.3.cmml">1</mn></msub></mrow></msub><mtext id="S2.Ex2.m1.2.2.2.2.2.2c" xref="S2.Ex2.m1.2.2.2.2.2.2d.cmml">;</mtext></mrow></mtd></mtr><mtr id="S2.Ex2.m1.5.5.5d" xref="S2.Ex2.m1.5.6.3.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S2.Ex2.m1.5.5.5e" xref="S2.Ex2.m1.5.6.3.1.cmml"><mrow id="S2.Ex2.m1.4.4.4.4.1.1.3" xref="S2.Ex2.m1.5.6.3.1.cmml"><mn id="S2.Ex2.m1.4.4.4.4.1.1.1" xref="S2.Ex2.m1.4.4.4.4.1.1.1.cmml">0</mn><mo id="S2.Ex2.m1.4.4.4.4.1.1.3.1" xref="S2.Ex2.m1.5.6.3.1.cmml">,</mo></mrow></mtd><mtd class="ltx_align_left" columnalign="left" id="S2.Ex2.m1.5.5.5f" xref="S2.Ex2.m1.5.6.3.1.cmml"><mtext id="S2.Ex2.m1.5.5.5.5.2.1" xref="S2.Ex2.m1.5.5.5.5.2.1a.cmml">otherwise.</mtext></mtd></mtr></mtable></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.Ex2.m1.5b"><apply id="S2.Ex2.m1.5.6.cmml" xref="S2.Ex2.m1.5.6"><eq id="S2.Ex2.m1.5.6.1.cmml" xref="S2.Ex2.m1.5.6.1"></eq><apply id="S2.Ex2.m1.5.6.2.cmml" xref="S2.Ex2.m1.5.6.2"><csymbol cd="ambiguous" id="S2.Ex2.m1.5.6.2.1.cmml" xref="S2.Ex2.m1.5.6.2">subscript</csymbol><ci id="S2.Ex2.m1.5.6.2.2.cmml" xref="S2.Ex2.m1.5.6.2.2">𝐵</ci><ci id="S2.Ex2.m1.5.6.2.3.cmml" xref="S2.Ex2.m1.5.6.2.3">𝑖</ci></apply><apply id="S2.Ex2.m1.5.6.3.1.cmml" xref="S2.Ex2.m1.5.5"><csymbol cd="latexml" id="S2.Ex2.m1.5.6.3.1.1.cmml" xref="S2.Ex2.m1.5.5.6">cases</csymbol><apply id="S2.Ex2.m1.3.3.3.3.3.1.1.1.cmml" xref="S2.Ex2.m1.3.3.3.3.3.1.1"><csymbol cd="ambiguous" id="S2.Ex2.m1.3.3.3.3.3.1.1.1.1.cmml" xref="S2.Ex2.m1.3.3.3.3.3.1.1">superscript</csymbol><cn type="integer" id="S2.Ex2.m1.3.3.3.3.3.1.1.1.2.cmml" xref="S2.Ex2.m1.3.3.3.3.3.1.1.1.2">2</cn><ci id="S2.Ex2.m1.3.3.3.3.3.1.1.1.3.cmml" xref="S2.Ex2.m1.3.3.3.3.3.1.1.1.3">𝑖</ci></apply><ci id="S2.Ex2.m1.2.2.2.2.2.2d.cmml" xref="S2.Ex2.m1.2.2.2.2.2.2"><mrow id="S2.Ex2.m1.2.2.2.2.2.2.cmml" xref="S2.Ex2.m1.2.2.2.2.2.2"><mtext id="S2.Ex2.m1.2.2.2.2.2.2a.cmml" xref="S2.Ex2.m1.2.2.2.2.2.2">if 1 exists at </mtext><msup id="S2.Ex2.m1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="S2.Ex2.m1.1.1.1.1.1.1.1.m1.1.1"><mi id="S2.Ex2.m1.1.1.1.1.1.1.1.m1.1.1.2.cmml" xref="S2.Ex2.m1.1.1.1.1.1.1.1.m1.1.1.2">i</mi><mrow id="S2.Ex2.m1.1.1.1.1.1.1.1.m1.1.1.3.cmml" xref="S2.Ex2.m1.1.1.1.1.1.1.1.m1.1.1.3"><mi id="S2.Ex2.m1.1.1.1.1.1.1.1.m1.1.1.3.2.cmml" xref="S2.Ex2.m1.1.1.1.1.1.1.1.m1.1.1.3.2">t</mi><mo id="S2.Ex2.m1.1.1.1.1.1.1.1.m1.1.1.3.1.cmml" xref="S2.Ex2.m1.1.1.1.1.1.1.1.m1.1.1.3.1" lspace='0px' rspace='0px'></mo><mi id="S2.Ex2.m1.1.1.1.1.1.1.1.m1.1.1.3.3.cmml" xref="S2.Ex2.m1.1.1.1.1.1.1.1.m1.1.1.3.3">h</mi></mrow></msup><mtext id="S2.Ex2.m1.2.2.2.2.2.2b.cmml" xref="S2.Ex2.m1.2.2.2.2.2.2"> bit of </mtext><msub id="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.cmml" xref="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1"><mi id="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.2.cmml" xref="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.2">o</mi><mrow id="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.3.cmml" xref="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.3"><mi id="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.3.2.cmml" xref="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.3.2">r</mi><mo id="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.3.1.cmml" xref="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.3.1" lspace='0px' rspace='0px'></mo><mi id="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.3.3.cmml" xref="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.3.3">a</mi><mo id="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.3.1a.cmml" xref="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.3.1" lspace='0px' rspace='0px'></mo><mi id="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.3.4.cmml" xref="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.3.4">n</mi><mo id="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.3.1b.cmml" xref="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.3.1" lspace='0px' rspace='0px'></mo><msub id="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.3.5.cmml" xref="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.3.5"><mi id="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.3.5.2.cmml" xref="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.3.5.2">k</mi><mn id="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.3.5.3.cmml" xref="S2.Ex2.m1.2.2.2.2.2.2.2.m2.1.1.3.5.3">1</mn></msub></mrow></msub><mtext id="S2.Ex2.m1.2.2.2.2.2.2c.cmml" xref="S2.Ex2.m1.2.2.2.2.2.2">;</mtext></mrow></ci><cn type="integer" id="S2.Ex2.m1.4.4.4.4.1.1.1.cmml" xref="S2.Ex2.m1.4.4.4.4.1.1.1">0</cn><ci id="S2.Ex2.m1.5.5.5.5.2.1a.cmml" xref="S2.Ex2.m1.5.5.5.5.2.1"><mtext id="S2.Ex2.m1.5.5.5.5.2.1.cmml" xref="S2.Ex2.m1.5.5.5.5.2.1">otherwise.</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.Ex2.m1.5c">B_{i}=\cases{2^{i},&amp;if 1 exists at $i^{th}$ bit of $o_{rank_{1}}$;\cr 0,&amp;otherwise.\cr}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div id="S2.SS1.p5" class="ltx_para ltx_noindent">
<p id="S2.SS1.p5.3" class="ltx_p">Then finally, to find the rank attacks at the <math id="S2.SS1.p5.1.m1.1" class="ltx_Math" alttext="i^{th}" display="inline"><semantics id="S2.SS1.p5.1.m1.1a"><msup id="S2.SS1.p5.1.m1.1.1" xref="S2.SS1.p5.1.m1.1.1.cmml"><mi id="S2.SS1.p5.1.m1.1.1.2" xref="S2.SS1.p5.1.m1.1.1.2.cmml">i</mi><mrow id="S2.SS1.p5.1.m1.1.1.3" xref="S2.SS1.p5.1.m1.1.1.3.cmml"><mi id="S2.SS1.p5.1.m1.1.1.3.2" xref="S2.SS1.p5.1.m1.1.1.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S2.SS1.p5.1.m1.1.1.3.1" xref="S2.SS1.p5.1.m1.1.1.3.1.cmml">​</mo><mi id="S2.SS1.p5.1.m1.1.1.3.3" xref="S2.SS1.p5.1.m1.1.1.3.3.cmml">h</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S2.SS1.p5.1.m1.1b"><apply id="S2.SS1.p5.1.m1.1.1.cmml" xref="S2.SS1.p5.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p5.1.m1.1.1.1.cmml" xref="S2.SS1.p5.1.m1.1.1">superscript</csymbol><ci id="S2.SS1.p5.1.m1.1.1.2.cmml" xref="S2.SS1.p5.1.m1.1.1.2">𝑖</ci><apply id="S2.SS1.p5.1.m1.1.1.3.cmml" xref="S2.SS1.p5.1.m1.1.1.3"><times id="S2.SS1.p5.1.m1.1.1.3.1.cmml" xref="S2.SS1.p5.1.m1.1.1.3.1"></times><ci id="S2.SS1.p5.1.m1.1.1.3.2.cmml" xref="S2.SS1.p5.1.m1.1.1.3.2">𝑡</ci><ci id="S2.SS1.p5.1.m1.1.1.3.3.cmml" xref="S2.SS1.p5.1.m1.1.1.3.3">ℎ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p5.1.m1.1c">i^{th}</annotation></semantics></math> rank, we
simply move this first rank value “up” in rank by multiplying
by <math id="S2.SS1.p5.2.m2.1" class="ltx_Math" alttext="256^{rank-1}" display="inline"><semantics id="S2.SS1.p5.2.m2.1a"><msup id="S2.SS1.p5.2.m2.1.1" xref="S2.SS1.p5.2.m2.1.1.cmml"><mn id="S2.SS1.p5.2.m2.1.1.2" xref="S2.SS1.p5.2.m2.1.1.2.cmml">256</mn><mrow id="S2.SS1.p5.2.m2.1.1.3" xref="S2.SS1.p5.2.m2.1.1.3.cmml"><mrow id="S2.SS1.p5.2.m2.1.1.3.2" xref="S2.SS1.p5.2.m2.1.1.3.2.cmml"><mi id="S2.SS1.p5.2.m2.1.1.3.2.2" xref="S2.SS1.p5.2.m2.1.1.3.2.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.SS1.p5.2.m2.1.1.3.2.1" xref="S2.SS1.p5.2.m2.1.1.3.2.1.cmml">​</mo><mi id="S2.SS1.p5.2.m2.1.1.3.2.3" xref="S2.SS1.p5.2.m2.1.1.3.2.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.SS1.p5.2.m2.1.1.3.2.1a" xref="S2.SS1.p5.2.m2.1.1.3.2.1.cmml">​</mo><mi id="S2.SS1.p5.2.m2.1.1.3.2.4" xref="S2.SS1.p5.2.m2.1.1.3.2.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="S2.SS1.p5.2.m2.1.1.3.2.1b" xref="S2.SS1.p5.2.m2.1.1.3.2.1.cmml">​</mo><mi id="S2.SS1.p5.2.m2.1.1.3.2.5" xref="S2.SS1.p5.2.m2.1.1.3.2.5.cmml">k</mi></mrow><mo id="S2.SS1.p5.2.m2.1.1.3.1" xref="S2.SS1.p5.2.m2.1.1.3.1.cmml">−</mo><mn id="S2.SS1.p5.2.m2.1.1.3.3" xref="S2.SS1.p5.2.m2.1.1.3.3.cmml">1</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="S2.SS1.p5.2.m2.1b"><apply id="S2.SS1.p5.2.m2.1.1.cmml" xref="S2.SS1.p5.2.m2.1.1"><csymbol cd="ambiguous" id="S2.SS1.p5.2.m2.1.1.1.cmml" xref="S2.SS1.p5.2.m2.1.1">superscript</csymbol><cn type="integer" id="S2.SS1.p5.2.m2.1.1.2.cmml" xref="S2.SS1.p5.2.m2.1.1.2">256</cn><apply id="S2.SS1.p5.2.m2.1.1.3.cmml" xref="S2.SS1.p5.2.m2.1.1.3"><minus id="S2.SS1.p5.2.m2.1.1.3.1.cmml" xref="S2.SS1.p5.2.m2.1.1.3.1"></minus><apply id="S2.SS1.p5.2.m2.1.1.3.2.cmml" xref="S2.SS1.p5.2.m2.1.1.3.2"><times id="S2.SS1.p5.2.m2.1.1.3.2.1.cmml" xref="S2.SS1.p5.2.m2.1.1.3.2.1"></times><ci id="S2.SS1.p5.2.m2.1.1.3.2.2.cmml" xref="S2.SS1.p5.2.m2.1.1.3.2.2">𝑟</ci><ci id="S2.SS1.p5.2.m2.1.1.3.2.3.cmml" xref="S2.SS1.p5.2.m2.1.1.3.2.3">𝑎</ci><ci id="S2.SS1.p5.2.m2.1.1.3.2.4.cmml" xref="S2.SS1.p5.2.m2.1.1.3.2.4">𝑛</ci><ci id="S2.SS1.p5.2.m2.1.1.3.2.5.cmml" xref="S2.SS1.p5.2.m2.1.1.3.2.5">𝑘</ci></apply><cn type="integer" id="S2.SS1.p5.2.m2.1.1.3.3.cmml" xref="S2.SS1.p5.2.m2.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p5.2.m2.1c">256^{rank-1}</annotation></semantics></math> since moving a piece up one rank on the chessboard
is the same as left shifting a binary number by 8 or multiplying by <math id="S2.SS1.p5.3.m3.1" class="ltx_Math" alttext="2^{8}" display="inline"><semantics id="S2.SS1.p5.3.m3.1a"><msup id="S2.SS1.p5.3.m3.1.1" xref="S2.SS1.p5.3.m3.1.1.cmml"><mn id="S2.SS1.p5.3.m3.1.1.2" xref="S2.SS1.p5.3.m3.1.1.2.cmml">2</mn><mn id="S2.SS1.p5.3.m3.1.1.3" xref="S2.SS1.p5.3.m3.1.1.3.cmml">8</mn></msup><annotation-xml encoding="MathML-Content" id="S2.SS1.p5.3.m3.1b"><apply id="S2.SS1.p5.3.m3.1.1.cmml" xref="S2.SS1.p5.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS1.p5.3.m3.1.1.1.cmml" xref="S2.SS1.p5.3.m3.1.1">superscript</csymbol><cn type="integer" id="S2.SS1.p5.3.m3.1.1.2.cmml" xref="S2.SS1.p5.3.m3.1.1.2">2</cn><cn type="integer" id="S2.SS1.p5.3.m3.1.1.3.cmml" xref="S2.SS1.p5.3.m3.1.1.3">8</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p5.3.m3.1c">2^{8}</annotation></semantics></math>.</p>
</div>
<div id="S2.SS1.p6" class="ltx_para">
<table id="S2.Ex3" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.Ex3.m1.4" class="ltx_Math" alttext="rank\_attacks_{rank_{i}}(p_{rank_{i}},o_{rank_{i}})=rank\_attacks_{rank_{1}}(p_{rank_{1}},o_{rank_{1}})\cdot 256^{i-1}" display="block"><semantics id="S2.Ex3.m1.4a"><mrow id="S2.Ex3.m1.4.4" xref="S2.Ex3.m1.4.4.cmml"><mrow id="S2.Ex3.m1.2.2.2" xref="S2.Ex3.m1.2.2.2.cmml"><mi id="S2.Ex3.m1.2.2.2.4" xref="S2.Ex3.m1.2.2.2.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.Ex3.m1.2.2.2.3" xref="S2.Ex3.m1.2.2.2.3.cmml">​</mo><mi id="S2.Ex3.m1.2.2.2.5" xref="S2.Ex3.m1.2.2.2.5.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.Ex3.m1.2.2.2.3a" xref="S2.Ex3.m1.2.2.2.3.cmml">​</mo><mi id="S2.Ex3.m1.2.2.2.6" xref="S2.Ex3.m1.2.2.2.6.cmml">n</mi><mo lspace="0em" rspace="0em" id="S2.Ex3.m1.2.2.2.3b" xref="S2.Ex3.m1.2.2.2.3.cmml">​</mo><mi id="S2.Ex3.m1.2.2.2.7" xref="S2.Ex3.m1.2.2.2.7.cmml">k</mi><mo lspace="0em" rspace="0em" id="S2.Ex3.m1.2.2.2.3c" xref="S2.Ex3.m1.2.2.2.3.cmml">​</mo><mi mathvariant="normal" id="S2.Ex3.m1.2.2.2.8" xref="S2.Ex3.m1.2.2.2.8.cmml">_</mi><mo lspace="0em" rspace="0em" id="S2.Ex3.m1.2.2.2.3d" xref="S2.Ex3.m1.2.2.2.3.cmml">​</mo><mi id="S2.Ex3.m1.2.2.2.9" xref="S2.Ex3.m1.2.2.2.9.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.Ex3.m1.2.2.2.3e" xref="S2.Ex3.m1.2.2.2.3.cmml">​</mo><mi id="S2.Ex3.m1.2.2.2.10" xref="S2.Ex3.m1.2.2.2.10.cmml">t</mi><mo lspace="0em" rspace="0em" id="S2.Ex3.m1.2.2.2.3f" xref="S2.Ex3.m1.2.2.2.3.cmml">​</mo><mi id="S2.Ex3.m1.2.2.2.11" xref="S2.Ex3.m1.2.2.2.11.cmml">t</mi><mo lspace="0em" rspace="0em" id="S2.Ex3.m1.2.2.2.3g" xref="S2.Ex3.m1.2.2.2.3.cmml">​</mo><mi id="S2.Ex3.m1.2.2.2.12" xref="S2.Ex3.m1.2.2.2.12.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.Ex3.m1.2.2.2.3h" xref="S2.Ex3.m1.2.2.2.3.cmml">​</mo><mi id="S2.Ex3.m1.2.2.2.13" xref="S2.Ex3.m1.2.2.2.13.cmml">c</mi><mo lspace="0em" rspace="0em" id="S2.Ex3.m1.2.2.2.3i" xref="S2.Ex3.m1.2.2.2.3.cmml">​</mo><mi id="S2.Ex3.m1.2.2.2.14" xref="S2.Ex3.m1.2.2.2.14.cmml">k</mi><mo lspace="0em" rspace="0em" id="S2.Ex3.m1.2.2.2.3j" xref="S2.Ex3.m1.2.2.2.3.cmml">​</mo><msub id="S2.Ex3.m1.2.2.2.15" xref="S2.Ex3.m1.2.2.2.15.cmml"><mi id="S2.Ex3.m1.2.2.2.15.2" xref="S2.Ex3.m1.2.2.2.15.2.cmml">s</mi><mrow id="S2.Ex3.m1.2.2.2.15.3" xref="S2.Ex3.m1.2.2.2.15.3.cmml"><mi id="S2.Ex3.m1.2.2.2.15.3.2" xref="S2.Ex3.m1.2.2.2.15.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.Ex3.m1.2.2.2.15.3.1" xref="S2.Ex3.m1.2.2.2.15.3.1.cmml">​</mo><mi id="S2.Ex3.m1.2.2.2.15.3.3" xref="S2.Ex3.m1.2.2.2.15.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.Ex3.m1.2.2.2.15.3.1a" xref="S2.Ex3.m1.2.2.2.15.3.1.cmml">​</mo><mi id="S2.Ex3.m1.2.2.2.15.3.4" xref="S2.Ex3.m1.2.2.2.15.3.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="S2.Ex3.m1.2.2.2.15.3.1b" xref="S2.Ex3.m1.2.2.2.15.3.1.cmml">​</mo><msub id="S2.Ex3.m1.2.2.2.15.3.5" xref="S2.Ex3.m1.2.2.2.15.3.5.cmml"><mi id="S2.Ex3.m1.2.2.2.15.3.5.2" xref="S2.Ex3.m1.2.2.2.15.3.5.2.cmml">k</mi><mi id="S2.Ex3.m1.2.2.2.15.3.5.3" xref="S2.Ex3.m1.2.2.2.15.3.5.3.cmml">i</mi></msub></mrow></msub><mo lspace="0em" rspace="0em" id="S2.Ex3.m1.2.2.2.3k" xref="S2.Ex3.m1.2.2.2.3.cmml">​</mo><mrow id="S2.Ex3.m1.2.2.2.2.2" xref="S2.Ex3.m1.2.2.2.2.3.cmml"><mo stretchy="false" id="S2.Ex3.m1.2.2.2.2.2.3" xref="S2.Ex3.m1.2.2.2.2.3.cmml">(</mo><msub id="S2.Ex3.m1.1.1.1.1.1.1" xref="S2.Ex3.m1.1.1.1.1.1.1.cmml"><mi id="S2.Ex3.m1.1.1.1.1.1.1.2" xref="S2.Ex3.m1.1.1.1.1.1.1.2.cmml">p</mi><mrow id="S2.Ex3.m1.1.1.1.1.1.1.3" xref="S2.Ex3.m1.1.1.1.1.1.1.3.cmml"><mi id="S2.Ex3.m1.1.1.1.1.1.1.3.2" xref="S2.Ex3.m1.1.1.1.1.1.1.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.Ex3.m1.1.1.1.1.1.1.3.1" xref="S2.Ex3.m1.1.1.1.1.1.1.3.1.cmml">​</mo><mi id="S2.Ex3.m1.1.1.1.1.1.1.3.3" xref="S2.Ex3.m1.1.1.1.1.1.1.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.Ex3.m1.1.1.1.1.1.1.3.1a" xref="S2.Ex3.m1.1.1.1.1.1.1.3.1.cmml">​</mo><mi id="S2.Ex3.m1.1.1.1.1.1.1.3.4" xref="S2.Ex3.m1.1.1.1.1.1.1.3.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="S2.Ex3.m1.1.1.1.1.1.1.3.1b" xref="S2.Ex3.m1.1.1.1.1.1.1.3.1.cmml">​</mo><msub id="S2.Ex3.m1.1.1.1.1.1.1.3.5" xref="S2.Ex3.m1.1.1.1.1.1.1.3.5.cmml"><mi id="S2.Ex3.m1.1.1.1.1.1.1.3.5.2" xref="S2.Ex3.m1.1.1.1.1.1.1.3.5.2.cmml">k</mi><mi id="S2.Ex3.m1.1.1.1.1.1.1.3.5.3" xref="S2.Ex3.m1.1.1.1.1.1.1.3.5.3.cmml">i</mi></msub></mrow></msub><mo id="S2.Ex3.m1.2.2.2.2.2.4" xref="S2.Ex3.m1.2.2.2.2.3.cmml">,</mo><msub id="S2.Ex3.m1.2.2.2.2.2.2" xref="S2.Ex3.m1.2.2.2.2.2.2.cmml"><mi id="S2.Ex3.m1.2.2.2.2.2.2.2" xref="S2.Ex3.m1.2.2.2.2.2.2.2.cmml">o</mi><mrow id="S2.Ex3.m1.2.2.2.2.2.2.3" xref="S2.Ex3.m1.2.2.2.2.2.2.3.cmml"><mi id="S2.Ex3.m1.2.2.2.2.2.2.3.2" xref="S2.Ex3.m1.2.2.2.2.2.2.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.Ex3.m1.2.2.2.2.2.2.3.1" xref="S2.Ex3.m1.2.2.2.2.2.2.3.1.cmml">​</mo><mi id="S2.Ex3.m1.2.2.2.2.2.2.3.3" xref="S2.Ex3.m1.2.2.2.2.2.2.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.Ex3.m1.2.2.2.2.2.2.3.1a" xref="S2.Ex3.m1.2.2.2.2.2.2.3.1.cmml">​</mo><mi id="S2.Ex3.m1.2.2.2.2.2.2.3.4" xref="S2.Ex3.m1.2.2.2.2.2.2.3.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="S2.Ex3.m1.2.2.2.2.2.2.3.1b" xref="S2.Ex3.m1.2.2.2.2.2.2.3.1.cmml">​</mo><msub id="S2.Ex3.m1.2.2.2.2.2.2.3.5" xref="S2.Ex3.m1.2.2.2.2.2.2.3.5.cmml"><mi id="S2.Ex3.m1.2.2.2.2.2.2.3.5.2" xref="S2.Ex3.m1.2.2.2.2.2.2.3.5.2.cmml">k</mi><mi id="S2.Ex3.m1.2.2.2.2.2.2.3.5.3" xref="S2.Ex3.m1.2.2.2.2.2.2.3.5.3.cmml">i</mi></msub></mrow></msub><mo stretchy="false" id="S2.Ex3.m1.2.2.2.2.2.5" xref="S2.Ex3.m1.2.2.2.2.3.cmml">)</mo></mrow></mrow><mo id="S2.Ex3.m1.4.4.5" xref="S2.Ex3.m1.4.4.5.cmml">=</mo><mrow id="S2.Ex3.m1.4.4.4" xref="S2.Ex3.m1.4.4.4.cmml"><mrow id="S2.Ex3.m1.4.4.4.2" xref="S2.Ex3.m1.4.4.4.2.cmml"><mi id="S2.Ex3.m1.4.4.4.2.4" xref="S2.Ex3.m1.4.4.4.2.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.Ex3.m1.4.4.4.2.3" xref="S2.Ex3.m1.4.4.4.2.3.cmml">​</mo><mi id="S2.Ex3.m1.4.4.4.2.5" xref="S2.Ex3.m1.4.4.4.2.5.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.Ex3.m1.4.4.4.2.3a" xref="S2.Ex3.m1.4.4.4.2.3.cmml">​</mo><mi id="S2.Ex3.m1.4.4.4.2.6" xref="S2.Ex3.m1.4.4.4.2.6.cmml">n</mi><mo lspace="0em" rspace="0em" id="S2.Ex3.m1.4.4.4.2.3b" xref="S2.Ex3.m1.4.4.4.2.3.cmml">​</mo><mi id="S2.Ex3.m1.4.4.4.2.7" xref="S2.Ex3.m1.4.4.4.2.7.cmml">k</mi><mo lspace="0em" rspace="0em" id="S2.Ex3.m1.4.4.4.2.3c" xref="S2.Ex3.m1.4.4.4.2.3.cmml">​</mo><mi mathvariant="normal" id="S2.Ex3.m1.4.4.4.2.8" xref="S2.Ex3.m1.4.4.4.2.8.cmml">_</mi><mo lspace="0em" rspace="0em" id="S2.Ex3.m1.4.4.4.2.3d" xref="S2.Ex3.m1.4.4.4.2.3.cmml">​</mo><mi id="S2.Ex3.m1.4.4.4.2.9" xref="S2.Ex3.m1.4.4.4.2.9.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.Ex3.m1.4.4.4.2.3e" xref="S2.Ex3.m1.4.4.4.2.3.cmml">​</mo><mi id="S2.Ex3.m1.4.4.4.2.10" xref="S2.Ex3.m1.4.4.4.2.10.cmml">t</mi><mo lspace="0em" rspace="0em" id="S2.Ex3.m1.4.4.4.2.3f" xref="S2.Ex3.m1.4.4.4.2.3.cmml">​</mo><mi id="S2.Ex3.m1.4.4.4.2.11" xref="S2.Ex3.m1.4.4.4.2.11.cmml">t</mi><mo lspace="0em" rspace="0em" id="S2.Ex3.m1.4.4.4.2.3g" xref="S2.Ex3.m1.4.4.4.2.3.cmml">​</mo><mi id="S2.Ex3.m1.4.4.4.2.12" xref="S2.Ex3.m1.4.4.4.2.12.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.Ex3.m1.4.4.4.2.3h" xref="S2.Ex3.m1.4.4.4.2.3.cmml">​</mo><mi id="S2.Ex3.m1.4.4.4.2.13" xref="S2.Ex3.m1.4.4.4.2.13.cmml">c</mi><mo lspace="0em" rspace="0em" id="S2.Ex3.m1.4.4.4.2.3i" xref="S2.Ex3.m1.4.4.4.2.3.cmml">​</mo><mi id="S2.Ex3.m1.4.4.4.2.14" xref="S2.Ex3.m1.4.4.4.2.14.cmml">k</mi><mo lspace="0em" rspace="0em" id="S2.Ex3.m1.4.4.4.2.3j" xref="S2.Ex3.m1.4.4.4.2.3.cmml">​</mo><msub id="S2.Ex3.m1.4.4.4.2.15" xref="S2.Ex3.m1.4.4.4.2.15.cmml"><mi id="S2.Ex3.m1.4.4.4.2.15.2" xref="S2.Ex3.m1.4.4.4.2.15.2.cmml">s</mi><mrow id="S2.Ex3.m1.4.4.4.2.15.3" xref="S2.Ex3.m1.4.4.4.2.15.3.cmml"><mi id="S2.Ex3.m1.4.4.4.2.15.3.2" xref="S2.Ex3.m1.4.4.4.2.15.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.Ex3.m1.4.4.4.2.15.3.1" xref="S2.Ex3.m1.4.4.4.2.15.3.1.cmml">​</mo><mi id="S2.Ex3.m1.4.4.4.2.15.3.3" xref="S2.Ex3.m1.4.4.4.2.15.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.Ex3.m1.4.4.4.2.15.3.1a" xref="S2.Ex3.m1.4.4.4.2.15.3.1.cmml">​</mo><mi id="S2.Ex3.m1.4.4.4.2.15.3.4" xref="S2.Ex3.m1.4.4.4.2.15.3.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="S2.Ex3.m1.4.4.4.2.15.3.1b" xref="S2.Ex3.m1.4.4.4.2.15.3.1.cmml">​</mo><msub id="S2.Ex3.m1.4.4.4.2.15.3.5" xref="S2.Ex3.m1.4.4.4.2.15.3.5.cmml"><mi id="S2.Ex3.m1.4.4.4.2.15.3.5.2" xref="S2.Ex3.m1.4.4.4.2.15.3.5.2.cmml">k</mi><mn id="S2.Ex3.m1.4.4.4.2.15.3.5.3" xref="S2.Ex3.m1.4.4.4.2.15.3.5.3.cmml">1</mn></msub></mrow></msub><mo lspace="0em" rspace="0em" id="S2.Ex3.m1.4.4.4.2.3k" xref="S2.Ex3.m1.4.4.4.2.3.cmml">​</mo><mrow id="S2.Ex3.m1.4.4.4.2.2.2" xref="S2.Ex3.m1.4.4.4.2.2.3.cmml"><mo stretchy="false" id="S2.Ex3.m1.4.4.4.2.2.2.3" xref="S2.Ex3.m1.4.4.4.2.2.3.cmml">(</mo><msub id="S2.Ex3.m1.3.3.3.1.1.1.1" xref="S2.Ex3.m1.3.3.3.1.1.1.1.cmml"><mi id="S2.Ex3.m1.3.3.3.1.1.1.1.2" xref="S2.Ex3.m1.3.3.3.1.1.1.1.2.cmml">p</mi><mrow id="S2.Ex3.m1.3.3.3.1.1.1.1.3" xref="S2.Ex3.m1.3.3.3.1.1.1.1.3.cmml"><mi id="S2.Ex3.m1.3.3.3.1.1.1.1.3.2" xref="S2.Ex3.m1.3.3.3.1.1.1.1.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.Ex3.m1.3.3.3.1.1.1.1.3.1" xref="S2.Ex3.m1.3.3.3.1.1.1.1.3.1.cmml">​</mo><mi id="S2.Ex3.m1.3.3.3.1.1.1.1.3.3" xref="S2.Ex3.m1.3.3.3.1.1.1.1.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.Ex3.m1.3.3.3.1.1.1.1.3.1a" xref="S2.Ex3.m1.3.3.3.1.1.1.1.3.1.cmml">​</mo><mi id="S2.Ex3.m1.3.3.3.1.1.1.1.3.4" xref="S2.Ex3.m1.3.3.3.1.1.1.1.3.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="S2.Ex3.m1.3.3.3.1.1.1.1.3.1b" xref="S2.Ex3.m1.3.3.3.1.1.1.1.3.1.cmml">​</mo><msub id="S2.Ex3.m1.3.3.3.1.1.1.1.3.5" xref="S2.Ex3.m1.3.3.3.1.1.1.1.3.5.cmml"><mi id="S2.Ex3.m1.3.3.3.1.1.1.1.3.5.2" xref="S2.Ex3.m1.3.3.3.1.1.1.1.3.5.2.cmml">k</mi><mn id="S2.Ex3.m1.3.3.3.1.1.1.1.3.5.3" xref="S2.Ex3.m1.3.3.3.1.1.1.1.3.5.3.cmml">1</mn></msub></mrow></msub><mo id="S2.Ex3.m1.4.4.4.2.2.2.4" xref="S2.Ex3.m1.4.4.4.2.2.3.cmml">,</mo><msub id="S2.Ex3.m1.4.4.4.2.2.2.2" xref="S2.Ex3.m1.4.4.4.2.2.2.2.cmml"><mi id="S2.Ex3.m1.4.4.4.2.2.2.2.2" xref="S2.Ex3.m1.4.4.4.2.2.2.2.2.cmml">o</mi><mrow id="S2.Ex3.m1.4.4.4.2.2.2.2.3" xref="S2.Ex3.m1.4.4.4.2.2.2.2.3.cmml"><mi id="S2.Ex3.m1.4.4.4.2.2.2.2.3.2" xref="S2.Ex3.m1.4.4.4.2.2.2.2.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.Ex3.m1.4.4.4.2.2.2.2.3.1" xref="S2.Ex3.m1.4.4.4.2.2.2.2.3.1.cmml">​</mo><mi id="S2.Ex3.m1.4.4.4.2.2.2.2.3.3" xref="S2.Ex3.m1.4.4.4.2.2.2.2.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.Ex3.m1.4.4.4.2.2.2.2.3.1a" xref="S2.Ex3.m1.4.4.4.2.2.2.2.3.1.cmml">​</mo><mi id="S2.Ex3.m1.4.4.4.2.2.2.2.3.4" xref="S2.Ex3.m1.4.4.4.2.2.2.2.3.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="S2.Ex3.m1.4.4.4.2.2.2.2.3.1b" xref="S2.Ex3.m1.4.4.4.2.2.2.2.3.1.cmml">​</mo><msub id="S2.Ex3.m1.4.4.4.2.2.2.2.3.5" xref="S2.Ex3.m1.4.4.4.2.2.2.2.3.5.cmml"><mi id="S2.Ex3.m1.4.4.4.2.2.2.2.3.5.2" xref="S2.Ex3.m1.4.4.4.2.2.2.2.3.5.2.cmml">k</mi><mn id="S2.Ex3.m1.4.4.4.2.2.2.2.3.5.3" xref="S2.Ex3.m1.4.4.4.2.2.2.2.3.5.3.cmml">1</mn></msub></mrow></msub><mo rspace="0.055em" stretchy="false" id="S2.Ex3.m1.4.4.4.2.2.2.5" xref="S2.Ex3.m1.4.4.4.2.2.3.cmml">)</mo></mrow></mrow><mo rspace="0.222em" id="S2.Ex3.m1.4.4.4.3" xref="S2.Ex3.m1.4.4.4.3.cmml">⋅</mo><msup id="S2.Ex3.m1.4.4.4.4" xref="S2.Ex3.m1.4.4.4.4.cmml"><mn id="S2.Ex3.m1.4.4.4.4.2" xref="S2.Ex3.m1.4.4.4.4.2.cmml">256</mn><mrow id="S2.Ex3.m1.4.4.4.4.3" xref="S2.Ex3.m1.4.4.4.4.3.cmml"><mi id="S2.Ex3.m1.4.4.4.4.3.2" xref="S2.Ex3.m1.4.4.4.4.3.2.cmml">i</mi><mo id="S2.Ex3.m1.4.4.4.4.3.1" xref="S2.Ex3.m1.4.4.4.4.3.1.cmml">−</mo><mn id="S2.Ex3.m1.4.4.4.4.3.3" xref="S2.Ex3.m1.4.4.4.4.3.3.cmml">1</mn></mrow></msup></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.Ex3.m1.4b"><apply id="S2.Ex3.m1.4.4.cmml" xref="S2.Ex3.m1.4.4"><eq id="S2.Ex3.m1.4.4.5.cmml" xref="S2.Ex3.m1.4.4.5"></eq><apply id="S2.Ex3.m1.2.2.2.cmml" xref="S2.Ex3.m1.2.2.2"><times id="S2.Ex3.m1.2.2.2.3.cmml" xref="S2.Ex3.m1.2.2.2.3"></times><ci id="S2.Ex3.m1.2.2.2.4.cmml" xref="S2.Ex3.m1.2.2.2.4">𝑟</ci><ci id="S2.Ex3.m1.2.2.2.5.cmml" xref="S2.Ex3.m1.2.2.2.5">𝑎</ci><ci id="S2.Ex3.m1.2.2.2.6.cmml" xref="S2.Ex3.m1.2.2.2.6">𝑛</ci><ci id="S2.Ex3.m1.2.2.2.7.cmml" xref="S2.Ex3.m1.2.2.2.7">𝑘</ci><ci id="S2.Ex3.m1.2.2.2.8.cmml" xref="S2.Ex3.m1.2.2.2.8">_</ci><ci id="S2.Ex3.m1.2.2.2.9.cmml" xref="S2.Ex3.m1.2.2.2.9">𝑎</ci><ci id="S2.Ex3.m1.2.2.2.10.cmml" xref="S2.Ex3.m1.2.2.2.10">𝑡</ci><ci id="S2.Ex3.m1.2.2.2.11.cmml" xref="S2.Ex3.m1.2.2.2.11">𝑡</ci><ci id="S2.Ex3.m1.2.2.2.12.cmml" xref="S2.Ex3.m1.2.2.2.12">𝑎</ci><ci id="S2.Ex3.m1.2.2.2.13.cmml" xref="S2.Ex3.m1.2.2.2.13">𝑐</ci><ci id="S2.Ex3.m1.2.2.2.14.cmml" xref="S2.Ex3.m1.2.2.2.14">𝑘</ci><apply id="S2.Ex3.m1.2.2.2.15.cmml" xref="S2.Ex3.m1.2.2.2.15"><csymbol cd="ambiguous" id="S2.Ex3.m1.2.2.2.15.1.cmml" xref="S2.Ex3.m1.2.2.2.15">subscript</csymbol><ci id="S2.Ex3.m1.2.2.2.15.2.cmml" xref="S2.Ex3.m1.2.2.2.15.2">𝑠</ci><apply id="S2.Ex3.m1.2.2.2.15.3.cmml" xref="S2.Ex3.m1.2.2.2.15.3"><times id="S2.Ex3.m1.2.2.2.15.3.1.cmml" xref="S2.Ex3.m1.2.2.2.15.3.1"></times><ci id="S2.Ex3.m1.2.2.2.15.3.2.cmml" xref="S2.Ex3.m1.2.2.2.15.3.2">𝑟</ci><ci id="S2.Ex3.m1.2.2.2.15.3.3.cmml" xref="S2.Ex3.m1.2.2.2.15.3.3">𝑎</ci><ci id="S2.Ex3.m1.2.2.2.15.3.4.cmml" xref="S2.Ex3.m1.2.2.2.15.3.4">𝑛</ci><apply id="S2.Ex3.m1.2.2.2.15.3.5.cmml" xref="S2.Ex3.m1.2.2.2.15.3.5"><csymbol cd="ambiguous" id="S2.Ex3.m1.2.2.2.15.3.5.1.cmml" xref="S2.Ex3.m1.2.2.2.15.3.5">subscript</csymbol><ci id="S2.Ex3.m1.2.2.2.15.3.5.2.cmml" xref="S2.Ex3.m1.2.2.2.15.3.5.2">𝑘</ci><ci id="S2.Ex3.m1.2.2.2.15.3.5.3.cmml" xref="S2.Ex3.m1.2.2.2.15.3.5.3">𝑖</ci></apply></apply></apply><interval closure="open" id="S2.Ex3.m1.2.2.2.2.3.cmml" xref="S2.Ex3.m1.2.2.2.2.2"><apply id="S2.Ex3.m1.1.1.1.1.1.1.cmml" xref="S2.Ex3.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.Ex3.m1.1.1.1.1.1.1.1.cmml" xref="S2.Ex3.m1.1.1.1.1.1.1">subscript</csymbol><ci id="S2.Ex3.m1.1.1.1.1.1.1.2.cmml" xref="S2.Ex3.m1.1.1.1.1.1.1.2">𝑝</ci><apply id="S2.Ex3.m1.1.1.1.1.1.1.3.cmml" xref="S2.Ex3.m1.1.1.1.1.1.1.3"><times id="S2.Ex3.m1.1.1.1.1.1.1.3.1.cmml" xref="S2.Ex3.m1.1.1.1.1.1.1.3.1"></times><ci id="S2.Ex3.m1.1.1.1.1.1.1.3.2.cmml" xref="S2.Ex3.m1.1.1.1.1.1.1.3.2">𝑟</ci><ci id="S2.Ex3.m1.1.1.1.1.1.1.3.3.cmml" xref="S2.Ex3.m1.1.1.1.1.1.1.3.3">𝑎</ci><ci id="S2.Ex3.m1.1.1.1.1.1.1.3.4.cmml" xref="S2.Ex3.m1.1.1.1.1.1.1.3.4">𝑛</ci><apply id="S2.Ex3.m1.1.1.1.1.1.1.3.5.cmml" xref="S2.Ex3.m1.1.1.1.1.1.1.3.5"><csymbol cd="ambiguous" id="S2.Ex3.m1.1.1.1.1.1.1.3.5.1.cmml" xref="S2.Ex3.m1.1.1.1.1.1.1.3.5">subscript</csymbol><ci id="S2.Ex3.m1.1.1.1.1.1.1.3.5.2.cmml" xref="S2.Ex3.m1.1.1.1.1.1.1.3.5.2">𝑘</ci><ci id="S2.Ex3.m1.1.1.1.1.1.1.3.5.3.cmml" xref="S2.Ex3.m1.1.1.1.1.1.1.3.5.3">𝑖</ci></apply></apply></apply><apply id="S2.Ex3.m1.2.2.2.2.2.2.cmml" xref="S2.Ex3.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S2.Ex3.m1.2.2.2.2.2.2.1.cmml" xref="S2.Ex3.m1.2.2.2.2.2.2">subscript</csymbol><ci id="S2.Ex3.m1.2.2.2.2.2.2.2.cmml" xref="S2.Ex3.m1.2.2.2.2.2.2.2">𝑜</ci><apply id="S2.Ex3.m1.2.2.2.2.2.2.3.cmml" xref="S2.Ex3.m1.2.2.2.2.2.2.3"><times id="S2.Ex3.m1.2.2.2.2.2.2.3.1.cmml" xref="S2.Ex3.m1.2.2.2.2.2.2.3.1"></times><ci id="S2.Ex3.m1.2.2.2.2.2.2.3.2.cmml" xref="S2.Ex3.m1.2.2.2.2.2.2.3.2">𝑟</ci><ci id="S2.Ex3.m1.2.2.2.2.2.2.3.3.cmml" xref="S2.Ex3.m1.2.2.2.2.2.2.3.3">𝑎</ci><ci id="S2.Ex3.m1.2.2.2.2.2.2.3.4.cmml" xref="S2.Ex3.m1.2.2.2.2.2.2.3.4">𝑛</ci><apply id="S2.Ex3.m1.2.2.2.2.2.2.3.5.cmml" xref="S2.Ex3.m1.2.2.2.2.2.2.3.5"><csymbol cd="ambiguous" id="S2.Ex3.m1.2.2.2.2.2.2.3.5.1.cmml" xref="S2.Ex3.m1.2.2.2.2.2.2.3.5">subscript</csymbol><ci id="S2.Ex3.m1.2.2.2.2.2.2.3.5.2.cmml" xref="S2.Ex3.m1.2.2.2.2.2.2.3.5.2">𝑘</ci><ci id="S2.Ex3.m1.2.2.2.2.2.2.3.5.3.cmml" xref="S2.Ex3.m1.2.2.2.2.2.2.3.5.3">𝑖</ci></apply></apply></apply></interval></apply><apply id="S2.Ex3.m1.4.4.4.cmml" xref="S2.Ex3.m1.4.4.4"><ci id="S2.Ex3.m1.4.4.4.3.cmml" xref="S2.Ex3.m1.4.4.4.3">⋅</ci><apply id="S2.Ex3.m1.4.4.4.2.cmml" xref="S2.Ex3.m1.4.4.4.2"><times id="S2.Ex3.m1.4.4.4.2.3.cmml" xref="S2.Ex3.m1.4.4.4.2.3"></times><ci id="S2.Ex3.m1.4.4.4.2.4.cmml" xref="S2.Ex3.m1.4.4.4.2.4">𝑟</ci><ci id="S2.Ex3.m1.4.4.4.2.5.cmml" xref="S2.Ex3.m1.4.4.4.2.5">𝑎</ci><ci id="S2.Ex3.m1.4.4.4.2.6.cmml" xref="S2.Ex3.m1.4.4.4.2.6">𝑛</ci><ci id="S2.Ex3.m1.4.4.4.2.7.cmml" xref="S2.Ex3.m1.4.4.4.2.7">𝑘</ci><ci id="S2.Ex3.m1.4.4.4.2.8.cmml" xref="S2.Ex3.m1.4.4.4.2.8">_</ci><ci id="S2.Ex3.m1.4.4.4.2.9.cmml" xref="S2.Ex3.m1.4.4.4.2.9">𝑎</ci><ci id="S2.Ex3.m1.4.4.4.2.10.cmml" xref="S2.Ex3.m1.4.4.4.2.10">𝑡</ci><ci id="S2.Ex3.m1.4.4.4.2.11.cmml" xref="S2.Ex3.m1.4.4.4.2.11">𝑡</ci><ci id="S2.Ex3.m1.4.4.4.2.12.cmml" xref="S2.Ex3.m1.4.4.4.2.12">𝑎</ci><ci id="S2.Ex3.m1.4.4.4.2.13.cmml" xref="S2.Ex3.m1.4.4.4.2.13">𝑐</ci><ci id="S2.Ex3.m1.4.4.4.2.14.cmml" xref="S2.Ex3.m1.4.4.4.2.14">𝑘</ci><apply id="S2.Ex3.m1.4.4.4.2.15.cmml" xref="S2.Ex3.m1.4.4.4.2.15"><csymbol cd="ambiguous" id="S2.Ex3.m1.4.4.4.2.15.1.cmml" xref="S2.Ex3.m1.4.4.4.2.15">subscript</csymbol><ci id="S2.Ex3.m1.4.4.4.2.15.2.cmml" xref="S2.Ex3.m1.4.4.4.2.15.2">𝑠</ci><apply id="S2.Ex3.m1.4.4.4.2.15.3.cmml" xref="S2.Ex3.m1.4.4.4.2.15.3"><times id="S2.Ex3.m1.4.4.4.2.15.3.1.cmml" xref="S2.Ex3.m1.4.4.4.2.15.3.1"></times><ci id="S2.Ex3.m1.4.4.4.2.15.3.2.cmml" xref="S2.Ex3.m1.4.4.4.2.15.3.2">𝑟</ci><ci id="S2.Ex3.m1.4.4.4.2.15.3.3.cmml" xref="S2.Ex3.m1.4.4.4.2.15.3.3">𝑎</ci><ci id="S2.Ex3.m1.4.4.4.2.15.3.4.cmml" xref="S2.Ex3.m1.4.4.4.2.15.3.4">𝑛</ci><apply id="S2.Ex3.m1.4.4.4.2.15.3.5.cmml" xref="S2.Ex3.m1.4.4.4.2.15.3.5"><csymbol cd="ambiguous" id="S2.Ex3.m1.4.4.4.2.15.3.5.1.cmml" xref="S2.Ex3.m1.4.4.4.2.15.3.5">subscript</csymbol><ci id="S2.Ex3.m1.4.4.4.2.15.3.5.2.cmml" xref="S2.Ex3.m1.4.4.4.2.15.3.5.2">𝑘</ci><cn type="integer" id="S2.Ex3.m1.4.4.4.2.15.3.5.3.cmml" xref="S2.Ex3.m1.4.4.4.2.15.3.5.3">1</cn></apply></apply></apply><interval closure="open" id="S2.Ex3.m1.4.4.4.2.2.3.cmml" xref="S2.Ex3.m1.4.4.4.2.2.2"><apply id="S2.Ex3.m1.3.3.3.1.1.1.1.cmml" xref="S2.Ex3.m1.3.3.3.1.1.1.1"><csymbol cd="ambiguous" id="S2.Ex3.m1.3.3.3.1.1.1.1.1.cmml" xref="S2.Ex3.m1.3.3.3.1.1.1.1">subscript</csymbol><ci id="S2.Ex3.m1.3.3.3.1.1.1.1.2.cmml" xref="S2.Ex3.m1.3.3.3.1.1.1.1.2">𝑝</ci><apply id="S2.Ex3.m1.3.3.3.1.1.1.1.3.cmml" xref="S2.Ex3.m1.3.3.3.1.1.1.1.3"><times id="S2.Ex3.m1.3.3.3.1.1.1.1.3.1.cmml" xref="S2.Ex3.m1.3.3.3.1.1.1.1.3.1"></times><ci id="S2.Ex3.m1.3.3.3.1.1.1.1.3.2.cmml" xref="S2.Ex3.m1.3.3.3.1.1.1.1.3.2">𝑟</ci><ci id="S2.Ex3.m1.3.3.3.1.1.1.1.3.3.cmml" xref="S2.Ex3.m1.3.3.3.1.1.1.1.3.3">𝑎</ci><ci id="S2.Ex3.m1.3.3.3.1.1.1.1.3.4.cmml" xref="S2.Ex3.m1.3.3.3.1.1.1.1.3.4">𝑛</ci><apply id="S2.Ex3.m1.3.3.3.1.1.1.1.3.5.cmml" xref="S2.Ex3.m1.3.3.3.1.1.1.1.3.5"><csymbol cd="ambiguous" id="S2.Ex3.m1.3.3.3.1.1.1.1.3.5.1.cmml" xref="S2.Ex3.m1.3.3.3.1.1.1.1.3.5">subscript</csymbol><ci id="S2.Ex3.m1.3.3.3.1.1.1.1.3.5.2.cmml" xref="S2.Ex3.m1.3.3.3.1.1.1.1.3.5.2">𝑘</ci><cn type="integer" id="S2.Ex3.m1.3.3.3.1.1.1.1.3.5.3.cmml" xref="S2.Ex3.m1.3.3.3.1.1.1.1.3.5.3">1</cn></apply></apply></apply><apply id="S2.Ex3.m1.4.4.4.2.2.2.2.cmml" xref="S2.Ex3.m1.4.4.4.2.2.2.2"><csymbol cd="ambiguous" id="S2.Ex3.m1.4.4.4.2.2.2.2.1.cmml" xref="S2.Ex3.m1.4.4.4.2.2.2.2">subscript</csymbol><ci id="S2.Ex3.m1.4.4.4.2.2.2.2.2.cmml" xref="S2.Ex3.m1.4.4.4.2.2.2.2.2">𝑜</ci><apply id="S2.Ex3.m1.4.4.4.2.2.2.2.3.cmml" xref="S2.Ex3.m1.4.4.4.2.2.2.2.3"><times id="S2.Ex3.m1.4.4.4.2.2.2.2.3.1.cmml" xref="S2.Ex3.m1.4.4.4.2.2.2.2.3.1"></times><ci id="S2.Ex3.m1.4.4.4.2.2.2.2.3.2.cmml" xref="S2.Ex3.m1.4.4.4.2.2.2.2.3.2">𝑟</ci><ci id="S2.Ex3.m1.4.4.4.2.2.2.2.3.3.cmml" xref="S2.Ex3.m1.4.4.4.2.2.2.2.3.3">𝑎</ci><ci id="S2.Ex3.m1.4.4.4.2.2.2.2.3.4.cmml" xref="S2.Ex3.m1.4.4.4.2.2.2.2.3.4">𝑛</ci><apply id="S2.Ex3.m1.4.4.4.2.2.2.2.3.5.cmml" xref="S2.Ex3.m1.4.4.4.2.2.2.2.3.5"><csymbol cd="ambiguous" id="S2.Ex3.m1.4.4.4.2.2.2.2.3.5.1.cmml" xref="S2.Ex3.m1.4.4.4.2.2.2.2.3.5">subscript</csymbol><ci id="S2.Ex3.m1.4.4.4.2.2.2.2.3.5.2.cmml" xref="S2.Ex3.m1.4.4.4.2.2.2.2.3.5.2">𝑘</ci><cn type="integer" id="S2.Ex3.m1.4.4.4.2.2.2.2.3.5.3.cmml" xref="S2.Ex3.m1.4.4.4.2.2.2.2.3.5.3">1</cn></apply></apply></apply></interval></apply><apply id="S2.Ex3.m1.4.4.4.4.cmml" xref="S2.Ex3.m1.4.4.4.4"><csymbol cd="ambiguous" id="S2.Ex3.m1.4.4.4.4.1.cmml" xref="S2.Ex3.m1.4.4.4.4">superscript</csymbol><cn type="integer" id="S2.Ex3.m1.4.4.4.4.2.cmml" xref="S2.Ex3.m1.4.4.4.4.2">256</cn><apply id="S2.Ex3.m1.4.4.4.4.3.cmml" xref="S2.Ex3.m1.4.4.4.4.3"><minus id="S2.Ex3.m1.4.4.4.4.3.1.cmml" xref="S2.Ex3.m1.4.4.4.4.3.1"></minus><ci id="S2.Ex3.m1.4.4.4.4.3.2.cmml" xref="S2.Ex3.m1.4.4.4.4.3.2">𝑖</ci><cn type="integer" id="S2.Ex3.m1.4.4.4.4.3.3.cmml" xref="S2.Ex3.m1.4.4.4.4.3.3">1</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.Ex3.m1.4c">rank\_attacks_{rank_{i}}(p_{rank_{i}},o_{rank_{i}})=rank\_attacks_{rank_{1}}(p_{rank_{1}},o_{rank_{1}})\cdot 256^{i-1}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div id="S2.SS1.p7" class="ltx_para ltx_noindent">
<p id="S2.SS1.p7.1" class="ltx_p">where the piece position index and occupancy index at rank <math id="S2.SS1.p7.1.m1.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S2.SS1.p7.1.m1.1a"><mi id="S2.SS1.p7.1.m1.1.1" xref="S2.SS1.p7.1.m1.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p7.1.m1.1b"><ci id="S2.SS1.p7.1.m1.1.1.cmml" xref="S2.SS1.p7.1.m1.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p7.1.m1.1c">i</annotation></semantics></math> are also
multiplied by the same value as the attack</p>
</div>
<div id="S2.SS1.p8" class="ltx_para">
<table id="S2.Ex4" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.Ex4.m1.1" class="ltx_Math" alttext="p_{rank_{i}}=p_{rank_{1}}\cdot 256^{i-1}" display="block"><semantics id="S2.Ex4.m1.1a"><mrow id="S2.Ex4.m1.1.1" xref="S2.Ex4.m1.1.1.cmml"><msub id="S2.Ex4.m1.1.1.2" xref="S2.Ex4.m1.1.1.2.cmml"><mi id="S2.Ex4.m1.1.1.2.2" xref="S2.Ex4.m1.1.1.2.2.cmml">p</mi><mrow id="S2.Ex4.m1.1.1.2.3" xref="S2.Ex4.m1.1.1.2.3.cmml"><mi id="S2.Ex4.m1.1.1.2.3.2" xref="S2.Ex4.m1.1.1.2.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.Ex4.m1.1.1.2.3.1" xref="S2.Ex4.m1.1.1.2.3.1.cmml">​</mo><mi id="S2.Ex4.m1.1.1.2.3.3" xref="S2.Ex4.m1.1.1.2.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.Ex4.m1.1.1.2.3.1a" xref="S2.Ex4.m1.1.1.2.3.1.cmml">​</mo><mi id="S2.Ex4.m1.1.1.2.3.4" xref="S2.Ex4.m1.1.1.2.3.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="S2.Ex4.m1.1.1.2.3.1b" xref="S2.Ex4.m1.1.1.2.3.1.cmml">​</mo><msub id="S2.Ex4.m1.1.1.2.3.5" xref="S2.Ex4.m1.1.1.2.3.5.cmml"><mi id="S2.Ex4.m1.1.1.2.3.5.2" xref="S2.Ex4.m1.1.1.2.3.5.2.cmml">k</mi><mi id="S2.Ex4.m1.1.1.2.3.5.3" xref="S2.Ex4.m1.1.1.2.3.5.3.cmml">i</mi></msub></mrow></msub><mo id="S2.Ex4.m1.1.1.1" xref="S2.Ex4.m1.1.1.1.cmml">=</mo><mrow id="S2.Ex4.m1.1.1.3" xref="S2.Ex4.m1.1.1.3.cmml"><msub id="S2.Ex4.m1.1.1.3.2" xref="S2.Ex4.m1.1.1.3.2.cmml"><mi id="S2.Ex4.m1.1.1.3.2.2" xref="S2.Ex4.m1.1.1.3.2.2.cmml">p</mi><mrow id="S2.Ex4.m1.1.1.3.2.3" xref="S2.Ex4.m1.1.1.3.2.3.cmml"><mi id="S2.Ex4.m1.1.1.3.2.3.2" xref="S2.Ex4.m1.1.1.3.2.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.Ex4.m1.1.1.3.2.3.1" xref="S2.Ex4.m1.1.1.3.2.3.1.cmml">​</mo><mi id="S2.Ex4.m1.1.1.3.2.3.3" xref="S2.Ex4.m1.1.1.3.2.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.Ex4.m1.1.1.3.2.3.1a" xref="S2.Ex4.m1.1.1.3.2.3.1.cmml">​</mo><mi id="S2.Ex4.m1.1.1.3.2.3.4" xref="S2.Ex4.m1.1.1.3.2.3.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="S2.Ex4.m1.1.1.3.2.3.1b" xref="S2.Ex4.m1.1.1.3.2.3.1.cmml">​</mo><msub id="S2.Ex4.m1.1.1.3.2.3.5" xref="S2.Ex4.m1.1.1.3.2.3.5.cmml"><mi id="S2.Ex4.m1.1.1.3.2.3.5.2" xref="S2.Ex4.m1.1.1.3.2.3.5.2.cmml">k</mi><mn id="S2.Ex4.m1.1.1.3.2.3.5.3" xref="S2.Ex4.m1.1.1.3.2.3.5.3.cmml">1</mn></msub></mrow></msub><mo lspace="0.222em" rspace="0.222em" id="S2.Ex4.m1.1.1.3.1" xref="S2.Ex4.m1.1.1.3.1.cmml">⋅</mo><msup id="S2.Ex4.m1.1.1.3.3" xref="S2.Ex4.m1.1.1.3.3.cmml"><mn id="S2.Ex4.m1.1.1.3.3.2" xref="S2.Ex4.m1.1.1.3.3.2.cmml">256</mn><mrow id="S2.Ex4.m1.1.1.3.3.3" xref="S2.Ex4.m1.1.1.3.3.3.cmml"><mi id="S2.Ex4.m1.1.1.3.3.3.2" xref="S2.Ex4.m1.1.1.3.3.3.2.cmml">i</mi><mo id="S2.Ex4.m1.1.1.3.3.3.1" xref="S2.Ex4.m1.1.1.3.3.3.1.cmml">−</mo><mn id="S2.Ex4.m1.1.1.3.3.3.3" xref="S2.Ex4.m1.1.1.3.3.3.3.cmml">1</mn></mrow></msup></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.Ex4.m1.1b"><apply id="S2.Ex4.m1.1.1.cmml" xref="S2.Ex4.m1.1.1"><eq id="S2.Ex4.m1.1.1.1.cmml" xref="S2.Ex4.m1.1.1.1"></eq><apply id="S2.Ex4.m1.1.1.2.cmml" xref="S2.Ex4.m1.1.1.2"><csymbol cd="ambiguous" id="S2.Ex4.m1.1.1.2.1.cmml" xref="S2.Ex4.m1.1.1.2">subscript</csymbol><ci id="S2.Ex4.m1.1.1.2.2.cmml" xref="S2.Ex4.m1.1.1.2.2">𝑝</ci><apply id="S2.Ex4.m1.1.1.2.3.cmml" xref="S2.Ex4.m1.1.1.2.3"><times id="S2.Ex4.m1.1.1.2.3.1.cmml" xref="S2.Ex4.m1.1.1.2.3.1"></times><ci id="S2.Ex4.m1.1.1.2.3.2.cmml" xref="S2.Ex4.m1.1.1.2.3.2">𝑟</ci><ci id="S2.Ex4.m1.1.1.2.3.3.cmml" xref="S2.Ex4.m1.1.1.2.3.3">𝑎</ci><ci id="S2.Ex4.m1.1.1.2.3.4.cmml" xref="S2.Ex4.m1.1.1.2.3.4">𝑛</ci><apply id="S2.Ex4.m1.1.1.2.3.5.cmml" xref="S2.Ex4.m1.1.1.2.3.5"><csymbol cd="ambiguous" id="S2.Ex4.m1.1.1.2.3.5.1.cmml" xref="S2.Ex4.m1.1.1.2.3.5">subscript</csymbol><ci id="S2.Ex4.m1.1.1.2.3.5.2.cmml" xref="S2.Ex4.m1.1.1.2.3.5.2">𝑘</ci><ci id="S2.Ex4.m1.1.1.2.3.5.3.cmml" xref="S2.Ex4.m1.1.1.2.3.5.3">𝑖</ci></apply></apply></apply><apply id="S2.Ex4.m1.1.1.3.cmml" xref="S2.Ex4.m1.1.1.3"><ci id="S2.Ex4.m1.1.1.3.1.cmml" xref="S2.Ex4.m1.1.1.3.1">⋅</ci><apply id="S2.Ex4.m1.1.1.3.2.cmml" xref="S2.Ex4.m1.1.1.3.2"><csymbol cd="ambiguous" id="S2.Ex4.m1.1.1.3.2.1.cmml" xref="S2.Ex4.m1.1.1.3.2">subscript</csymbol><ci id="S2.Ex4.m1.1.1.3.2.2.cmml" xref="S2.Ex4.m1.1.1.3.2.2">𝑝</ci><apply id="S2.Ex4.m1.1.1.3.2.3.cmml" xref="S2.Ex4.m1.1.1.3.2.3"><times id="S2.Ex4.m1.1.1.3.2.3.1.cmml" xref="S2.Ex4.m1.1.1.3.2.3.1"></times><ci id="S2.Ex4.m1.1.1.3.2.3.2.cmml" xref="S2.Ex4.m1.1.1.3.2.3.2">𝑟</ci><ci id="S2.Ex4.m1.1.1.3.2.3.3.cmml" xref="S2.Ex4.m1.1.1.3.2.3.3">𝑎</ci><ci id="S2.Ex4.m1.1.1.3.2.3.4.cmml" xref="S2.Ex4.m1.1.1.3.2.3.4">𝑛</ci><apply id="S2.Ex4.m1.1.1.3.2.3.5.cmml" xref="S2.Ex4.m1.1.1.3.2.3.5"><csymbol cd="ambiguous" id="S2.Ex4.m1.1.1.3.2.3.5.1.cmml" xref="S2.Ex4.m1.1.1.3.2.3.5">subscript</csymbol><ci id="S2.Ex4.m1.1.1.3.2.3.5.2.cmml" xref="S2.Ex4.m1.1.1.3.2.3.5.2">𝑘</ci><cn type="integer" id="S2.Ex4.m1.1.1.3.2.3.5.3.cmml" xref="S2.Ex4.m1.1.1.3.2.3.5.3">1</cn></apply></apply></apply><apply id="S2.Ex4.m1.1.1.3.3.cmml" xref="S2.Ex4.m1.1.1.3.3"><csymbol cd="ambiguous" id="S2.Ex4.m1.1.1.3.3.1.cmml" xref="S2.Ex4.m1.1.1.3.3">superscript</csymbol><cn type="integer" id="S2.Ex4.m1.1.1.3.3.2.cmml" xref="S2.Ex4.m1.1.1.3.3.2">256</cn><apply id="S2.Ex4.m1.1.1.3.3.3.cmml" xref="S2.Ex4.m1.1.1.3.3.3"><minus id="S2.Ex4.m1.1.1.3.3.3.1.cmml" xref="S2.Ex4.m1.1.1.3.3.3.1"></minus><ci id="S2.Ex4.m1.1.1.3.3.3.2.cmml" xref="S2.Ex4.m1.1.1.3.3.3.2">𝑖</ci><cn type="integer" id="S2.Ex4.m1.1.1.3.3.3.3.cmml" xref="S2.Ex4.m1.1.1.3.3.3.3">1</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.Ex4.m1.1c">p_{rank_{i}}=p_{rank_{1}}\cdot 256^{i-1}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<table id="S2.Ex5" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.Ex5.m1.1" class="ltx_Math" alttext="o_{rank_{i}}=o_{rank_{1}}\cdot 256^{i-1}" display="block"><semantics id="S2.Ex5.m1.1a"><mrow id="S2.Ex5.m1.1.1" xref="S2.Ex5.m1.1.1.cmml"><msub id="S2.Ex5.m1.1.1.2" xref="S2.Ex5.m1.1.1.2.cmml"><mi id="S2.Ex5.m1.1.1.2.2" xref="S2.Ex5.m1.1.1.2.2.cmml">o</mi><mrow id="S2.Ex5.m1.1.1.2.3" xref="S2.Ex5.m1.1.1.2.3.cmml"><mi id="S2.Ex5.m1.1.1.2.3.2" xref="S2.Ex5.m1.1.1.2.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.Ex5.m1.1.1.2.3.1" xref="S2.Ex5.m1.1.1.2.3.1.cmml">​</mo><mi id="S2.Ex5.m1.1.1.2.3.3" xref="S2.Ex5.m1.1.1.2.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.Ex5.m1.1.1.2.3.1a" xref="S2.Ex5.m1.1.1.2.3.1.cmml">​</mo><mi id="S2.Ex5.m1.1.1.2.3.4" xref="S2.Ex5.m1.1.1.2.3.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="S2.Ex5.m1.1.1.2.3.1b" xref="S2.Ex5.m1.1.1.2.3.1.cmml">​</mo><msub id="S2.Ex5.m1.1.1.2.3.5" xref="S2.Ex5.m1.1.1.2.3.5.cmml"><mi id="S2.Ex5.m1.1.1.2.3.5.2" xref="S2.Ex5.m1.1.1.2.3.5.2.cmml">k</mi><mi id="S2.Ex5.m1.1.1.2.3.5.3" xref="S2.Ex5.m1.1.1.2.3.5.3.cmml">i</mi></msub></mrow></msub><mo id="S2.Ex5.m1.1.1.1" xref="S2.Ex5.m1.1.1.1.cmml">=</mo><mrow id="S2.Ex5.m1.1.1.3" xref="S2.Ex5.m1.1.1.3.cmml"><msub id="S2.Ex5.m1.1.1.3.2" xref="S2.Ex5.m1.1.1.3.2.cmml"><mi id="S2.Ex5.m1.1.1.3.2.2" xref="S2.Ex5.m1.1.1.3.2.2.cmml">o</mi><mrow id="S2.Ex5.m1.1.1.3.2.3" xref="S2.Ex5.m1.1.1.3.2.3.cmml"><mi id="S2.Ex5.m1.1.1.3.2.3.2" xref="S2.Ex5.m1.1.1.3.2.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.Ex5.m1.1.1.3.2.3.1" xref="S2.Ex5.m1.1.1.3.2.3.1.cmml">​</mo><mi id="S2.Ex5.m1.1.1.3.2.3.3" xref="S2.Ex5.m1.1.1.3.2.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.Ex5.m1.1.1.3.2.3.1a" xref="S2.Ex5.m1.1.1.3.2.3.1.cmml">​</mo><mi id="S2.Ex5.m1.1.1.3.2.3.4" xref="S2.Ex5.m1.1.1.3.2.3.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="S2.Ex5.m1.1.1.3.2.3.1b" xref="S2.Ex5.m1.1.1.3.2.3.1.cmml">​</mo><msub id="S2.Ex5.m1.1.1.3.2.3.5" xref="S2.Ex5.m1.1.1.3.2.3.5.cmml"><mi id="S2.Ex5.m1.1.1.3.2.3.5.2" xref="S2.Ex5.m1.1.1.3.2.3.5.2.cmml">k</mi><mn id="S2.Ex5.m1.1.1.3.2.3.5.3" xref="S2.Ex5.m1.1.1.3.2.3.5.3.cmml">1</mn></msub></mrow></msub><mo lspace="0.222em" rspace="0.222em" id="S2.Ex5.m1.1.1.3.1" xref="S2.Ex5.m1.1.1.3.1.cmml">⋅</mo><msup id="S2.Ex5.m1.1.1.3.3" xref="S2.Ex5.m1.1.1.3.3.cmml"><mn id="S2.Ex5.m1.1.1.3.3.2" xref="S2.Ex5.m1.1.1.3.3.2.cmml">256</mn><mrow id="S2.Ex5.m1.1.1.3.3.3" xref="S2.Ex5.m1.1.1.3.3.3.cmml"><mi id="S2.Ex5.m1.1.1.3.3.3.2" xref="S2.Ex5.m1.1.1.3.3.3.2.cmml">i</mi><mo id="S2.Ex5.m1.1.1.3.3.3.1" xref="S2.Ex5.m1.1.1.3.3.3.1.cmml">−</mo><mn id="S2.Ex5.m1.1.1.3.3.3.3" xref="S2.Ex5.m1.1.1.3.3.3.3.cmml">1</mn></mrow></msup></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.Ex5.m1.1b"><apply id="S2.Ex5.m1.1.1.cmml" xref="S2.Ex5.m1.1.1"><eq id="S2.Ex5.m1.1.1.1.cmml" xref="S2.Ex5.m1.1.1.1"></eq><apply id="S2.Ex5.m1.1.1.2.cmml" xref="S2.Ex5.m1.1.1.2"><csymbol cd="ambiguous" id="S2.Ex5.m1.1.1.2.1.cmml" xref="S2.Ex5.m1.1.1.2">subscript</csymbol><ci id="S2.Ex5.m1.1.1.2.2.cmml" xref="S2.Ex5.m1.1.1.2.2">𝑜</ci><apply id="S2.Ex5.m1.1.1.2.3.cmml" xref="S2.Ex5.m1.1.1.2.3"><times id="S2.Ex5.m1.1.1.2.3.1.cmml" xref="S2.Ex5.m1.1.1.2.3.1"></times><ci id="S2.Ex5.m1.1.1.2.3.2.cmml" xref="S2.Ex5.m1.1.1.2.3.2">𝑟</ci><ci id="S2.Ex5.m1.1.1.2.3.3.cmml" xref="S2.Ex5.m1.1.1.2.3.3">𝑎</ci><ci id="S2.Ex5.m1.1.1.2.3.4.cmml" xref="S2.Ex5.m1.1.1.2.3.4">𝑛</ci><apply id="S2.Ex5.m1.1.1.2.3.5.cmml" xref="S2.Ex5.m1.1.1.2.3.5"><csymbol cd="ambiguous" id="S2.Ex5.m1.1.1.2.3.5.1.cmml" xref="S2.Ex5.m1.1.1.2.3.5">subscript</csymbol><ci id="S2.Ex5.m1.1.1.2.3.5.2.cmml" xref="S2.Ex5.m1.1.1.2.3.5.2">𝑘</ci><ci id="S2.Ex5.m1.1.1.2.3.5.3.cmml" xref="S2.Ex5.m1.1.1.2.3.5.3">𝑖</ci></apply></apply></apply><apply id="S2.Ex5.m1.1.1.3.cmml" xref="S2.Ex5.m1.1.1.3"><ci id="S2.Ex5.m1.1.1.3.1.cmml" xref="S2.Ex5.m1.1.1.3.1">⋅</ci><apply id="S2.Ex5.m1.1.1.3.2.cmml" xref="S2.Ex5.m1.1.1.3.2"><csymbol cd="ambiguous" id="S2.Ex5.m1.1.1.3.2.1.cmml" xref="S2.Ex5.m1.1.1.3.2">subscript</csymbol><ci id="S2.Ex5.m1.1.1.3.2.2.cmml" xref="S2.Ex5.m1.1.1.3.2.2">𝑜</ci><apply id="S2.Ex5.m1.1.1.3.2.3.cmml" xref="S2.Ex5.m1.1.1.3.2.3"><times id="S2.Ex5.m1.1.1.3.2.3.1.cmml" xref="S2.Ex5.m1.1.1.3.2.3.1"></times><ci id="S2.Ex5.m1.1.1.3.2.3.2.cmml" xref="S2.Ex5.m1.1.1.3.2.3.2">𝑟</ci><ci id="S2.Ex5.m1.1.1.3.2.3.3.cmml" xref="S2.Ex5.m1.1.1.3.2.3.3">𝑎</ci><ci id="S2.Ex5.m1.1.1.3.2.3.4.cmml" xref="S2.Ex5.m1.1.1.3.2.3.4">𝑛</ci><apply id="S2.Ex5.m1.1.1.3.2.3.5.cmml" xref="S2.Ex5.m1.1.1.3.2.3.5"><csymbol cd="ambiguous" id="S2.Ex5.m1.1.1.3.2.3.5.1.cmml" xref="S2.Ex5.m1.1.1.3.2.3.5">subscript</csymbol><ci id="S2.Ex5.m1.1.1.3.2.3.5.2.cmml" xref="S2.Ex5.m1.1.1.3.2.3.5.2">𝑘</ci><cn type="integer" id="S2.Ex5.m1.1.1.3.2.3.5.3.cmml" xref="S2.Ex5.m1.1.1.3.2.3.5.3">1</cn></apply></apply></apply><apply id="S2.Ex5.m1.1.1.3.3.cmml" xref="S2.Ex5.m1.1.1.3.3"><csymbol cd="ambiguous" id="S2.Ex5.m1.1.1.3.3.1.cmml" xref="S2.Ex5.m1.1.1.3.3">superscript</csymbol><cn type="integer" id="S2.Ex5.m1.1.1.3.3.2.cmml" xref="S2.Ex5.m1.1.1.3.3.2">256</cn><apply id="S2.Ex5.m1.1.1.3.3.3.cmml" xref="S2.Ex5.m1.1.1.3.3.3"><minus id="S2.Ex5.m1.1.1.3.3.3.1.cmml" xref="S2.Ex5.m1.1.1.3.3.3.1"></minus><ci id="S2.Ex5.m1.1.1.3.3.3.2.cmml" xref="S2.Ex5.m1.1.1.3.3.3.2">𝑖</ci><cn type="integer" id="S2.Ex5.m1.1.1.3.3.3.3.cmml" xref="S2.Ex5.m1.1.1.3.3.3.3">1</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.Ex5.m1.1c">o_{rank_{i}}=o_{rank_{1}}\cdot 256^{i-1}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div id="S2.SS1.p9" class="ltx_para">
<p id="S2.SS1.p9.1" class="ltx_p">An implementation of this is shown in Listing <a href="#LST1" title="Listing 1 ‣ 2.1 Rank Attacks ‣ 2 Direct Lookup ‣ AVOIDING ROTATED BITBOARDS WITH DIRECT LOOKUP" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>.
Here, the function’s outer loop (variable i in line 3)
iterates the attacking piece over the squares of
the first rank beginning with square h1. The rank_attacks hash table
is initialized in line 2 and in lines 4 and 5. The second loop iterates over
the possible 256 occupancy values for a rank (line 6). After some initialization,
the function moves one square to the right of the attacking piece,
adding the value to the hash table. If the square is occupied, there is a
piece that will block further movement in this direction and so we break out of
this right side summation. This process is repeated for the left side of the
attacking square (lines 12-15). Finally, when the rank_attack hash table is complete
for the particular attacking square, the function shifts the values for each
respective rank for the remaining ranks (lines 16-21). Note that this
hash table includes blocking squares that are occupied by both enemy
and friendly pieces. The friendly piece occupancy will need to be
removed before assembling the legal moves.</p>
</div>
<figure id="LST1" class="ltx_float ltx_lstlisting">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float">Listing 1: </span>Rank Attack Lookup Table</figcaption>
<div id="LST1.1" class="ltx_listing ltx_lst_language_Python ltx_lstlisting ltx_listing">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZGVmIGdldF9yYW5rX2F0dGFja3MgKCk6CiAgICByYW5rX2F0dGFja3MgPSB7fQogICAgZm9yIGkgaW4gcmFuZ2UoOCk6CiAgICAgICAgZm9yIHIgaW4gcmFuZ2UoOCk6CiAgICAgICAgICAgIHJhbmtfYXR0YWNrc1sxIDw8IChpICsgKHIgKiA4KSldID0ge30KICAgICAgICBmb3IgaiBpbiByYW5nZSgyNTYpOgogICAgICAgICAgICByYW5rX2F0dGFja3NbMSA8PCBpXVtqXSA9IDAKICAgICAgICAgICAgZm9yIHJpZ2h0IGluIHJhbmdlKGktMSwgLTEsIC0xKToKICAgICAgICAgICAgICAgIHJhbmtfYXR0YWNrc1sxIDw8IGldW2pdIHw9IDE8PHJpZ2h0ICAjIHNhdmUgaXQKICAgICAgICAgICAgICAgIGlmICgoMSA8PCByaWdodCkgJiBqICE9IDApOiAgIyBub24gZW1wdHkgc3BhY2UKICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICBmb3IgbGVmdCBpbiByYW5nZShpKzEsOCk6CiAgICAgICAgICAgICAgICByYW5rX2F0dGFja3NbMSA8PCBpXVtqXSB8PSAxIDw8IGxlZnQgICMgc2F2ZSBpdAogICAgICAgICAgICAgICAgaWYgKCgxIDw8IGxlZnQpICYgaiAhPSAwKTogICMgbm9uIGVtcHR5IHNwYWNlCiAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgZm9yIHJhbmsgaW4gcmFuZ2UoMSw4KToKICAgICAgICAgICAgICAgIHggPSAxIDw8IChpKyhyYW5rKjgpKQogICAgICAgICAgICAgICAgeSA9IGogPDwgKHJhbmsqOCkKICAgICAgICAgICAgICAgIHZhbHVlID0gcmFua19hdHRhY2tzWzEgPDwgaV1bal0KICAgICAgICAgICAgICAgIG5ld3ZhbHVlID0gdmFsdWUgPDwgKHJhbmsqOCkKICAgICAgICAgICAgICAgIHJhbmtfYXR0YWNrc1t4XVt5XSA9IG5ld3ZhbHVlCgogICAgcmV0dXJuKHJhbmtfYXR0YWNrcyk=" download="">⬇</a></div>
<div id="lstnumberx1" class="ltx_listingline">
<span id="lstnumberx1.1" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">def</span><span id="lstnumberx1.2" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx1.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">get_rank_attacks</span><span id="lstnumberx1.4" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx1.5" class="ltx_text" style="font-size:80%;">():</span>
</div>
<div id="lstnumberx2" class="ltx_listingline">
<span id="lstnumberx2.1" class="ltx_text ltx_lst_space" style="font-size:80%;">    </span><span id="lstnumberx2.2" class="ltx_text ltx_lst_identifier" style="font-size:80%;">rank_attacks</span><span id="lstnumberx2.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx2.4" class="ltx_text" style="font-size:80%;">=</span><span id="lstnumberx2.5" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx2.6" class="ltx_text" style="font-size:80%;">{}</span>
</div>
<div id="lstnumberx3" class="ltx_listingline">
<span id="lstnumberx3.1" class="ltx_text ltx_lst_space" style="font-size:80%;">    </span><span id="lstnumberx3.2" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">for</span><span id="lstnumberx3.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx3.4" class="ltx_text ltx_lst_identifier" style="font-size:80%;">i</span><span id="lstnumberx3.5" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx3.6" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">in</span><span id="lstnumberx3.7" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx3.8" class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_sansserif" style="font-size:80%;">range</span><span id="lstnumberx3.9" class="ltx_text" style="font-size:80%;">(8):</span>
</div>
<div id="lstnumberx4" class="ltx_listingline">
<span id="lstnumberx4.1" class="ltx_text ltx_lst_space" style="font-size:80%;">        </span><span id="lstnumberx4.2" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">for</span><span id="lstnumberx4.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx4.4" class="ltx_text ltx_lst_identifier" style="font-size:80%;">r</span><span id="lstnumberx4.5" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx4.6" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">in</span><span id="lstnumberx4.7" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx4.8" class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_sansserif" style="font-size:80%;">range</span><span id="lstnumberx4.9" class="ltx_text" style="font-size:80%;">(8):</span>
</div>
<div id="lstnumberx5" class="ltx_listingline">
<span id="lstnumberx5.1" class="ltx_text ltx_lst_space" style="font-size:80%;">            </span><span id="lstnumberx5.2" class="ltx_text ltx_lst_identifier" style="font-size:80%;">rank_attacks</span><span id="lstnumberx5.3" class="ltx_text" style="font-size:80%;">[1</span><span id="lstnumberx5.4" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx5.5" class="ltx_text" style="font-size:80%;">&lt;&lt;</span><span id="lstnumberx5.6" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx5.7" class="ltx_text" style="font-size:80%;">(</span><span id="lstnumberx5.8" class="ltx_text ltx_lst_identifier" style="font-size:80%;">i</span><span id="lstnumberx5.9" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx5.10" class="ltx_text" style="font-size:80%;">+</span><span id="lstnumberx5.11" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx5.12" class="ltx_text" style="font-size:80%;">(</span><span id="lstnumberx5.13" class="ltx_text ltx_lst_identifier" style="font-size:80%;">r</span><span id="lstnumberx5.14" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx5.15" class="ltx_text" style="font-size:80%;">*</span><span id="lstnumberx5.16" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx5.17" class="ltx_text" style="font-size:80%;">8))]</span><span id="lstnumberx5.18" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx5.19" class="ltx_text" style="font-size:80%;">=</span><span id="lstnumberx5.20" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx5.21" class="ltx_text" style="font-size:80%;">{}</span>
</div>
<div id="lstnumberx6" class="ltx_listingline">
<span id="lstnumberx6.1" class="ltx_text ltx_lst_space" style="font-size:80%;">        </span><span id="lstnumberx6.2" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">for</span><span id="lstnumberx6.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx6.4" class="ltx_text ltx_lst_identifier" style="font-size:80%;">j</span><span id="lstnumberx6.5" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx6.6" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">in</span><span id="lstnumberx6.7" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx6.8" class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_sansserif" style="font-size:80%;">range</span><span id="lstnumberx6.9" class="ltx_text" style="font-size:80%;">(256):</span>
</div>
<div id="lstnumberx7" class="ltx_listingline">
<span id="lstnumberx7.1" class="ltx_text ltx_lst_space" style="font-size:80%;">            </span><span id="lstnumberx7.2" class="ltx_text ltx_lst_identifier" style="font-size:80%;">rank_attacks</span><span id="lstnumberx7.3" class="ltx_text" style="font-size:80%;">[1</span><span id="lstnumberx7.4" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx7.5" class="ltx_text" style="font-size:80%;">&lt;&lt;</span><span id="lstnumberx7.6" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx7.7" class="ltx_text ltx_lst_identifier" style="font-size:80%;">i</span><span id="lstnumberx7.8" class="ltx_text" style="font-size:80%;">][</span><span id="lstnumberx7.9" class="ltx_text ltx_lst_identifier" style="font-size:80%;">j</span><span id="lstnumberx7.10" class="ltx_text" style="font-size:80%;">]</span><span id="lstnumberx7.11" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx7.12" class="ltx_text" style="font-size:80%;">=</span><span id="lstnumberx7.13" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx7.14" class="ltx_text" style="font-size:80%;">0</span>
</div>
<div id="lstnumberx8" class="ltx_listingline">
<span id="lstnumberx8.1" class="ltx_text ltx_lst_space" style="font-size:80%;">            </span><span id="lstnumberx8.2" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">for</span><span id="lstnumberx8.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx8.4" class="ltx_text ltx_lst_identifier" style="font-size:80%;">right</span><span id="lstnumberx8.5" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx8.6" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">in</span><span id="lstnumberx8.7" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx8.8" class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_sansserif" style="font-size:80%;">range</span><span id="lstnumberx8.9" class="ltx_text" style="font-size:80%;">(</span><span id="lstnumberx8.10" class="ltx_text ltx_lst_identifier" style="font-size:80%;">i</span><span id="lstnumberx8.11" class="ltx_text" style="font-size:80%;">-1,</span><span id="lstnumberx8.12" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx8.13" class="ltx_text" style="font-size:80%;">-1,</span><span id="lstnumberx8.14" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx8.15" class="ltx_text" style="font-size:80%;">-1):</span>
</div>
<div id="lstnumberx9" class="ltx_listingline">
<span id="lstnumberx9.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                </span><span id="lstnumberx9.2" class="ltx_text ltx_lst_identifier" style="font-size:80%;">rank_attacks</span><span id="lstnumberx9.3" class="ltx_text" style="font-size:80%;">[1</span><span id="lstnumberx9.4" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx9.5" class="ltx_text" style="font-size:80%;">&lt;&lt;</span><span id="lstnumberx9.6" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx9.7" class="ltx_text ltx_lst_identifier" style="font-size:80%;">i</span><span id="lstnumberx9.8" class="ltx_text" style="font-size:80%;">][</span><span id="lstnumberx9.9" class="ltx_text ltx_lst_identifier" style="font-size:80%;">j</span><span id="lstnumberx9.10" class="ltx_text" style="font-size:80%;">]</span><span id="lstnumberx9.11" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx9.12" class="ltx_text" style="font-size:80%;">|=</span><span id="lstnumberx9.13" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx9.14" class="ltx_text" style="font-size:80%;">1&lt;&lt;</span><span id="lstnumberx9.15" class="ltx_text ltx_lst_identifier" style="font-size:80%;">right</span><span id="lstnumberx9.16" class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span id="lstnumberx9.17" class="ltx_text ltx_lst_comment ltx_font_typewriter" style="font-size:80%;">#<span id="lstnumberx9.17.1" class="ltx_text ltx_lst_space"> </span>save<span id="lstnumberx9.17.2" class="ltx_text ltx_lst_space"> </span>it</span>
</div>
<div id="lstnumberx10" class="ltx_listingline">
<span id="lstnumberx10.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                </span><span id="lstnumberx10.2" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">if</span><span id="lstnumberx10.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx10.4" class="ltx_text" style="font-size:80%;">((1</span><span id="lstnumberx10.5" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx10.6" class="ltx_text" style="font-size:80%;">&lt;&lt;</span><span id="lstnumberx10.7" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx10.8" class="ltx_text ltx_lst_identifier" style="font-size:80%;">right</span><span id="lstnumberx10.9" class="ltx_text" style="font-size:80%;">)</span><span id="lstnumberx10.10" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx10.11" class="ltx_text" style="font-size:80%;">&amp;</span><span id="lstnumberx10.12" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx10.13" class="ltx_text ltx_lst_identifier" style="font-size:80%;">j</span><span id="lstnumberx10.14" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx10.15" class="ltx_text" style="font-size:80%;">!=</span><span id="lstnumberx10.16" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx10.17" class="ltx_text" style="font-size:80%;">0):</span><span id="lstnumberx10.18" class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span id="lstnumberx10.19" class="ltx_text ltx_lst_comment ltx_font_typewriter" style="font-size:80%;">#<span id="lstnumberx10.19.1" class="ltx_text ltx_lst_space"> </span>non<span id="lstnumberx10.19.2" class="ltx_text ltx_lst_space"> </span>empty<span id="lstnumberx10.19.3" class="ltx_text ltx_lst_space"> </span>space</span>
</div>
<div id="lstnumberx11" class="ltx_listingline">
<span id="lstnumberx11.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                    </span><span id="lstnumberx11.2" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">break</span>
</div>
<div id="lstnumberx12" class="ltx_listingline">
<span id="lstnumberx12.1" class="ltx_text ltx_lst_space" style="font-size:80%;">            </span><span id="lstnumberx12.2" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">for</span><span id="lstnumberx12.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx12.4" class="ltx_text ltx_lst_identifier" style="font-size:80%;">left</span><span id="lstnumberx12.5" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx12.6" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">in</span><span id="lstnumberx12.7" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx12.8" class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_sansserif" style="font-size:80%;">range</span><span id="lstnumberx12.9" class="ltx_text" style="font-size:80%;">(</span><span id="lstnumberx12.10" class="ltx_text ltx_lst_identifier" style="font-size:80%;">i</span><span id="lstnumberx12.11" class="ltx_text" style="font-size:80%;">+1,8):</span>
</div>
<div id="lstnumberx13" class="ltx_listingline">
<span id="lstnumberx13.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                </span><span id="lstnumberx13.2" class="ltx_text ltx_lst_identifier" style="font-size:80%;">rank_attacks</span><span id="lstnumberx13.3" class="ltx_text" style="font-size:80%;">[1</span><span id="lstnumberx13.4" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx13.5" class="ltx_text" style="font-size:80%;">&lt;&lt;</span><span id="lstnumberx13.6" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx13.7" class="ltx_text ltx_lst_identifier" style="font-size:80%;">i</span><span id="lstnumberx13.8" class="ltx_text" style="font-size:80%;">][</span><span id="lstnumberx13.9" class="ltx_text ltx_lst_identifier" style="font-size:80%;">j</span><span id="lstnumberx13.10" class="ltx_text" style="font-size:80%;">]</span><span id="lstnumberx13.11" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx13.12" class="ltx_text" style="font-size:80%;">|=</span><span id="lstnumberx13.13" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx13.14" class="ltx_text" style="font-size:80%;">1</span><span id="lstnumberx13.15" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx13.16" class="ltx_text" style="font-size:80%;">&lt;&lt;</span><span id="lstnumberx13.17" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx13.18" class="ltx_text ltx_lst_identifier" style="font-size:80%;">left</span><span id="lstnumberx13.19" class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span id="lstnumberx13.20" class="ltx_text ltx_lst_comment ltx_font_typewriter" style="font-size:80%;">#<span id="lstnumberx13.20.1" class="ltx_text ltx_lst_space"> </span>save<span id="lstnumberx13.20.2" class="ltx_text ltx_lst_space"> </span>it</span>
</div>
<div id="lstnumberx14" class="ltx_listingline">
<span id="lstnumberx14.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                </span><span id="lstnumberx14.2" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">if</span><span id="lstnumberx14.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx14.4" class="ltx_text" style="font-size:80%;">((1</span><span id="lstnumberx14.5" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx14.6" class="ltx_text" style="font-size:80%;">&lt;&lt;</span><span id="lstnumberx14.7" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx14.8" class="ltx_text ltx_lst_identifier" style="font-size:80%;">left</span><span id="lstnumberx14.9" class="ltx_text" style="font-size:80%;">)</span><span id="lstnumberx14.10" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx14.11" class="ltx_text" style="font-size:80%;">&amp;</span><span id="lstnumberx14.12" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx14.13" class="ltx_text ltx_lst_identifier" style="font-size:80%;">j</span><span id="lstnumberx14.14" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx14.15" class="ltx_text" style="font-size:80%;">!=</span><span id="lstnumberx14.16" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx14.17" class="ltx_text" style="font-size:80%;">0):</span><span id="lstnumberx14.18" class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span id="lstnumberx14.19" class="ltx_text ltx_lst_comment ltx_font_typewriter" style="font-size:80%;">#<span id="lstnumberx14.19.1" class="ltx_text ltx_lst_space"> </span>non<span id="lstnumberx14.19.2" class="ltx_text ltx_lst_space"> </span>empty<span id="lstnumberx14.19.3" class="ltx_text ltx_lst_space"> </span>space</span>
</div>
<div id="lstnumberx15" class="ltx_listingline">
<span id="lstnumberx15.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                    </span><span id="lstnumberx15.2" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">break</span>
</div>
<div id="lstnumberx16" class="ltx_listingline">
<span id="lstnumberx16.1" class="ltx_text ltx_lst_space" style="font-size:80%;">            </span><span id="lstnumberx16.2" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">for</span><span id="lstnumberx16.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx16.4" class="ltx_text ltx_lst_identifier" style="font-size:80%;">rank</span><span id="lstnumberx16.5" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx16.6" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">in</span><span id="lstnumberx16.7" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx16.8" class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_sansserif" style="font-size:80%;">range</span><span id="lstnumberx16.9" class="ltx_text" style="font-size:80%;">(1,8):</span>
</div>
<div id="lstnumberx17" class="ltx_listingline">
<span id="lstnumberx17.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                </span><span id="lstnumberx17.2" class="ltx_text ltx_lst_identifier" style="font-size:80%;">x</span><span id="lstnumberx17.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx17.4" class="ltx_text" style="font-size:80%;">=</span><span id="lstnumberx17.5" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx17.6" class="ltx_text" style="font-size:80%;">1</span><span id="lstnumberx17.7" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx17.8" class="ltx_text" style="font-size:80%;">&lt;&lt;</span><span id="lstnumberx17.9" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx17.10" class="ltx_text" style="font-size:80%;">(</span><span id="lstnumberx17.11" class="ltx_text ltx_lst_identifier" style="font-size:80%;">i</span><span id="lstnumberx17.12" class="ltx_text" style="font-size:80%;">+(</span><span id="lstnumberx17.13" class="ltx_text ltx_lst_identifier" style="font-size:80%;">rank</span><span id="lstnumberx17.14" class="ltx_text" style="font-size:80%;">*8))</span>
</div>
<div id="lstnumberx18" class="ltx_listingline">
<span id="lstnumberx18.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                </span><span id="lstnumberx18.2" class="ltx_text ltx_lst_identifier" style="font-size:80%;">y</span><span id="lstnumberx18.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx18.4" class="ltx_text" style="font-size:80%;">=</span><span id="lstnumberx18.5" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx18.6" class="ltx_text ltx_lst_identifier" style="font-size:80%;">j</span><span id="lstnumberx18.7" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx18.8" class="ltx_text" style="font-size:80%;">&lt;&lt;</span><span id="lstnumberx18.9" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx18.10" class="ltx_text" style="font-size:80%;">(</span><span id="lstnumberx18.11" class="ltx_text ltx_lst_identifier" style="font-size:80%;">rank</span><span id="lstnumberx18.12" class="ltx_text" style="font-size:80%;">*8)</span>
</div>
<div id="lstnumberx19" class="ltx_listingline">
<span id="lstnumberx19.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                </span><span id="lstnumberx19.2" class="ltx_text ltx_lst_identifier" style="font-size:80%;">value</span><span id="lstnumberx19.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx19.4" class="ltx_text" style="font-size:80%;">=</span><span id="lstnumberx19.5" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx19.6" class="ltx_text ltx_lst_identifier" style="font-size:80%;">rank_attacks</span><span id="lstnumberx19.7" class="ltx_text" style="font-size:80%;">[1</span><span id="lstnumberx19.8" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx19.9" class="ltx_text" style="font-size:80%;">&lt;&lt;</span><span id="lstnumberx19.10" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx19.11" class="ltx_text ltx_lst_identifier" style="font-size:80%;">i</span><span id="lstnumberx19.12" class="ltx_text" style="font-size:80%;">][</span><span id="lstnumberx19.13" class="ltx_text ltx_lst_identifier" style="font-size:80%;">j</span><span id="lstnumberx19.14" class="ltx_text" style="font-size:80%;">]</span>
</div>
<div id="lstnumberx20" class="ltx_listingline">
<span id="lstnumberx20.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                </span><span id="lstnumberx20.2" class="ltx_text ltx_lst_identifier" style="font-size:80%;">newvalue</span><span id="lstnumberx20.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx20.4" class="ltx_text" style="font-size:80%;">=</span><span id="lstnumberx20.5" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx20.6" class="ltx_text ltx_lst_identifier" style="font-size:80%;">value</span><span id="lstnumberx20.7" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx20.8" class="ltx_text" style="font-size:80%;">&lt;&lt;</span><span id="lstnumberx20.9" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx20.10" class="ltx_text" style="font-size:80%;">(</span><span id="lstnumberx20.11" class="ltx_text ltx_lst_identifier" style="font-size:80%;">rank</span><span id="lstnumberx20.12" class="ltx_text" style="font-size:80%;">*8)</span>
</div>
<div id="lstnumberx21" class="ltx_listingline">
<span id="lstnumberx21.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                </span><span id="lstnumberx21.2" class="ltx_text ltx_lst_identifier" style="font-size:80%;">rank_attacks</span><span id="lstnumberx21.3" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx21.4" class="ltx_text ltx_lst_identifier" style="font-size:80%;">x</span><span id="lstnumberx21.5" class="ltx_text" style="font-size:80%;">][</span><span id="lstnumberx21.6" class="ltx_text ltx_lst_identifier" style="font-size:80%;">y</span><span id="lstnumberx21.7" class="ltx_text" style="font-size:80%;">]</span><span id="lstnumberx21.8" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx21.9" class="ltx_text" style="font-size:80%;">=</span><span id="lstnumberx21.10" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx21.11" class="ltx_text ltx_lst_identifier" style="font-size:80%;">newvalue</span>
</div>
<div id="lstnumberx22" class="ltx_listingline">
</div>
<div id="lstnumberx23" class="ltx_listingline">
<span id="lstnumberx23.1" class="ltx_text ltx_lst_space" style="font-size:80%;">    </span><span id="lstnumberx23.2" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">return</span><span id="lstnumberx23.3" class="ltx_text" style="font-size:80%;">(</span><span id="lstnumberx23.4" class="ltx_text ltx_lst_identifier" style="font-size:80%;">rank_attacks</span><span id="lstnumberx23.5" class="ltx_text" style="font-size:80%;">)</span>
</div>
</div>
</figure>
</section>
<section id="S2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2 </span>File Attacks</h3>

<div id="S2.SS2.p1" class="ltx_para">
<p id="S2.SS2.p1.2" class="ltx_p">The file attacks hash table uses the values obtained in the rank attack
table on the first rank and performs a 90 degree rotation.
In the approach shown here, the 8th file
<math id="S2.SS2.p1.1.m1.1" class="ltx_Math" alttext="file\_attacks_{file_{8}}" display="inline"><semantics id="S2.SS2.p1.1.m1.1a"><mrow id="S2.SS2.p1.1.m1.1.1" xref="S2.SS2.p1.1.m1.1.1.cmml"><mi id="S2.SS2.p1.1.m1.1.1.2" xref="S2.SS2.p1.1.m1.1.1.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p1.1.m1.1.1.1" xref="S2.SS2.p1.1.m1.1.1.1.cmml">​</mo><mi id="S2.SS2.p1.1.m1.1.1.3" xref="S2.SS2.p1.1.m1.1.1.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p1.1.m1.1.1.1a" xref="S2.SS2.p1.1.m1.1.1.1.cmml">​</mo><mi id="S2.SS2.p1.1.m1.1.1.4" xref="S2.SS2.p1.1.m1.1.1.4.cmml">l</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p1.1.m1.1.1.1b" xref="S2.SS2.p1.1.m1.1.1.1.cmml">​</mo><mi id="S2.SS2.p1.1.m1.1.1.5" xref="S2.SS2.p1.1.m1.1.1.5.cmml">e</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p1.1.m1.1.1.1c" xref="S2.SS2.p1.1.m1.1.1.1.cmml">​</mo><mi mathvariant="normal" id="S2.SS2.p1.1.m1.1.1.6" xref="S2.SS2.p1.1.m1.1.1.6.cmml">_</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p1.1.m1.1.1.1d" xref="S2.SS2.p1.1.m1.1.1.1.cmml">​</mo><mi id="S2.SS2.p1.1.m1.1.1.7" xref="S2.SS2.p1.1.m1.1.1.7.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p1.1.m1.1.1.1e" xref="S2.SS2.p1.1.m1.1.1.1.cmml">​</mo><mi id="S2.SS2.p1.1.m1.1.1.8" xref="S2.SS2.p1.1.m1.1.1.8.cmml">t</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p1.1.m1.1.1.1f" xref="S2.SS2.p1.1.m1.1.1.1.cmml">​</mo><mi id="S2.SS2.p1.1.m1.1.1.9" xref="S2.SS2.p1.1.m1.1.1.9.cmml">t</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p1.1.m1.1.1.1g" xref="S2.SS2.p1.1.m1.1.1.1.cmml">​</mo><mi id="S2.SS2.p1.1.m1.1.1.10" xref="S2.SS2.p1.1.m1.1.1.10.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p1.1.m1.1.1.1h" xref="S2.SS2.p1.1.m1.1.1.1.cmml">​</mo><mi id="S2.SS2.p1.1.m1.1.1.11" xref="S2.SS2.p1.1.m1.1.1.11.cmml">c</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p1.1.m1.1.1.1i" xref="S2.SS2.p1.1.m1.1.1.1.cmml">​</mo><mi id="S2.SS2.p1.1.m1.1.1.12" xref="S2.SS2.p1.1.m1.1.1.12.cmml">k</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p1.1.m1.1.1.1j" xref="S2.SS2.p1.1.m1.1.1.1.cmml">​</mo><msub id="S2.SS2.p1.1.m1.1.1.13" xref="S2.SS2.p1.1.m1.1.1.13.cmml"><mi id="S2.SS2.p1.1.m1.1.1.13.2" xref="S2.SS2.p1.1.m1.1.1.13.2.cmml">s</mi><mrow id="S2.SS2.p1.1.m1.1.1.13.3" xref="S2.SS2.p1.1.m1.1.1.13.3.cmml"><mi id="S2.SS2.p1.1.m1.1.1.13.3.2" xref="S2.SS2.p1.1.m1.1.1.13.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p1.1.m1.1.1.13.3.1" xref="S2.SS2.p1.1.m1.1.1.13.3.1.cmml">​</mo><mi id="S2.SS2.p1.1.m1.1.1.13.3.3" xref="S2.SS2.p1.1.m1.1.1.13.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p1.1.m1.1.1.13.3.1a" xref="S2.SS2.p1.1.m1.1.1.13.3.1.cmml">​</mo><mi id="S2.SS2.p1.1.m1.1.1.13.3.4" xref="S2.SS2.p1.1.m1.1.1.13.3.4.cmml">l</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p1.1.m1.1.1.13.3.1b" xref="S2.SS2.p1.1.m1.1.1.13.3.1.cmml">​</mo><msub id="S2.SS2.p1.1.m1.1.1.13.3.5" xref="S2.SS2.p1.1.m1.1.1.13.3.5.cmml"><mi id="S2.SS2.p1.1.m1.1.1.13.3.5.2" xref="S2.SS2.p1.1.m1.1.1.13.3.5.2.cmml">e</mi><mn id="S2.SS2.p1.1.m1.1.1.13.3.5.3" xref="S2.SS2.p1.1.m1.1.1.13.3.5.3.cmml">8</mn></msub></mrow></msub></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.1.m1.1b"><apply id="S2.SS2.p1.1.m1.1.1.cmml" xref="S2.SS2.p1.1.m1.1.1"><times id="S2.SS2.p1.1.m1.1.1.1.cmml" xref="S2.SS2.p1.1.m1.1.1.1"></times><ci id="S2.SS2.p1.1.m1.1.1.2.cmml" xref="S2.SS2.p1.1.m1.1.1.2">𝑓</ci><ci id="S2.SS2.p1.1.m1.1.1.3.cmml" xref="S2.SS2.p1.1.m1.1.1.3">𝑖</ci><ci id="S2.SS2.p1.1.m1.1.1.4.cmml" xref="S2.SS2.p1.1.m1.1.1.4">𝑙</ci><ci id="S2.SS2.p1.1.m1.1.1.5.cmml" xref="S2.SS2.p1.1.m1.1.1.5">𝑒</ci><ci id="S2.SS2.p1.1.m1.1.1.6.cmml" xref="S2.SS2.p1.1.m1.1.1.6">_</ci><ci id="S2.SS2.p1.1.m1.1.1.7.cmml" xref="S2.SS2.p1.1.m1.1.1.7">𝑎</ci><ci id="S2.SS2.p1.1.m1.1.1.8.cmml" xref="S2.SS2.p1.1.m1.1.1.8">𝑡</ci><ci id="S2.SS2.p1.1.m1.1.1.9.cmml" xref="S2.SS2.p1.1.m1.1.1.9">𝑡</ci><ci id="S2.SS2.p1.1.m1.1.1.10.cmml" xref="S2.SS2.p1.1.m1.1.1.10">𝑎</ci><ci id="S2.SS2.p1.1.m1.1.1.11.cmml" xref="S2.SS2.p1.1.m1.1.1.11">𝑐</ci><ci id="S2.SS2.p1.1.m1.1.1.12.cmml" xref="S2.SS2.p1.1.m1.1.1.12">𝑘</ci><apply id="S2.SS2.p1.1.m1.1.1.13.cmml" xref="S2.SS2.p1.1.m1.1.1.13"><csymbol cd="ambiguous" id="S2.SS2.p1.1.m1.1.1.13.1.cmml" xref="S2.SS2.p1.1.m1.1.1.13">subscript</csymbol><ci id="S2.SS2.p1.1.m1.1.1.13.2.cmml" xref="S2.SS2.p1.1.m1.1.1.13.2">𝑠</ci><apply id="S2.SS2.p1.1.m1.1.1.13.3.cmml" xref="S2.SS2.p1.1.m1.1.1.13.3"><times id="S2.SS2.p1.1.m1.1.1.13.3.1.cmml" xref="S2.SS2.p1.1.m1.1.1.13.3.1"></times><ci id="S2.SS2.p1.1.m1.1.1.13.3.2.cmml" xref="S2.SS2.p1.1.m1.1.1.13.3.2">𝑓</ci><ci id="S2.SS2.p1.1.m1.1.1.13.3.3.cmml" xref="S2.SS2.p1.1.m1.1.1.13.3.3">𝑖</ci><ci id="S2.SS2.p1.1.m1.1.1.13.3.4.cmml" xref="S2.SS2.p1.1.m1.1.1.13.3.4">𝑙</ci><apply id="S2.SS2.p1.1.m1.1.1.13.3.5.cmml" xref="S2.SS2.p1.1.m1.1.1.13.3.5"><csymbol cd="ambiguous" id="S2.SS2.p1.1.m1.1.1.13.3.5.1.cmml" xref="S2.SS2.p1.1.m1.1.1.13.3.5">subscript</csymbol><ci id="S2.SS2.p1.1.m1.1.1.13.3.5.2.cmml" xref="S2.SS2.p1.1.m1.1.1.13.3.5.2">𝑒</ci><cn type="integer" id="S2.SS2.p1.1.m1.1.1.13.3.5.3.cmml" xref="S2.SS2.p1.1.m1.1.1.13.3.5.3">8</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.1.m1.1c">file\_attacks_{file_{8}}</annotation></semantics></math> hash table is obtained by converting the rank 1
<math id="S2.SS2.p1.2.m2.1" class="ltx_Math" alttext="rank\_attacks_{rank_{1}}" display="inline"><semantics id="S2.SS2.p1.2.m2.1a"><mrow id="S2.SS2.p1.2.m2.1.1" xref="S2.SS2.p1.2.m2.1.1.cmml"><mi id="S2.SS2.p1.2.m2.1.1.2" xref="S2.SS2.p1.2.m2.1.1.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p1.2.m2.1.1.1" xref="S2.SS2.p1.2.m2.1.1.1.cmml">​</mo><mi id="S2.SS2.p1.2.m2.1.1.3" xref="S2.SS2.p1.2.m2.1.1.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p1.2.m2.1.1.1a" xref="S2.SS2.p1.2.m2.1.1.1.cmml">​</mo><mi id="S2.SS2.p1.2.m2.1.1.4" xref="S2.SS2.p1.2.m2.1.1.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p1.2.m2.1.1.1b" xref="S2.SS2.p1.2.m2.1.1.1.cmml">​</mo><mi id="S2.SS2.p1.2.m2.1.1.5" xref="S2.SS2.p1.2.m2.1.1.5.cmml">k</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p1.2.m2.1.1.1c" xref="S2.SS2.p1.2.m2.1.1.1.cmml">​</mo><mi mathvariant="normal" id="S2.SS2.p1.2.m2.1.1.6" xref="S2.SS2.p1.2.m2.1.1.6.cmml">_</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p1.2.m2.1.1.1d" xref="S2.SS2.p1.2.m2.1.1.1.cmml">​</mo><mi id="S2.SS2.p1.2.m2.1.1.7" xref="S2.SS2.p1.2.m2.1.1.7.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p1.2.m2.1.1.1e" xref="S2.SS2.p1.2.m2.1.1.1.cmml">​</mo><mi id="S2.SS2.p1.2.m2.1.1.8" xref="S2.SS2.p1.2.m2.1.1.8.cmml">t</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p1.2.m2.1.1.1f" xref="S2.SS2.p1.2.m2.1.1.1.cmml">​</mo><mi id="S2.SS2.p1.2.m2.1.1.9" xref="S2.SS2.p1.2.m2.1.1.9.cmml">t</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p1.2.m2.1.1.1g" xref="S2.SS2.p1.2.m2.1.1.1.cmml">​</mo><mi id="S2.SS2.p1.2.m2.1.1.10" xref="S2.SS2.p1.2.m2.1.1.10.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p1.2.m2.1.1.1h" xref="S2.SS2.p1.2.m2.1.1.1.cmml">​</mo><mi id="S2.SS2.p1.2.m2.1.1.11" xref="S2.SS2.p1.2.m2.1.1.11.cmml">c</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p1.2.m2.1.1.1i" xref="S2.SS2.p1.2.m2.1.1.1.cmml">​</mo><mi id="S2.SS2.p1.2.m2.1.1.12" xref="S2.SS2.p1.2.m2.1.1.12.cmml">k</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p1.2.m2.1.1.1j" xref="S2.SS2.p1.2.m2.1.1.1.cmml">​</mo><msub id="S2.SS2.p1.2.m2.1.1.13" xref="S2.SS2.p1.2.m2.1.1.13.cmml"><mi id="S2.SS2.p1.2.m2.1.1.13.2" xref="S2.SS2.p1.2.m2.1.1.13.2.cmml">s</mi><mrow id="S2.SS2.p1.2.m2.1.1.13.3" xref="S2.SS2.p1.2.m2.1.1.13.3.cmml"><mi id="S2.SS2.p1.2.m2.1.1.13.3.2" xref="S2.SS2.p1.2.m2.1.1.13.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p1.2.m2.1.1.13.3.1" xref="S2.SS2.p1.2.m2.1.1.13.3.1.cmml">​</mo><mi id="S2.SS2.p1.2.m2.1.1.13.3.3" xref="S2.SS2.p1.2.m2.1.1.13.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p1.2.m2.1.1.13.3.1a" xref="S2.SS2.p1.2.m2.1.1.13.3.1.cmml">​</mo><mi id="S2.SS2.p1.2.m2.1.1.13.3.4" xref="S2.SS2.p1.2.m2.1.1.13.3.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p1.2.m2.1.1.13.3.1b" xref="S2.SS2.p1.2.m2.1.1.13.3.1.cmml">​</mo><msub id="S2.SS2.p1.2.m2.1.1.13.3.5" xref="S2.SS2.p1.2.m2.1.1.13.3.5.cmml"><mi id="S2.SS2.p1.2.m2.1.1.13.3.5.2" xref="S2.SS2.p1.2.m2.1.1.13.3.5.2.cmml">k</mi><mn id="S2.SS2.p1.2.m2.1.1.13.3.5.3" xref="S2.SS2.p1.2.m2.1.1.13.3.5.3.cmml">1</mn></msub></mrow></msub></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.2.m2.1b"><apply id="S2.SS2.p1.2.m2.1.1.cmml" xref="S2.SS2.p1.2.m2.1.1"><times id="S2.SS2.p1.2.m2.1.1.1.cmml" xref="S2.SS2.p1.2.m2.1.1.1"></times><ci id="S2.SS2.p1.2.m2.1.1.2.cmml" xref="S2.SS2.p1.2.m2.1.1.2">𝑟</ci><ci id="S2.SS2.p1.2.m2.1.1.3.cmml" xref="S2.SS2.p1.2.m2.1.1.3">𝑎</ci><ci id="S2.SS2.p1.2.m2.1.1.4.cmml" xref="S2.SS2.p1.2.m2.1.1.4">𝑛</ci><ci id="S2.SS2.p1.2.m2.1.1.5.cmml" xref="S2.SS2.p1.2.m2.1.1.5">𝑘</ci><ci id="S2.SS2.p1.2.m2.1.1.6.cmml" xref="S2.SS2.p1.2.m2.1.1.6">_</ci><ci id="S2.SS2.p1.2.m2.1.1.7.cmml" xref="S2.SS2.p1.2.m2.1.1.7">𝑎</ci><ci id="S2.SS2.p1.2.m2.1.1.8.cmml" xref="S2.SS2.p1.2.m2.1.1.8">𝑡</ci><ci id="S2.SS2.p1.2.m2.1.1.9.cmml" xref="S2.SS2.p1.2.m2.1.1.9">𝑡</ci><ci id="S2.SS2.p1.2.m2.1.1.10.cmml" xref="S2.SS2.p1.2.m2.1.1.10">𝑎</ci><ci id="S2.SS2.p1.2.m2.1.1.11.cmml" xref="S2.SS2.p1.2.m2.1.1.11">𝑐</ci><ci id="S2.SS2.p1.2.m2.1.1.12.cmml" xref="S2.SS2.p1.2.m2.1.1.12">𝑘</ci><apply id="S2.SS2.p1.2.m2.1.1.13.cmml" xref="S2.SS2.p1.2.m2.1.1.13"><csymbol cd="ambiguous" id="S2.SS2.p1.2.m2.1.1.13.1.cmml" xref="S2.SS2.p1.2.m2.1.1.13">subscript</csymbol><ci id="S2.SS2.p1.2.m2.1.1.13.2.cmml" xref="S2.SS2.p1.2.m2.1.1.13.2">𝑠</ci><apply id="S2.SS2.p1.2.m2.1.1.13.3.cmml" xref="S2.SS2.p1.2.m2.1.1.13.3"><times id="S2.SS2.p1.2.m2.1.1.13.3.1.cmml" xref="S2.SS2.p1.2.m2.1.1.13.3.1"></times><ci id="S2.SS2.p1.2.m2.1.1.13.3.2.cmml" xref="S2.SS2.p1.2.m2.1.1.13.3.2">𝑟</ci><ci id="S2.SS2.p1.2.m2.1.1.13.3.3.cmml" xref="S2.SS2.p1.2.m2.1.1.13.3.3">𝑎</ci><ci id="S2.SS2.p1.2.m2.1.1.13.3.4.cmml" xref="S2.SS2.p1.2.m2.1.1.13.3.4">𝑛</ci><apply id="S2.SS2.p1.2.m2.1.1.13.3.5.cmml" xref="S2.SS2.p1.2.m2.1.1.13.3.5"><csymbol cd="ambiguous" id="S2.SS2.p1.2.m2.1.1.13.3.5.1.cmml" xref="S2.SS2.p1.2.m2.1.1.13.3.5">subscript</csymbol><ci id="S2.SS2.p1.2.m2.1.1.13.3.5.2.cmml" xref="S2.SS2.p1.2.m2.1.1.13.3.5.2">𝑘</ci><cn type="integer" id="S2.SS2.p1.2.m2.1.1.13.3.5.3.cmml" xref="S2.SS2.p1.2.m2.1.1.13.3.5.3">1</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.2.m2.1c">rank\_attacks_{rank_{1}}</annotation></semantics></math>
table to base 256. The bitboard position of the sliding piece
as well as the occupancy are also converted in a similar fashion.</p>
</div>
<div id="S2.SS2.p2" class="ltx_para">
<table id="S2.Ex6" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.Ex6.m1.2" class="ltx_Math" alttext="file\_attacks_{file_{8}}(p_{file_{8}},o_{file_{8}})=\sum_{i=1}^{8}B_{i}\cdot 256^{i}" display="block"><semantics id="S2.Ex6.m1.2a"><mrow id="S2.Ex6.m1.2.2" xref="S2.Ex6.m1.2.2.cmml"><mrow id="S2.Ex6.m1.2.2.2" xref="S2.Ex6.m1.2.2.2.cmml"><mi id="S2.Ex6.m1.2.2.2.4" xref="S2.Ex6.m1.2.2.2.4.cmml">f</mi><mo lspace="0em" rspace="0em" id="S2.Ex6.m1.2.2.2.3" xref="S2.Ex6.m1.2.2.2.3.cmml">​</mo><mi id="S2.Ex6.m1.2.2.2.5" xref="S2.Ex6.m1.2.2.2.5.cmml">i</mi><mo lspace="0em" rspace="0em" id="S2.Ex6.m1.2.2.2.3a" xref="S2.Ex6.m1.2.2.2.3.cmml">​</mo><mi id="S2.Ex6.m1.2.2.2.6" xref="S2.Ex6.m1.2.2.2.6.cmml">l</mi><mo lspace="0em" rspace="0em" id="S2.Ex6.m1.2.2.2.3b" xref="S2.Ex6.m1.2.2.2.3.cmml">​</mo><mi id="S2.Ex6.m1.2.2.2.7" xref="S2.Ex6.m1.2.2.2.7.cmml">e</mi><mo lspace="0em" rspace="0em" id="S2.Ex6.m1.2.2.2.3c" xref="S2.Ex6.m1.2.2.2.3.cmml">​</mo><mi mathvariant="normal" id="S2.Ex6.m1.2.2.2.8" xref="S2.Ex6.m1.2.2.2.8.cmml">_</mi><mo lspace="0em" rspace="0em" id="S2.Ex6.m1.2.2.2.3d" xref="S2.Ex6.m1.2.2.2.3.cmml">​</mo><mi id="S2.Ex6.m1.2.2.2.9" xref="S2.Ex6.m1.2.2.2.9.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.Ex6.m1.2.2.2.3e" xref="S2.Ex6.m1.2.2.2.3.cmml">​</mo><mi id="S2.Ex6.m1.2.2.2.10" xref="S2.Ex6.m1.2.2.2.10.cmml">t</mi><mo lspace="0em" rspace="0em" id="S2.Ex6.m1.2.2.2.3f" xref="S2.Ex6.m1.2.2.2.3.cmml">​</mo><mi id="S2.Ex6.m1.2.2.2.11" xref="S2.Ex6.m1.2.2.2.11.cmml">t</mi><mo lspace="0em" rspace="0em" id="S2.Ex6.m1.2.2.2.3g" xref="S2.Ex6.m1.2.2.2.3.cmml">​</mo><mi id="S2.Ex6.m1.2.2.2.12" xref="S2.Ex6.m1.2.2.2.12.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.Ex6.m1.2.2.2.3h" xref="S2.Ex6.m1.2.2.2.3.cmml">​</mo><mi id="S2.Ex6.m1.2.2.2.13" xref="S2.Ex6.m1.2.2.2.13.cmml">c</mi><mo lspace="0em" rspace="0em" id="S2.Ex6.m1.2.2.2.3i" xref="S2.Ex6.m1.2.2.2.3.cmml">​</mo><mi id="S2.Ex6.m1.2.2.2.14" xref="S2.Ex6.m1.2.2.2.14.cmml">k</mi><mo lspace="0em" rspace="0em" id="S2.Ex6.m1.2.2.2.3j" xref="S2.Ex6.m1.2.2.2.3.cmml">​</mo><msub id="S2.Ex6.m1.2.2.2.15" xref="S2.Ex6.m1.2.2.2.15.cmml"><mi id="S2.Ex6.m1.2.2.2.15.2" xref="S2.Ex6.m1.2.2.2.15.2.cmml">s</mi><mrow id="S2.Ex6.m1.2.2.2.15.3" xref="S2.Ex6.m1.2.2.2.15.3.cmml"><mi id="S2.Ex6.m1.2.2.2.15.3.2" xref="S2.Ex6.m1.2.2.2.15.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S2.Ex6.m1.2.2.2.15.3.1" xref="S2.Ex6.m1.2.2.2.15.3.1.cmml">​</mo><mi id="S2.Ex6.m1.2.2.2.15.3.3" xref="S2.Ex6.m1.2.2.2.15.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S2.Ex6.m1.2.2.2.15.3.1a" xref="S2.Ex6.m1.2.2.2.15.3.1.cmml">​</mo><mi id="S2.Ex6.m1.2.2.2.15.3.4" xref="S2.Ex6.m1.2.2.2.15.3.4.cmml">l</mi><mo lspace="0em" rspace="0em" id="S2.Ex6.m1.2.2.2.15.3.1b" xref="S2.Ex6.m1.2.2.2.15.3.1.cmml">​</mo><msub id="S2.Ex6.m1.2.2.2.15.3.5" xref="S2.Ex6.m1.2.2.2.15.3.5.cmml"><mi id="S2.Ex6.m1.2.2.2.15.3.5.2" xref="S2.Ex6.m1.2.2.2.15.3.5.2.cmml">e</mi><mn id="S2.Ex6.m1.2.2.2.15.3.5.3" xref="S2.Ex6.m1.2.2.2.15.3.5.3.cmml">8</mn></msub></mrow></msub><mo lspace="0em" rspace="0em" id="S2.Ex6.m1.2.2.2.3k" xref="S2.Ex6.m1.2.2.2.3.cmml">​</mo><mrow id="S2.Ex6.m1.2.2.2.2.2" xref="S2.Ex6.m1.2.2.2.2.3.cmml"><mo stretchy="false" id="S2.Ex6.m1.2.2.2.2.2.3" xref="S2.Ex6.m1.2.2.2.2.3.cmml">(</mo><msub id="S2.Ex6.m1.1.1.1.1.1.1" xref="S2.Ex6.m1.1.1.1.1.1.1.cmml"><mi id="S2.Ex6.m1.1.1.1.1.1.1.2" xref="S2.Ex6.m1.1.1.1.1.1.1.2.cmml">p</mi><mrow id="S2.Ex6.m1.1.1.1.1.1.1.3" xref="S2.Ex6.m1.1.1.1.1.1.1.3.cmml"><mi id="S2.Ex6.m1.1.1.1.1.1.1.3.2" xref="S2.Ex6.m1.1.1.1.1.1.1.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S2.Ex6.m1.1.1.1.1.1.1.3.1" xref="S2.Ex6.m1.1.1.1.1.1.1.3.1.cmml">​</mo><mi id="S2.Ex6.m1.1.1.1.1.1.1.3.3" xref="S2.Ex6.m1.1.1.1.1.1.1.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S2.Ex6.m1.1.1.1.1.1.1.3.1a" xref="S2.Ex6.m1.1.1.1.1.1.1.3.1.cmml">​</mo><mi id="S2.Ex6.m1.1.1.1.1.1.1.3.4" xref="S2.Ex6.m1.1.1.1.1.1.1.3.4.cmml">l</mi><mo lspace="0em" rspace="0em" id="S2.Ex6.m1.1.1.1.1.1.1.3.1b" xref="S2.Ex6.m1.1.1.1.1.1.1.3.1.cmml">​</mo><msub id="S2.Ex6.m1.1.1.1.1.1.1.3.5" xref="S2.Ex6.m1.1.1.1.1.1.1.3.5.cmml"><mi id="S2.Ex6.m1.1.1.1.1.1.1.3.5.2" xref="S2.Ex6.m1.1.1.1.1.1.1.3.5.2.cmml">e</mi><mn id="S2.Ex6.m1.1.1.1.1.1.1.3.5.3" xref="S2.Ex6.m1.1.1.1.1.1.1.3.5.3.cmml">8</mn></msub></mrow></msub><mo id="S2.Ex6.m1.2.2.2.2.2.4" xref="S2.Ex6.m1.2.2.2.2.3.cmml">,</mo><msub id="S2.Ex6.m1.2.2.2.2.2.2" xref="S2.Ex6.m1.2.2.2.2.2.2.cmml"><mi id="S2.Ex6.m1.2.2.2.2.2.2.2" xref="S2.Ex6.m1.2.2.2.2.2.2.2.cmml">o</mi><mrow id="S2.Ex6.m1.2.2.2.2.2.2.3" xref="S2.Ex6.m1.2.2.2.2.2.2.3.cmml"><mi id="S2.Ex6.m1.2.2.2.2.2.2.3.2" xref="S2.Ex6.m1.2.2.2.2.2.2.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S2.Ex6.m1.2.2.2.2.2.2.3.1" xref="S2.Ex6.m1.2.2.2.2.2.2.3.1.cmml">​</mo><mi id="S2.Ex6.m1.2.2.2.2.2.2.3.3" xref="S2.Ex6.m1.2.2.2.2.2.2.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S2.Ex6.m1.2.2.2.2.2.2.3.1a" xref="S2.Ex6.m1.2.2.2.2.2.2.3.1.cmml">​</mo><mi id="S2.Ex6.m1.2.2.2.2.2.2.3.4" xref="S2.Ex6.m1.2.2.2.2.2.2.3.4.cmml">l</mi><mo lspace="0em" rspace="0em" id="S2.Ex6.m1.2.2.2.2.2.2.3.1b" xref="S2.Ex6.m1.2.2.2.2.2.2.3.1.cmml">​</mo><msub id="S2.Ex6.m1.2.2.2.2.2.2.3.5" xref="S2.Ex6.m1.2.2.2.2.2.2.3.5.cmml"><mi id="S2.Ex6.m1.2.2.2.2.2.2.3.5.2" xref="S2.Ex6.m1.2.2.2.2.2.2.3.5.2.cmml">e</mi><mn id="S2.Ex6.m1.2.2.2.2.2.2.3.5.3" xref="S2.Ex6.m1.2.2.2.2.2.2.3.5.3.cmml">8</mn></msub></mrow></msub><mo stretchy="false" id="S2.Ex6.m1.2.2.2.2.2.5" xref="S2.Ex6.m1.2.2.2.2.3.cmml">)</mo></mrow></mrow><mo rspace="0.111em" id="S2.Ex6.m1.2.2.3" xref="S2.Ex6.m1.2.2.3.cmml">=</mo><mrow id="S2.Ex6.m1.2.2.4" xref="S2.Ex6.m1.2.2.4.cmml"><munderover id="S2.Ex6.m1.2.2.4.1" xref="S2.Ex6.m1.2.2.4.1.cmml"><mo movablelimits="false" id="S2.Ex6.m1.2.2.4.1.2.2" xref="S2.Ex6.m1.2.2.4.1.2.2.cmml">∑</mo><mrow id="S2.Ex6.m1.2.2.4.1.2.3" xref="S2.Ex6.m1.2.2.4.1.2.3.cmml"><mi id="S2.Ex6.m1.2.2.4.1.2.3.2" xref="S2.Ex6.m1.2.2.4.1.2.3.2.cmml">i</mi><mo id="S2.Ex6.m1.2.2.4.1.2.3.1" xref="S2.Ex6.m1.2.2.4.1.2.3.1.cmml">=</mo><mn id="S2.Ex6.m1.2.2.4.1.2.3.3" xref="S2.Ex6.m1.2.2.4.1.2.3.3.cmml">1</mn></mrow><mn id="S2.Ex6.m1.2.2.4.1.3" xref="S2.Ex6.m1.2.2.4.1.3.cmml">8</mn></munderover><mrow id="S2.Ex6.m1.2.2.4.2" xref="S2.Ex6.m1.2.2.4.2.cmml"><msub id="S2.Ex6.m1.2.2.4.2.2" xref="S2.Ex6.m1.2.2.4.2.2.cmml"><mi id="S2.Ex6.m1.2.2.4.2.2.2" xref="S2.Ex6.m1.2.2.4.2.2.2.cmml">B</mi><mi id="S2.Ex6.m1.2.2.4.2.2.3" xref="S2.Ex6.m1.2.2.4.2.2.3.cmml">i</mi></msub><mo lspace="0.222em" rspace="0.222em" id="S2.Ex6.m1.2.2.4.2.1" xref="S2.Ex6.m1.2.2.4.2.1.cmml">⋅</mo><msup id="S2.Ex6.m1.2.2.4.2.3" xref="S2.Ex6.m1.2.2.4.2.3.cmml"><mn id="S2.Ex6.m1.2.2.4.2.3.2" xref="S2.Ex6.m1.2.2.4.2.3.2.cmml">256</mn><mi id="S2.Ex6.m1.2.2.4.2.3.3" xref="S2.Ex6.m1.2.2.4.2.3.3.cmml">i</mi></msup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.Ex6.m1.2b"><apply id="S2.Ex6.m1.2.2.cmml" xref="S2.Ex6.m1.2.2"><eq id="S2.Ex6.m1.2.2.3.cmml" xref="S2.Ex6.m1.2.2.3"></eq><apply id="S2.Ex6.m1.2.2.2.cmml" xref="S2.Ex6.m1.2.2.2"><times id="S2.Ex6.m1.2.2.2.3.cmml" xref="S2.Ex6.m1.2.2.2.3"></times><ci id="S2.Ex6.m1.2.2.2.4.cmml" xref="S2.Ex6.m1.2.2.2.4">𝑓</ci><ci id="S2.Ex6.m1.2.2.2.5.cmml" xref="S2.Ex6.m1.2.2.2.5">𝑖</ci><ci id="S2.Ex6.m1.2.2.2.6.cmml" xref="S2.Ex6.m1.2.2.2.6">𝑙</ci><ci id="S2.Ex6.m1.2.2.2.7.cmml" xref="S2.Ex6.m1.2.2.2.7">𝑒</ci><ci id="S2.Ex6.m1.2.2.2.8.cmml" xref="S2.Ex6.m1.2.2.2.8">_</ci><ci id="S2.Ex6.m1.2.2.2.9.cmml" xref="S2.Ex6.m1.2.2.2.9">𝑎</ci><ci id="S2.Ex6.m1.2.2.2.10.cmml" xref="S2.Ex6.m1.2.2.2.10">𝑡</ci><ci id="S2.Ex6.m1.2.2.2.11.cmml" xref="S2.Ex6.m1.2.2.2.11">𝑡</ci><ci id="S2.Ex6.m1.2.2.2.12.cmml" xref="S2.Ex6.m1.2.2.2.12">𝑎</ci><ci id="S2.Ex6.m1.2.2.2.13.cmml" xref="S2.Ex6.m1.2.2.2.13">𝑐</ci><ci id="S2.Ex6.m1.2.2.2.14.cmml" xref="S2.Ex6.m1.2.2.2.14">𝑘</ci><apply id="S2.Ex6.m1.2.2.2.15.cmml" xref="S2.Ex6.m1.2.2.2.15"><csymbol cd="ambiguous" id="S2.Ex6.m1.2.2.2.15.1.cmml" xref="S2.Ex6.m1.2.2.2.15">subscript</csymbol><ci id="S2.Ex6.m1.2.2.2.15.2.cmml" xref="S2.Ex6.m1.2.2.2.15.2">𝑠</ci><apply id="S2.Ex6.m1.2.2.2.15.3.cmml" xref="S2.Ex6.m1.2.2.2.15.3"><times id="S2.Ex6.m1.2.2.2.15.3.1.cmml" xref="S2.Ex6.m1.2.2.2.15.3.1"></times><ci id="S2.Ex6.m1.2.2.2.15.3.2.cmml" xref="S2.Ex6.m1.2.2.2.15.3.2">𝑓</ci><ci id="S2.Ex6.m1.2.2.2.15.3.3.cmml" xref="S2.Ex6.m1.2.2.2.15.3.3">𝑖</ci><ci id="S2.Ex6.m1.2.2.2.15.3.4.cmml" xref="S2.Ex6.m1.2.2.2.15.3.4">𝑙</ci><apply id="S2.Ex6.m1.2.2.2.15.3.5.cmml" xref="S2.Ex6.m1.2.2.2.15.3.5"><csymbol cd="ambiguous" id="S2.Ex6.m1.2.2.2.15.3.5.1.cmml" xref="S2.Ex6.m1.2.2.2.15.3.5">subscript</csymbol><ci id="S2.Ex6.m1.2.2.2.15.3.5.2.cmml" xref="S2.Ex6.m1.2.2.2.15.3.5.2">𝑒</ci><cn type="integer" id="S2.Ex6.m1.2.2.2.15.3.5.3.cmml" xref="S2.Ex6.m1.2.2.2.15.3.5.3">8</cn></apply></apply></apply><interval closure="open" id="S2.Ex6.m1.2.2.2.2.3.cmml" xref="S2.Ex6.m1.2.2.2.2.2"><apply id="S2.Ex6.m1.1.1.1.1.1.1.cmml" xref="S2.Ex6.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.Ex6.m1.1.1.1.1.1.1.1.cmml" xref="S2.Ex6.m1.1.1.1.1.1.1">subscript</csymbol><ci id="S2.Ex6.m1.1.1.1.1.1.1.2.cmml" xref="S2.Ex6.m1.1.1.1.1.1.1.2">𝑝</ci><apply id="S2.Ex6.m1.1.1.1.1.1.1.3.cmml" xref="S2.Ex6.m1.1.1.1.1.1.1.3"><times id="S2.Ex6.m1.1.1.1.1.1.1.3.1.cmml" xref="S2.Ex6.m1.1.1.1.1.1.1.3.1"></times><ci id="S2.Ex6.m1.1.1.1.1.1.1.3.2.cmml" xref="S2.Ex6.m1.1.1.1.1.1.1.3.2">𝑓</ci><ci id="S2.Ex6.m1.1.1.1.1.1.1.3.3.cmml" xref="S2.Ex6.m1.1.1.1.1.1.1.3.3">𝑖</ci><ci id="S2.Ex6.m1.1.1.1.1.1.1.3.4.cmml" xref="S2.Ex6.m1.1.1.1.1.1.1.3.4">𝑙</ci><apply id="S2.Ex6.m1.1.1.1.1.1.1.3.5.cmml" xref="S2.Ex6.m1.1.1.1.1.1.1.3.5"><csymbol cd="ambiguous" id="S2.Ex6.m1.1.1.1.1.1.1.3.5.1.cmml" xref="S2.Ex6.m1.1.1.1.1.1.1.3.5">subscript</csymbol><ci id="S2.Ex6.m1.1.1.1.1.1.1.3.5.2.cmml" xref="S2.Ex6.m1.1.1.1.1.1.1.3.5.2">𝑒</ci><cn type="integer" id="S2.Ex6.m1.1.1.1.1.1.1.3.5.3.cmml" xref="S2.Ex6.m1.1.1.1.1.1.1.3.5.3">8</cn></apply></apply></apply><apply id="S2.Ex6.m1.2.2.2.2.2.2.cmml" xref="S2.Ex6.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S2.Ex6.m1.2.2.2.2.2.2.1.cmml" xref="S2.Ex6.m1.2.2.2.2.2.2">subscript</csymbol><ci id="S2.Ex6.m1.2.2.2.2.2.2.2.cmml" xref="S2.Ex6.m1.2.2.2.2.2.2.2">𝑜</ci><apply id="S2.Ex6.m1.2.2.2.2.2.2.3.cmml" xref="S2.Ex6.m1.2.2.2.2.2.2.3"><times id="S2.Ex6.m1.2.2.2.2.2.2.3.1.cmml" xref="S2.Ex6.m1.2.2.2.2.2.2.3.1"></times><ci id="S2.Ex6.m1.2.2.2.2.2.2.3.2.cmml" xref="S2.Ex6.m1.2.2.2.2.2.2.3.2">𝑓</ci><ci id="S2.Ex6.m1.2.2.2.2.2.2.3.3.cmml" xref="S2.Ex6.m1.2.2.2.2.2.2.3.3">𝑖</ci><ci id="S2.Ex6.m1.2.2.2.2.2.2.3.4.cmml" xref="S2.Ex6.m1.2.2.2.2.2.2.3.4">𝑙</ci><apply id="S2.Ex6.m1.2.2.2.2.2.2.3.5.cmml" xref="S2.Ex6.m1.2.2.2.2.2.2.3.5"><csymbol cd="ambiguous" id="S2.Ex6.m1.2.2.2.2.2.2.3.5.1.cmml" xref="S2.Ex6.m1.2.2.2.2.2.2.3.5">subscript</csymbol><ci id="S2.Ex6.m1.2.2.2.2.2.2.3.5.2.cmml" xref="S2.Ex6.m1.2.2.2.2.2.2.3.5.2">𝑒</ci><cn type="integer" id="S2.Ex6.m1.2.2.2.2.2.2.3.5.3.cmml" xref="S2.Ex6.m1.2.2.2.2.2.2.3.5.3">8</cn></apply></apply></apply></interval></apply><apply id="S2.Ex6.m1.2.2.4.cmml" xref="S2.Ex6.m1.2.2.4"><apply id="S2.Ex6.m1.2.2.4.1.cmml" xref="S2.Ex6.m1.2.2.4.1"><csymbol cd="ambiguous" id="S2.Ex6.m1.2.2.4.1.1.cmml" xref="S2.Ex6.m1.2.2.4.1">superscript</csymbol><apply id="S2.Ex6.m1.2.2.4.1.2.cmml" xref="S2.Ex6.m1.2.2.4.1"><csymbol cd="ambiguous" id="S2.Ex6.m1.2.2.4.1.2.1.cmml" xref="S2.Ex6.m1.2.2.4.1">subscript</csymbol><sum id="S2.Ex6.m1.2.2.4.1.2.2.cmml" xref="S2.Ex6.m1.2.2.4.1.2.2"></sum><apply id="S2.Ex6.m1.2.2.4.1.2.3.cmml" xref="S2.Ex6.m1.2.2.4.1.2.3"><eq id="S2.Ex6.m1.2.2.4.1.2.3.1.cmml" xref="S2.Ex6.m1.2.2.4.1.2.3.1"></eq><ci id="S2.Ex6.m1.2.2.4.1.2.3.2.cmml" xref="S2.Ex6.m1.2.2.4.1.2.3.2">𝑖</ci><cn type="integer" id="S2.Ex6.m1.2.2.4.1.2.3.3.cmml" xref="S2.Ex6.m1.2.2.4.1.2.3.3">1</cn></apply></apply><cn type="integer" id="S2.Ex6.m1.2.2.4.1.3.cmml" xref="S2.Ex6.m1.2.2.4.1.3">8</cn></apply><apply id="S2.Ex6.m1.2.2.4.2.cmml" xref="S2.Ex6.m1.2.2.4.2"><ci id="S2.Ex6.m1.2.2.4.2.1.cmml" xref="S2.Ex6.m1.2.2.4.2.1">⋅</ci><apply id="S2.Ex6.m1.2.2.4.2.2.cmml" xref="S2.Ex6.m1.2.2.4.2.2"><csymbol cd="ambiguous" id="S2.Ex6.m1.2.2.4.2.2.1.cmml" xref="S2.Ex6.m1.2.2.4.2.2">subscript</csymbol><ci id="S2.Ex6.m1.2.2.4.2.2.2.cmml" xref="S2.Ex6.m1.2.2.4.2.2.2">𝐵</ci><ci id="S2.Ex6.m1.2.2.4.2.2.3.cmml" xref="S2.Ex6.m1.2.2.4.2.2.3">𝑖</ci></apply><apply id="S2.Ex6.m1.2.2.4.2.3.cmml" xref="S2.Ex6.m1.2.2.4.2.3"><csymbol cd="ambiguous" id="S2.Ex6.m1.2.2.4.2.3.1.cmml" xref="S2.Ex6.m1.2.2.4.2.3">superscript</csymbol><cn type="integer" id="S2.Ex6.m1.2.2.4.2.3.2.cmml" xref="S2.Ex6.m1.2.2.4.2.3.2">256</cn><ci id="S2.Ex6.m1.2.2.4.2.3.3.cmml" xref="S2.Ex6.m1.2.2.4.2.3.3">𝑖</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.Ex6.m1.2c">file\_attacks_{file_{8}}(p_{file_{8}},o_{file_{8}})=\sum_{i=1}^{8}B_{i}\cdot 256^{i}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div id="S2.SS2.p3" class="ltx_para">
<p id="S2.SS2.p3.2" class="ltx_p">where <math id="S2.SS2.p3.1.m1.1" class="ltx_Math" alttext="B_{i}" display="inline"><semantics id="S2.SS2.p3.1.m1.1a"><msub id="S2.SS2.p3.1.m1.1.1" xref="S2.SS2.p3.1.m1.1.1.cmml"><mi id="S2.SS2.p3.1.m1.1.1.2" xref="S2.SS2.p3.1.m1.1.1.2.cmml">B</mi><mi id="S2.SS2.p3.1.m1.1.1.3" xref="S2.SS2.p3.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p3.1.m1.1b"><apply id="S2.SS2.p3.1.m1.1.1.cmml" xref="S2.SS2.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p3.1.m1.1.1.1.cmml" xref="S2.SS2.p3.1.m1.1.1">subscript</csymbol><ci id="S2.SS2.p3.1.m1.1.1.2.cmml" xref="S2.SS2.p3.1.m1.1.1.2">𝐵</ci><ci id="S2.SS2.p3.1.m1.1.1.3.cmml" xref="S2.SS2.p3.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p3.1.m1.1c">B_{i}</annotation></semantics></math> is the <math id="S2.SS2.p3.2.m2.1" class="ltx_Math" alttext="i^{th}" display="inline"><semantics id="S2.SS2.p3.2.m2.1a"><msup id="S2.SS2.p3.2.m2.1.1" xref="S2.SS2.p3.2.m2.1.1.cmml"><mi id="S2.SS2.p3.2.m2.1.1.2" xref="S2.SS2.p3.2.m2.1.1.2.cmml">i</mi><mrow id="S2.SS2.p3.2.m2.1.1.3" xref="S2.SS2.p3.2.m2.1.1.3.cmml"><mi id="S2.SS2.p3.2.m2.1.1.3.2" xref="S2.SS2.p3.2.m2.1.1.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p3.2.m2.1.1.3.1" xref="S2.SS2.p3.2.m2.1.1.3.1.cmml">​</mo><mi id="S2.SS2.p3.2.m2.1.1.3.3" xref="S2.SS2.p3.2.m2.1.1.3.3.cmml">h</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S2.SS2.p3.2.m2.1b"><apply id="S2.SS2.p3.2.m2.1.1.cmml" xref="S2.SS2.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S2.SS2.p3.2.m2.1.1.1.cmml" xref="S2.SS2.p3.2.m2.1.1">superscript</csymbol><ci id="S2.SS2.p3.2.m2.1.1.2.cmml" xref="S2.SS2.p3.2.m2.1.1.2">𝑖</ci><apply id="S2.SS2.p3.2.m2.1.1.3.cmml" xref="S2.SS2.p3.2.m2.1.1.3"><times id="S2.SS2.p3.2.m2.1.1.3.1.cmml" xref="S2.SS2.p3.2.m2.1.1.3.1"></times><ci id="S2.SS2.p3.2.m2.1.1.3.2.cmml" xref="S2.SS2.p3.2.m2.1.1.3.2">𝑡</ci><ci id="S2.SS2.p3.2.m2.1.1.3.3.cmml" xref="S2.SS2.p3.2.m2.1.1.3.3">ℎ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p3.2.m2.1c">i^{th}</annotation></semantics></math> bit of the rank 1 rank_attacks table
(with h1 being the LSB and a1 being the MSB) and</p>
</div>
<div id="S2.SS2.p4" class="ltx_para">
<table id="S2.Ex7" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.Ex7.m1.1" class="ltx_Math" alttext="p_{file_{8}}=p_{rank_{1}}\cdot 256^{(9-\tilde{f})}" display="block"><semantics id="S2.Ex7.m1.1a"><mrow id="S2.Ex7.m1.1.2" xref="S2.Ex7.m1.1.2.cmml"><msub id="S2.Ex7.m1.1.2.2" xref="S2.Ex7.m1.1.2.2.cmml"><mi id="S2.Ex7.m1.1.2.2.2" xref="S2.Ex7.m1.1.2.2.2.cmml">p</mi><mrow id="S2.Ex7.m1.1.2.2.3" xref="S2.Ex7.m1.1.2.2.3.cmml"><mi id="S2.Ex7.m1.1.2.2.3.2" xref="S2.Ex7.m1.1.2.2.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S2.Ex7.m1.1.2.2.3.1" xref="S2.Ex7.m1.1.2.2.3.1.cmml">​</mo><mi id="S2.Ex7.m1.1.2.2.3.3" xref="S2.Ex7.m1.1.2.2.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S2.Ex7.m1.1.2.2.3.1a" xref="S2.Ex7.m1.1.2.2.3.1.cmml">​</mo><mi id="S2.Ex7.m1.1.2.2.3.4" xref="S2.Ex7.m1.1.2.2.3.4.cmml">l</mi><mo lspace="0em" rspace="0em" id="S2.Ex7.m1.1.2.2.3.1b" xref="S2.Ex7.m1.1.2.2.3.1.cmml">​</mo><msub id="S2.Ex7.m1.1.2.2.3.5" xref="S2.Ex7.m1.1.2.2.3.5.cmml"><mi id="S2.Ex7.m1.1.2.2.3.5.2" xref="S2.Ex7.m1.1.2.2.3.5.2.cmml">e</mi><mn id="S2.Ex7.m1.1.2.2.3.5.3" xref="S2.Ex7.m1.1.2.2.3.5.3.cmml">8</mn></msub></mrow></msub><mo id="S2.Ex7.m1.1.2.1" xref="S2.Ex7.m1.1.2.1.cmml">=</mo><mrow id="S2.Ex7.m1.1.2.3" xref="S2.Ex7.m1.1.2.3.cmml"><msub id="S2.Ex7.m1.1.2.3.2" xref="S2.Ex7.m1.1.2.3.2.cmml"><mi id="S2.Ex7.m1.1.2.3.2.2" xref="S2.Ex7.m1.1.2.3.2.2.cmml">p</mi><mrow id="S2.Ex7.m1.1.2.3.2.3" xref="S2.Ex7.m1.1.2.3.2.3.cmml"><mi id="S2.Ex7.m1.1.2.3.2.3.2" xref="S2.Ex7.m1.1.2.3.2.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.Ex7.m1.1.2.3.2.3.1" xref="S2.Ex7.m1.1.2.3.2.3.1.cmml">​</mo><mi id="S2.Ex7.m1.1.2.3.2.3.3" xref="S2.Ex7.m1.1.2.3.2.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.Ex7.m1.1.2.3.2.3.1a" xref="S2.Ex7.m1.1.2.3.2.3.1.cmml">​</mo><mi id="S2.Ex7.m1.1.2.3.2.3.4" xref="S2.Ex7.m1.1.2.3.2.3.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="S2.Ex7.m1.1.2.3.2.3.1b" xref="S2.Ex7.m1.1.2.3.2.3.1.cmml">​</mo><msub id="S2.Ex7.m1.1.2.3.2.3.5" xref="S2.Ex7.m1.1.2.3.2.3.5.cmml"><mi id="S2.Ex7.m1.1.2.3.2.3.5.2" xref="S2.Ex7.m1.1.2.3.2.3.5.2.cmml">k</mi><mn id="S2.Ex7.m1.1.2.3.2.3.5.3" xref="S2.Ex7.m1.1.2.3.2.3.5.3.cmml">1</mn></msub></mrow></msub><mo lspace="0.222em" rspace="0.222em" id="S2.Ex7.m1.1.2.3.1" xref="S2.Ex7.m1.1.2.3.1.cmml">⋅</mo><msup id="S2.Ex7.m1.1.2.3.3" xref="S2.Ex7.m1.1.2.3.3.cmml"><mn id="S2.Ex7.m1.1.2.3.3.2" xref="S2.Ex7.m1.1.2.3.3.2.cmml">256</mn><mrow id="S2.Ex7.m1.1.1.1.1" xref="S2.Ex7.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="S2.Ex7.m1.1.1.1.1.2" xref="S2.Ex7.m1.1.1.1.1.1.cmml">(</mo><mrow id="S2.Ex7.m1.1.1.1.1.1" xref="S2.Ex7.m1.1.1.1.1.1.cmml"><mn id="S2.Ex7.m1.1.1.1.1.1.2" xref="S2.Ex7.m1.1.1.1.1.1.2.cmml">9</mn><mo id="S2.Ex7.m1.1.1.1.1.1.1" xref="S2.Ex7.m1.1.1.1.1.1.1.cmml">−</mo><mover accent="true" id="S2.Ex7.m1.1.1.1.1.1.3" xref="S2.Ex7.m1.1.1.1.1.1.3.cmml"><mi id="S2.Ex7.m1.1.1.1.1.1.3.2" xref="S2.Ex7.m1.1.1.1.1.1.3.2.cmml">f</mi><mo id="S2.Ex7.m1.1.1.1.1.1.3.1" xref="S2.Ex7.m1.1.1.1.1.1.3.1.cmml">~</mo></mover></mrow><mo stretchy="false" id="S2.Ex7.m1.1.1.1.1.3" xref="S2.Ex7.m1.1.1.1.1.1.cmml">)</mo></mrow></msup></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.Ex7.m1.1b"><apply id="S2.Ex7.m1.1.2.cmml" xref="S2.Ex7.m1.1.2"><eq id="S2.Ex7.m1.1.2.1.cmml" xref="S2.Ex7.m1.1.2.1"></eq><apply id="S2.Ex7.m1.1.2.2.cmml" xref="S2.Ex7.m1.1.2.2"><csymbol cd="ambiguous" id="S2.Ex7.m1.1.2.2.1.cmml" xref="S2.Ex7.m1.1.2.2">subscript</csymbol><ci id="S2.Ex7.m1.1.2.2.2.cmml" xref="S2.Ex7.m1.1.2.2.2">𝑝</ci><apply id="S2.Ex7.m1.1.2.2.3.cmml" xref="S2.Ex7.m1.1.2.2.3"><times id="S2.Ex7.m1.1.2.2.3.1.cmml" xref="S2.Ex7.m1.1.2.2.3.1"></times><ci id="S2.Ex7.m1.1.2.2.3.2.cmml" xref="S2.Ex7.m1.1.2.2.3.2">𝑓</ci><ci id="S2.Ex7.m1.1.2.2.3.3.cmml" xref="S2.Ex7.m1.1.2.2.3.3">𝑖</ci><ci id="S2.Ex7.m1.1.2.2.3.4.cmml" xref="S2.Ex7.m1.1.2.2.3.4">𝑙</ci><apply id="S2.Ex7.m1.1.2.2.3.5.cmml" xref="S2.Ex7.m1.1.2.2.3.5"><csymbol cd="ambiguous" id="S2.Ex7.m1.1.2.2.3.5.1.cmml" xref="S2.Ex7.m1.1.2.2.3.5">subscript</csymbol><ci id="S2.Ex7.m1.1.2.2.3.5.2.cmml" xref="S2.Ex7.m1.1.2.2.3.5.2">𝑒</ci><cn type="integer" id="S2.Ex7.m1.1.2.2.3.5.3.cmml" xref="S2.Ex7.m1.1.2.2.3.5.3">8</cn></apply></apply></apply><apply id="S2.Ex7.m1.1.2.3.cmml" xref="S2.Ex7.m1.1.2.3"><ci id="S2.Ex7.m1.1.2.3.1.cmml" xref="S2.Ex7.m1.1.2.3.1">⋅</ci><apply id="S2.Ex7.m1.1.2.3.2.cmml" xref="S2.Ex7.m1.1.2.3.2"><csymbol cd="ambiguous" id="S2.Ex7.m1.1.2.3.2.1.cmml" xref="S2.Ex7.m1.1.2.3.2">subscript</csymbol><ci id="S2.Ex7.m1.1.2.3.2.2.cmml" xref="S2.Ex7.m1.1.2.3.2.2">𝑝</ci><apply id="S2.Ex7.m1.1.2.3.2.3.cmml" xref="S2.Ex7.m1.1.2.3.2.3"><times id="S2.Ex7.m1.1.2.3.2.3.1.cmml" xref="S2.Ex7.m1.1.2.3.2.3.1"></times><ci id="S2.Ex7.m1.1.2.3.2.3.2.cmml" xref="S2.Ex7.m1.1.2.3.2.3.2">𝑟</ci><ci id="S2.Ex7.m1.1.2.3.2.3.3.cmml" xref="S2.Ex7.m1.1.2.3.2.3.3">𝑎</ci><ci id="S2.Ex7.m1.1.2.3.2.3.4.cmml" xref="S2.Ex7.m1.1.2.3.2.3.4">𝑛</ci><apply id="S2.Ex7.m1.1.2.3.2.3.5.cmml" xref="S2.Ex7.m1.1.2.3.2.3.5"><csymbol cd="ambiguous" id="S2.Ex7.m1.1.2.3.2.3.5.1.cmml" xref="S2.Ex7.m1.1.2.3.2.3.5">subscript</csymbol><ci id="S2.Ex7.m1.1.2.3.2.3.5.2.cmml" xref="S2.Ex7.m1.1.2.3.2.3.5.2">𝑘</ci><cn type="integer" id="S2.Ex7.m1.1.2.3.2.3.5.3.cmml" xref="S2.Ex7.m1.1.2.3.2.3.5.3">1</cn></apply></apply></apply><apply id="S2.Ex7.m1.1.2.3.3.cmml" xref="S2.Ex7.m1.1.2.3.3"><csymbol cd="ambiguous" id="S2.Ex7.m1.1.2.3.3.1.cmml" xref="S2.Ex7.m1.1.2.3.3">superscript</csymbol><cn type="integer" id="S2.Ex7.m1.1.2.3.3.2.cmml" xref="S2.Ex7.m1.1.2.3.3.2">256</cn><apply id="S2.Ex7.m1.1.1.1.1.1.cmml" xref="S2.Ex7.m1.1.1.1.1"><minus id="S2.Ex7.m1.1.1.1.1.1.1.cmml" xref="S2.Ex7.m1.1.1.1.1.1.1"></minus><cn type="integer" id="S2.Ex7.m1.1.1.1.1.1.2.cmml" xref="S2.Ex7.m1.1.1.1.1.1.2">9</cn><apply id="S2.Ex7.m1.1.1.1.1.1.3.cmml" xref="S2.Ex7.m1.1.1.1.1.1.3"><ci id="S2.Ex7.m1.1.1.1.1.1.3.1.cmml" xref="S2.Ex7.m1.1.1.1.1.1.3.1">~</ci><ci id="S2.Ex7.m1.1.1.1.1.1.3.2.cmml" xref="S2.Ex7.m1.1.1.1.1.1.3.2">𝑓</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.Ex7.m1.1c">p_{file_{8}}=p_{rank_{1}}\cdot 256^{(9-\tilde{f})}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<table id="S2.Ex8" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.Ex8.m1.1" class="ltx_Math" alttext="o_{file_{8}}=\sum_{i=1}^{8}O_{file_{i}}\cdot 256^{i}" display="block"><semantics id="S2.Ex8.m1.1a"><mrow id="S2.Ex8.m1.1.1" xref="S2.Ex8.m1.1.1.cmml"><msub id="S2.Ex8.m1.1.1.2" xref="S2.Ex8.m1.1.1.2.cmml"><mi id="S2.Ex8.m1.1.1.2.2" xref="S2.Ex8.m1.1.1.2.2.cmml">o</mi><mrow id="S2.Ex8.m1.1.1.2.3" xref="S2.Ex8.m1.1.1.2.3.cmml"><mi id="S2.Ex8.m1.1.1.2.3.2" xref="S2.Ex8.m1.1.1.2.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S2.Ex8.m1.1.1.2.3.1" xref="S2.Ex8.m1.1.1.2.3.1.cmml">​</mo><mi id="S2.Ex8.m1.1.1.2.3.3" xref="S2.Ex8.m1.1.1.2.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S2.Ex8.m1.1.1.2.3.1a" xref="S2.Ex8.m1.1.1.2.3.1.cmml">​</mo><mi id="S2.Ex8.m1.1.1.2.3.4" xref="S2.Ex8.m1.1.1.2.3.4.cmml">l</mi><mo lspace="0em" rspace="0em" id="S2.Ex8.m1.1.1.2.3.1b" xref="S2.Ex8.m1.1.1.2.3.1.cmml">​</mo><msub id="S2.Ex8.m1.1.1.2.3.5" xref="S2.Ex8.m1.1.1.2.3.5.cmml"><mi id="S2.Ex8.m1.1.1.2.3.5.2" xref="S2.Ex8.m1.1.1.2.3.5.2.cmml">e</mi><mn id="S2.Ex8.m1.1.1.2.3.5.3" xref="S2.Ex8.m1.1.1.2.3.5.3.cmml">8</mn></msub></mrow></msub><mo rspace="0.111em" id="S2.Ex8.m1.1.1.1" xref="S2.Ex8.m1.1.1.1.cmml">=</mo><mrow id="S2.Ex8.m1.1.1.3" xref="S2.Ex8.m1.1.1.3.cmml"><munderover id="S2.Ex8.m1.1.1.3.1" xref="S2.Ex8.m1.1.1.3.1.cmml"><mo movablelimits="false" id="S2.Ex8.m1.1.1.3.1.2.2" xref="S2.Ex8.m1.1.1.3.1.2.2.cmml">∑</mo><mrow id="S2.Ex8.m1.1.1.3.1.2.3" xref="S2.Ex8.m1.1.1.3.1.2.3.cmml"><mi id="S2.Ex8.m1.1.1.3.1.2.3.2" xref="S2.Ex8.m1.1.1.3.1.2.3.2.cmml">i</mi><mo id="S2.Ex8.m1.1.1.3.1.2.3.1" xref="S2.Ex8.m1.1.1.3.1.2.3.1.cmml">=</mo><mn id="S2.Ex8.m1.1.1.3.1.2.3.3" xref="S2.Ex8.m1.1.1.3.1.2.3.3.cmml">1</mn></mrow><mn id="S2.Ex8.m1.1.1.3.1.3" xref="S2.Ex8.m1.1.1.3.1.3.cmml">8</mn></munderover><mrow id="S2.Ex8.m1.1.1.3.2" xref="S2.Ex8.m1.1.1.3.2.cmml"><msub id="S2.Ex8.m1.1.1.3.2.2" xref="S2.Ex8.m1.1.1.3.2.2.cmml"><mi id="S2.Ex8.m1.1.1.3.2.2.2" xref="S2.Ex8.m1.1.1.3.2.2.2.cmml">O</mi><mrow id="S2.Ex8.m1.1.1.3.2.2.3" xref="S2.Ex8.m1.1.1.3.2.2.3.cmml"><mi id="S2.Ex8.m1.1.1.3.2.2.3.2" xref="S2.Ex8.m1.1.1.3.2.2.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S2.Ex8.m1.1.1.3.2.2.3.1" xref="S2.Ex8.m1.1.1.3.2.2.3.1.cmml">​</mo><mi id="S2.Ex8.m1.1.1.3.2.2.3.3" xref="S2.Ex8.m1.1.1.3.2.2.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S2.Ex8.m1.1.1.3.2.2.3.1a" xref="S2.Ex8.m1.1.1.3.2.2.3.1.cmml">​</mo><mi id="S2.Ex8.m1.1.1.3.2.2.3.4" xref="S2.Ex8.m1.1.1.3.2.2.3.4.cmml">l</mi><mo lspace="0em" rspace="0em" id="S2.Ex8.m1.1.1.3.2.2.3.1b" xref="S2.Ex8.m1.1.1.3.2.2.3.1.cmml">​</mo><msub id="S2.Ex8.m1.1.1.3.2.2.3.5" xref="S2.Ex8.m1.1.1.3.2.2.3.5.cmml"><mi id="S2.Ex8.m1.1.1.3.2.2.3.5.2" xref="S2.Ex8.m1.1.1.3.2.2.3.5.2.cmml">e</mi><mi id="S2.Ex8.m1.1.1.3.2.2.3.5.3" xref="S2.Ex8.m1.1.1.3.2.2.3.5.3.cmml">i</mi></msub></mrow></msub><mo lspace="0.222em" rspace="0.222em" id="S2.Ex8.m1.1.1.3.2.1" xref="S2.Ex8.m1.1.1.3.2.1.cmml">⋅</mo><msup id="S2.Ex8.m1.1.1.3.2.3" xref="S2.Ex8.m1.1.1.3.2.3.cmml"><mn id="S2.Ex8.m1.1.1.3.2.3.2" xref="S2.Ex8.m1.1.1.3.2.3.2.cmml">256</mn><mi id="S2.Ex8.m1.1.1.3.2.3.3" xref="S2.Ex8.m1.1.1.3.2.3.3.cmml">i</mi></msup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.Ex8.m1.1b"><apply id="S2.Ex8.m1.1.1.cmml" xref="S2.Ex8.m1.1.1"><eq id="S2.Ex8.m1.1.1.1.cmml" xref="S2.Ex8.m1.1.1.1"></eq><apply id="S2.Ex8.m1.1.1.2.cmml" xref="S2.Ex8.m1.1.1.2"><csymbol cd="ambiguous" id="S2.Ex8.m1.1.1.2.1.cmml" xref="S2.Ex8.m1.1.1.2">subscript</csymbol><ci id="S2.Ex8.m1.1.1.2.2.cmml" xref="S2.Ex8.m1.1.1.2.2">𝑜</ci><apply id="S2.Ex8.m1.1.1.2.3.cmml" xref="S2.Ex8.m1.1.1.2.3"><times id="S2.Ex8.m1.1.1.2.3.1.cmml" xref="S2.Ex8.m1.1.1.2.3.1"></times><ci id="S2.Ex8.m1.1.1.2.3.2.cmml" xref="S2.Ex8.m1.1.1.2.3.2">𝑓</ci><ci id="S2.Ex8.m1.1.1.2.3.3.cmml" xref="S2.Ex8.m1.1.1.2.3.3">𝑖</ci><ci id="S2.Ex8.m1.1.1.2.3.4.cmml" xref="S2.Ex8.m1.1.1.2.3.4">𝑙</ci><apply id="S2.Ex8.m1.1.1.2.3.5.cmml" xref="S2.Ex8.m1.1.1.2.3.5"><csymbol cd="ambiguous" id="S2.Ex8.m1.1.1.2.3.5.1.cmml" xref="S2.Ex8.m1.1.1.2.3.5">subscript</csymbol><ci id="S2.Ex8.m1.1.1.2.3.5.2.cmml" xref="S2.Ex8.m1.1.1.2.3.5.2">𝑒</ci><cn type="integer" id="S2.Ex8.m1.1.1.2.3.5.3.cmml" xref="S2.Ex8.m1.1.1.2.3.5.3">8</cn></apply></apply></apply><apply id="S2.Ex8.m1.1.1.3.cmml" xref="S2.Ex8.m1.1.1.3"><apply id="S2.Ex8.m1.1.1.3.1.cmml" xref="S2.Ex8.m1.1.1.3.1"><csymbol cd="ambiguous" id="S2.Ex8.m1.1.1.3.1.1.cmml" xref="S2.Ex8.m1.1.1.3.1">superscript</csymbol><apply id="S2.Ex8.m1.1.1.3.1.2.cmml" xref="S2.Ex8.m1.1.1.3.1"><csymbol cd="ambiguous" id="S2.Ex8.m1.1.1.3.1.2.1.cmml" xref="S2.Ex8.m1.1.1.3.1">subscript</csymbol><sum id="S2.Ex8.m1.1.1.3.1.2.2.cmml" xref="S2.Ex8.m1.1.1.3.1.2.2"></sum><apply id="S2.Ex8.m1.1.1.3.1.2.3.cmml" xref="S2.Ex8.m1.1.1.3.1.2.3"><eq id="S2.Ex8.m1.1.1.3.1.2.3.1.cmml" xref="S2.Ex8.m1.1.1.3.1.2.3.1"></eq><ci id="S2.Ex8.m1.1.1.3.1.2.3.2.cmml" xref="S2.Ex8.m1.1.1.3.1.2.3.2">𝑖</ci><cn type="integer" id="S2.Ex8.m1.1.1.3.1.2.3.3.cmml" xref="S2.Ex8.m1.1.1.3.1.2.3.3">1</cn></apply></apply><cn type="integer" id="S2.Ex8.m1.1.1.3.1.3.cmml" xref="S2.Ex8.m1.1.1.3.1.3">8</cn></apply><apply id="S2.Ex8.m1.1.1.3.2.cmml" xref="S2.Ex8.m1.1.1.3.2"><ci id="S2.Ex8.m1.1.1.3.2.1.cmml" xref="S2.Ex8.m1.1.1.3.2.1">⋅</ci><apply id="S2.Ex8.m1.1.1.3.2.2.cmml" xref="S2.Ex8.m1.1.1.3.2.2"><csymbol cd="ambiguous" id="S2.Ex8.m1.1.1.3.2.2.1.cmml" xref="S2.Ex8.m1.1.1.3.2.2">subscript</csymbol><ci id="S2.Ex8.m1.1.1.3.2.2.2.cmml" xref="S2.Ex8.m1.1.1.3.2.2.2">𝑂</ci><apply id="S2.Ex8.m1.1.1.3.2.2.3.cmml" xref="S2.Ex8.m1.1.1.3.2.2.3"><times id="S2.Ex8.m1.1.1.3.2.2.3.1.cmml" xref="S2.Ex8.m1.1.1.3.2.2.3.1"></times><ci id="S2.Ex8.m1.1.1.3.2.2.3.2.cmml" xref="S2.Ex8.m1.1.1.3.2.2.3.2">𝑓</ci><ci id="S2.Ex8.m1.1.1.3.2.2.3.3.cmml" xref="S2.Ex8.m1.1.1.3.2.2.3.3">𝑖</ci><ci id="S2.Ex8.m1.1.1.3.2.2.3.4.cmml" xref="S2.Ex8.m1.1.1.3.2.2.3.4">𝑙</ci><apply id="S2.Ex8.m1.1.1.3.2.2.3.5.cmml" xref="S2.Ex8.m1.1.1.3.2.2.3.5"><csymbol cd="ambiguous" id="S2.Ex8.m1.1.1.3.2.2.3.5.1.cmml" xref="S2.Ex8.m1.1.1.3.2.2.3.5">subscript</csymbol><ci id="S2.Ex8.m1.1.1.3.2.2.3.5.2.cmml" xref="S2.Ex8.m1.1.1.3.2.2.3.5.2">𝑒</ci><ci id="S2.Ex8.m1.1.1.3.2.2.3.5.3.cmml" xref="S2.Ex8.m1.1.1.3.2.2.3.5.3">𝑖</ci></apply></apply></apply><apply id="S2.Ex8.m1.1.1.3.2.3.cmml" xref="S2.Ex8.m1.1.1.3.2.3"><csymbol cd="ambiguous" id="S2.Ex8.m1.1.1.3.2.3.1.cmml" xref="S2.Ex8.m1.1.1.3.2.3">superscript</csymbol><cn type="integer" id="S2.Ex8.m1.1.1.3.2.3.2.cmml" xref="S2.Ex8.m1.1.1.3.2.3.2">256</cn><ci id="S2.Ex8.m1.1.1.3.2.3.3.cmml" xref="S2.Ex8.m1.1.1.3.2.3.3">𝑖</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.Ex8.m1.1c">o_{file_{8}}=\sum_{i=1}^{8}O_{file_{i}}\cdot 256^{i}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div id="S2.SS2.p5" class="ltx_para">
<p id="S2.SS2.p5.4" class="ltx_p">where <math id="S2.SS2.p5.1.m1.1" class="ltx_Math" alttext="\tilde{f}" display="inline"><semantics id="S2.SS2.p5.1.m1.1a"><mover accent="true" id="S2.SS2.p5.1.m1.1.1" xref="S2.SS2.p5.1.m1.1.1.cmml"><mi id="S2.SS2.p5.1.m1.1.1.2" xref="S2.SS2.p5.1.m1.1.1.2.cmml">f</mi><mo id="S2.SS2.p5.1.m1.1.1.1" xref="S2.SS2.p5.1.m1.1.1.1.cmml">~</mo></mover><annotation-xml encoding="MathML-Content" id="S2.SS2.p5.1.m1.1b"><apply id="S2.SS2.p5.1.m1.1.1.cmml" xref="S2.SS2.p5.1.m1.1.1"><ci id="S2.SS2.p5.1.m1.1.1.1.cmml" xref="S2.SS2.p5.1.m1.1.1.1">~</ci><ci id="S2.SS2.p5.1.m1.1.1.2.cmml" xref="S2.SS2.p5.1.m1.1.1.2">𝑓</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p5.1.m1.1c">\tilde{f}</annotation></semantics></math> is the actual file number of the position square <math id="S2.SS2.p5.2.m2.1" class="ltx_Math" alttext="p_{file_{8}}" display="inline"><semantics id="S2.SS2.p5.2.m2.1a"><msub id="S2.SS2.p5.2.m2.1.1" xref="S2.SS2.p5.2.m2.1.1.cmml"><mi id="S2.SS2.p5.2.m2.1.1.2" xref="S2.SS2.p5.2.m2.1.1.2.cmml">p</mi><mrow id="S2.SS2.p5.2.m2.1.1.3" xref="S2.SS2.p5.2.m2.1.1.3.cmml"><mi id="S2.SS2.p5.2.m2.1.1.3.2" xref="S2.SS2.p5.2.m2.1.1.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p5.2.m2.1.1.3.1" xref="S2.SS2.p5.2.m2.1.1.3.1.cmml">​</mo><mi id="S2.SS2.p5.2.m2.1.1.3.3" xref="S2.SS2.p5.2.m2.1.1.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p5.2.m2.1.1.3.1a" xref="S2.SS2.p5.2.m2.1.1.3.1.cmml">​</mo><mi id="S2.SS2.p5.2.m2.1.1.3.4" xref="S2.SS2.p5.2.m2.1.1.3.4.cmml">l</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p5.2.m2.1.1.3.1b" xref="S2.SS2.p5.2.m2.1.1.3.1.cmml">​</mo><msub id="S2.SS2.p5.2.m2.1.1.3.5" xref="S2.SS2.p5.2.m2.1.1.3.5.cmml"><mi id="S2.SS2.p5.2.m2.1.1.3.5.2" xref="S2.SS2.p5.2.m2.1.1.3.5.2.cmml">e</mi><mn id="S2.SS2.p5.2.m2.1.1.3.5.3" xref="S2.SS2.p5.2.m2.1.1.3.5.3.cmml">8</mn></msub></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p5.2.m2.1b"><apply id="S2.SS2.p5.2.m2.1.1.cmml" xref="S2.SS2.p5.2.m2.1.1"><csymbol cd="ambiguous" id="S2.SS2.p5.2.m2.1.1.1.cmml" xref="S2.SS2.p5.2.m2.1.1">subscript</csymbol><ci id="S2.SS2.p5.2.m2.1.1.2.cmml" xref="S2.SS2.p5.2.m2.1.1.2">𝑝</ci><apply id="S2.SS2.p5.2.m2.1.1.3.cmml" xref="S2.SS2.p5.2.m2.1.1.3"><times id="S2.SS2.p5.2.m2.1.1.3.1.cmml" xref="S2.SS2.p5.2.m2.1.1.3.1"></times><ci id="S2.SS2.p5.2.m2.1.1.3.2.cmml" xref="S2.SS2.p5.2.m2.1.1.3.2">𝑓</ci><ci id="S2.SS2.p5.2.m2.1.1.3.3.cmml" xref="S2.SS2.p5.2.m2.1.1.3.3">𝑖</ci><ci id="S2.SS2.p5.2.m2.1.1.3.4.cmml" xref="S2.SS2.p5.2.m2.1.1.3.4">𝑙</ci><apply id="S2.SS2.p5.2.m2.1.1.3.5.cmml" xref="S2.SS2.p5.2.m2.1.1.3.5"><csymbol cd="ambiguous" id="S2.SS2.p5.2.m2.1.1.3.5.1.cmml" xref="S2.SS2.p5.2.m2.1.1.3.5">subscript</csymbol><ci id="S2.SS2.p5.2.m2.1.1.3.5.2.cmml" xref="S2.SS2.p5.2.m2.1.1.3.5.2">𝑒</ci><cn type="integer" id="S2.SS2.p5.2.m2.1.1.3.5.3.cmml" xref="S2.SS2.p5.2.m2.1.1.3.5.3">8</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p5.2.m2.1c">p_{file_{8}}</annotation></semantics></math>
on the first rank and
<math id="S2.SS2.p5.3.m3.1" class="ltx_Math" alttext="O_{file_{i}}" display="inline"><semantics id="S2.SS2.p5.3.m3.1a"><msub id="S2.SS2.p5.3.m3.1.1" xref="S2.SS2.p5.3.m3.1.1.cmml"><mi id="S2.SS2.p5.3.m3.1.1.2" xref="S2.SS2.p5.3.m3.1.1.2.cmml">O</mi><mrow id="S2.SS2.p5.3.m3.1.1.3" xref="S2.SS2.p5.3.m3.1.1.3.cmml"><mi id="S2.SS2.p5.3.m3.1.1.3.2" xref="S2.SS2.p5.3.m3.1.1.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p5.3.m3.1.1.3.1" xref="S2.SS2.p5.3.m3.1.1.3.1.cmml">​</mo><mi id="S2.SS2.p5.3.m3.1.1.3.3" xref="S2.SS2.p5.3.m3.1.1.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p5.3.m3.1.1.3.1a" xref="S2.SS2.p5.3.m3.1.1.3.1.cmml">​</mo><mi id="S2.SS2.p5.3.m3.1.1.3.4" xref="S2.SS2.p5.3.m3.1.1.3.4.cmml">l</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p5.3.m3.1.1.3.1b" xref="S2.SS2.p5.3.m3.1.1.3.1.cmml">​</mo><msub id="S2.SS2.p5.3.m3.1.1.3.5" xref="S2.SS2.p5.3.m3.1.1.3.5.cmml"><mi id="S2.SS2.p5.3.m3.1.1.3.5.2" xref="S2.SS2.p5.3.m3.1.1.3.5.2.cmml">e</mi><mi id="S2.SS2.p5.3.m3.1.1.3.5.3" xref="S2.SS2.p5.3.m3.1.1.3.5.3.cmml">i</mi></msub></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p5.3.m3.1b"><apply id="S2.SS2.p5.3.m3.1.1.cmml" xref="S2.SS2.p5.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS2.p5.3.m3.1.1.1.cmml" xref="S2.SS2.p5.3.m3.1.1">subscript</csymbol><ci id="S2.SS2.p5.3.m3.1.1.2.cmml" xref="S2.SS2.p5.3.m3.1.1.2">𝑂</ci><apply id="S2.SS2.p5.3.m3.1.1.3.cmml" xref="S2.SS2.p5.3.m3.1.1.3"><times id="S2.SS2.p5.3.m3.1.1.3.1.cmml" xref="S2.SS2.p5.3.m3.1.1.3.1"></times><ci id="S2.SS2.p5.3.m3.1.1.3.2.cmml" xref="S2.SS2.p5.3.m3.1.1.3.2">𝑓</ci><ci id="S2.SS2.p5.3.m3.1.1.3.3.cmml" xref="S2.SS2.p5.3.m3.1.1.3.3">𝑖</ci><ci id="S2.SS2.p5.3.m3.1.1.3.4.cmml" xref="S2.SS2.p5.3.m3.1.1.3.4">𝑙</ci><apply id="S2.SS2.p5.3.m3.1.1.3.5.cmml" xref="S2.SS2.p5.3.m3.1.1.3.5"><csymbol cd="ambiguous" id="S2.SS2.p5.3.m3.1.1.3.5.1.cmml" xref="S2.SS2.p5.3.m3.1.1.3.5">subscript</csymbol><ci id="S2.SS2.p5.3.m3.1.1.3.5.2.cmml" xref="S2.SS2.p5.3.m3.1.1.3.5.2">𝑒</ci><ci id="S2.SS2.p5.3.m3.1.1.3.5.3.cmml" xref="S2.SS2.p5.3.m3.1.1.3.5.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p5.3.m3.1c">O_{file_{i}}</annotation></semantics></math> is the <math id="S2.SS2.p5.4.m4.1" class="ltx_Math" alttext="i^{th}" display="inline"><semantics id="S2.SS2.p5.4.m4.1a"><msup id="S2.SS2.p5.4.m4.1.1" xref="S2.SS2.p5.4.m4.1.1.cmml"><mi id="S2.SS2.p5.4.m4.1.1.2" xref="S2.SS2.p5.4.m4.1.1.2.cmml">i</mi><mrow id="S2.SS2.p5.4.m4.1.1.3" xref="S2.SS2.p5.4.m4.1.1.3.cmml"><mi id="S2.SS2.p5.4.m4.1.1.3.2" xref="S2.SS2.p5.4.m4.1.1.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p5.4.m4.1.1.3.1" xref="S2.SS2.p5.4.m4.1.1.3.1.cmml">​</mo><mi id="S2.SS2.p5.4.m4.1.1.3.3" xref="S2.SS2.p5.4.m4.1.1.3.3.cmml">h</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S2.SS2.p5.4.m4.1b"><apply id="S2.SS2.p5.4.m4.1.1.cmml" xref="S2.SS2.p5.4.m4.1.1"><csymbol cd="ambiguous" id="S2.SS2.p5.4.m4.1.1.1.cmml" xref="S2.SS2.p5.4.m4.1.1">superscript</csymbol><ci id="S2.SS2.p5.4.m4.1.1.2.cmml" xref="S2.SS2.p5.4.m4.1.1.2">𝑖</ci><apply id="S2.SS2.p5.4.m4.1.1.3.cmml" xref="S2.SS2.p5.4.m4.1.1.3"><times id="S2.SS2.p5.4.m4.1.1.3.1.cmml" xref="S2.SS2.p5.4.m4.1.1.3.1"></times><ci id="S2.SS2.p5.4.m4.1.1.3.2.cmml" xref="S2.SS2.p5.4.m4.1.1.3.2">𝑡</ci><ci id="S2.SS2.p5.4.m4.1.1.3.3.cmml" xref="S2.SS2.p5.4.m4.1.1.3.3">ℎ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p5.4.m4.1c">i^{th}</annotation></semantics></math> bit of the occupancy on the first
rank.</p>
</div>
<figure id="LST2" class="ltx_float ltx_lstlisting">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float">Listing 2: </span>File Attack Lookup Table</figcaption>
<div id="LST2.1" class="ltx_listing ltx_lst_language_Python ltx_lstlisting ltx_listing">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZGVmIGdldF9maWxlX2F0dGFja3MgKCk6CiAgICAjIHRoaXMgcm91dGluZyBhc3N1bWVzIHRoYXQgdGhlIHJhbmtfYXR0YWNrcyBoYXZlIGFscmVhZHkKICAgICMgYmVlbiBjYWxjdWxhdGVkLgogICAgZmlsZV9hdHRhY2tzID0ge30KICAgIGZvciBpIGluIHJhbmdlKDY0KToKICAgICAgICByID0gcmFua1sxIDw8IGldIC0gMQogICAgICAgIG1pcnJvcl9pID0gcmFua190b19maWxlKCgxIDw8IGkpID4+ICg4KnIpKSA8PCByCiAgICAgICAgZmlsZV9hdHRhY2tzW21pcnJvcl9pXSA9IHt9CiAgICAgICAgZm9yIGogaW4gcmFuZ2UoMjU2KToKICAgICAgICAgICAgbWlycm9yX2ogPSByYW5rX3RvX2ZpbGUoaikgPDwgcgogICAgICAgICAgICB2YWx1ZSA9IHJhbmtfYXR0YWNrc1sxIDw8IGldW2ogPDwgKDgqcildCiAgICAgICAgICAgIGxvd2VyX3ZhbHVlID0gdmFsdWUgPj4gKDgqcikKICAgICAgICAgICAgZmlsZV92YWx1ZSA9IHJhbmtfdG9fZmlsZShsb3dlcl92YWx1ZSkKICAgICAgICAgICAgZmluYWxfdmFsdWUgPSBmaWxlX3ZhbHVlIDw8IHIKICAgICAgICAgICAgZmlsZV9hdHRhY2tzW21pcnJvcl9pXVttaXJyb3Jfal0gPSBmaW5hbF92YWx1ZQogICAgcmV0dXJuKGZpbGVfYXR0YWNrcyk=" download="">⬇</a></div>
<div id="lstnumberx24" class="ltx_listingline">
<span id="lstnumberx24.1" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">def</span><span id="lstnumberx24.2" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx24.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">get_file_attacks</span><span id="lstnumberx24.4" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx24.5" class="ltx_text" style="font-size:80%;">():</span>
</div>
<div id="lstnumberx25" class="ltx_listingline">
<span id="lstnumberx25.1" class="ltx_text ltx_lst_space" style="font-size:80%;">    </span><span id="lstnumberx25.2" class="ltx_text ltx_lst_comment ltx_font_typewriter" style="font-size:80%;">#<span id="lstnumberx25.2.1" class="ltx_text ltx_lst_space"> </span>this<span id="lstnumberx25.2.2" class="ltx_text ltx_lst_space"> </span>routing<span id="lstnumberx25.2.3" class="ltx_text ltx_lst_space"> </span>assumes<span id="lstnumberx25.2.4" class="ltx_text ltx_lst_space"> </span>that<span id="lstnumberx25.2.5" class="ltx_text ltx_lst_space"> </span>the<span id="lstnumberx25.2.6" class="ltx_text ltx_lst_space"> </span>rank_attacks<span id="lstnumberx25.2.7" class="ltx_text ltx_lst_space"> </span>have<span id="lstnumberx25.2.8" class="ltx_text ltx_lst_space"> </span>already</span>
</div>
<div id="lstnumberx26" class="ltx_listingline">
<span id="lstnumberx26.1" class="ltx_text ltx_lst_space" style="font-size:80%;">    </span><span id="lstnumberx26.2" class="ltx_text ltx_lst_comment ltx_font_typewriter" style="font-size:80%;">#<span id="lstnumberx26.2.1" class="ltx_text ltx_lst_space"> </span>been<span id="lstnumberx26.2.2" class="ltx_text ltx_lst_space"> </span>calculated.</span>
</div>
<div id="lstnumberx27" class="ltx_listingline">
<span id="lstnumberx27.1" class="ltx_text ltx_lst_space" style="font-size:80%;">    </span><span id="lstnumberx27.2" class="ltx_text ltx_lst_identifier" style="font-size:80%;">file_attacks</span><span id="lstnumberx27.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx27.4" class="ltx_text" style="font-size:80%;">=</span><span id="lstnumberx27.5" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx27.6" class="ltx_text" style="font-size:80%;">{}</span>
</div>
<div id="lstnumberx28" class="ltx_listingline">
<span id="lstnumberx28.1" class="ltx_text ltx_lst_space" style="font-size:80%;">    </span><span id="lstnumberx28.2" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">for</span><span id="lstnumberx28.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx28.4" class="ltx_text ltx_lst_identifier" style="font-size:80%;">i</span><span id="lstnumberx28.5" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx28.6" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">in</span><span id="lstnumberx28.7" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx28.8" class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_sansserif" style="font-size:80%;">range</span><span id="lstnumberx28.9" class="ltx_text" style="font-size:80%;">(64):</span>
</div>
<div id="lstnumberx29" class="ltx_listingline">
<span id="lstnumberx29.1" class="ltx_text ltx_lst_space" style="font-size:80%;">        </span><span id="lstnumberx29.2" class="ltx_text ltx_lst_identifier" style="font-size:80%;">r</span><span id="lstnumberx29.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx29.4" class="ltx_text" style="font-size:80%;">=</span><span id="lstnumberx29.5" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx29.6" class="ltx_text ltx_lst_identifier" style="font-size:80%;">rank</span><span id="lstnumberx29.7" class="ltx_text" style="font-size:80%;">[1</span><span id="lstnumberx29.8" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx29.9" class="ltx_text" style="font-size:80%;">&lt;&lt;</span><span id="lstnumberx29.10" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx29.11" class="ltx_text ltx_lst_identifier" style="font-size:80%;">i</span><span id="lstnumberx29.12" class="ltx_text" style="font-size:80%;">]</span><span id="lstnumberx29.13" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx29.14" class="ltx_text" style="font-size:80%;">-</span><span id="lstnumberx29.15" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx29.16" class="ltx_text" style="font-size:80%;">1</span>
</div>
<div id="lstnumberx30" class="ltx_listingline">
<span id="lstnumberx30.1" class="ltx_text ltx_lst_space" style="font-size:80%;">        </span><span id="lstnumberx30.2" class="ltx_text ltx_lst_identifier" style="font-size:80%;">mirror_i</span><span id="lstnumberx30.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx30.4" class="ltx_text" style="font-size:80%;">=</span><span id="lstnumberx30.5" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx30.6" class="ltx_text ltx_lst_identifier" style="font-size:80%;">rank_to_file</span><span id="lstnumberx30.7" class="ltx_text" style="font-size:80%;">((1</span><span id="lstnumberx30.8" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx30.9" class="ltx_text" style="font-size:80%;">&lt;&lt;</span><span id="lstnumberx30.10" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx30.11" class="ltx_text ltx_lst_identifier" style="font-size:80%;">i</span><span id="lstnumberx30.12" class="ltx_text" style="font-size:80%;">)</span><span id="lstnumberx30.13" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx30.14" class="ltx_text" style="font-size:80%;">&gt;&gt;</span><span id="lstnumberx30.15" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx30.16" class="ltx_text" style="font-size:80%;">(8*</span><span id="lstnumberx30.17" class="ltx_text ltx_lst_identifier" style="font-size:80%;">r</span><span id="lstnumberx30.18" class="ltx_text" style="font-size:80%;">))</span><span id="lstnumberx30.19" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx30.20" class="ltx_text" style="font-size:80%;">&lt;&lt;</span><span id="lstnumberx30.21" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx30.22" class="ltx_text ltx_lst_identifier" style="font-size:80%;">r</span>
</div>
<div id="lstnumberx31" class="ltx_listingline">
<span id="lstnumberx31.1" class="ltx_text ltx_lst_space" style="font-size:80%;">        </span><span id="lstnumberx31.2" class="ltx_text ltx_lst_identifier" style="font-size:80%;">file_attacks</span><span id="lstnumberx31.3" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx31.4" class="ltx_text ltx_lst_identifier" style="font-size:80%;">mirror_i</span><span id="lstnumberx31.5" class="ltx_text" style="font-size:80%;">]</span><span id="lstnumberx31.6" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx31.7" class="ltx_text" style="font-size:80%;">=</span><span id="lstnumberx31.8" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx31.9" class="ltx_text" style="font-size:80%;">{}</span>
</div>
<div id="lstnumberx32" class="ltx_listingline">
<span id="lstnumberx32.1" class="ltx_text ltx_lst_space" style="font-size:80%;">        </span><span id="lstnumberx32.2" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">for</span><span id="lstnumberx32.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx32.4" class="ltx_text ltx_lst_identifier" style="font-size:80%;">j</span><span id="lstnumberx32.5" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx32.6" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">in</span><span id="lstnumberx32.7" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx32.8" class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_sansserif" style="font-size:80%;">range</span><span id="lstnumberx32.9" class="ltx_text" style="font-size:80%;">(256):</span>
</div>
<div id="lstnumberx33" class="ltx_listingline">
<span id="lstnumberx33.1" class="ltx_text ltx_lst_space" style="font-size:80%;">            </span><span id="lstnumberx33.2" class="ltx_text ltx_lst_identifier" style="font-size:80%;">mirror_j</span><span id="lstnumberx33.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx33.4" class="ltx_text" style="font-size:80%;">=</span><span id="lstnumberx33.5" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx33.6" class="ltx_text ltx_lst_identifier" style="font-size:80%;">rank_to_file</span><span id="lstnumberx33.7" class="ltx_text" style="font-size:80%;">(</span><span id="lstnumberx33.8" class="ltx_text ltx_lst_identifier" style="font-size:80%;">j</span><span id="lstnumberx33.9" class="ltx_text" style="font-size:80%;">)</span><span id="lstnumberx33.10" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx33.11" class="ltx_text" style="font-size:80%;">&lt;&lt;</span><span id="lstnumberx33.12" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx33.13" class="ltx_text ltx_lst_identifier" style="font-size:80%;">r</span>
</div>
<div id="lstnumberx34" class="ltx_listingline">
<span id="lstnumberx34.1" class="ltx_text ltx_lst_space" style="font-size:80%;">            </span><span id="lstnumberx34.2" class="ltx_text ltx_lst_identifier" style="font-size:80%;">value</span><span id="lstnumberx34.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx34.4" class="ltx_text" style="font-size:80%;">=</span><span id="lstnumberx34.5" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx34.6" class="ltx_text ltx_lst_identifier" style="font-size:80%;">rank_attacks</span><span id="lstnumberx34.7" class="ltx_text" style="font-size:80%;">[1</span><span id="lstnumberx34.8" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx34.9" class="ltx_text" style="font-size:80%;">&lt;&lt;</span><span id="lstnumberx34.10" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx34.11" class="ltx_text ltx_lst_identifier" style="font-size:80%;">i</span><span id="lstnumberx34.12" class="ltx_text" style="font-size:80%;">][</span><span id="lstnumberx34.13" class="ltx_text ltx_lst_identifier" style="font-size:80%;">j</span><span id="lstnumberx34.14" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx34.15" class="ltx_text" style="font-size:80%;">&lt;&lt;</span><span id="lstnumberx34.16" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx34.17" class="ltx_text" style="font-size:80%;">(8*</span><span id="lstnumberx34.18" class="ltx_text ltx_lst_identifier" style="font-size:80%;">r</span><span id="lstnumberx34.19" class="ltx_text" style="font-size:80%;">)]</span>
</div>
<div id="lstnumberx35" class="ltx_listingline">
<span id="lstnumberx35.1" class="ltx_text ltx_lst_space" style="font-size:80%;">            </span><span id="lstnumberx35.2" class="ltx_text ltx_lst_identifier" style="font-size:80%;">lower_value</span><span id="lstnumberx35.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx35.4" class="ltx_text" style="font-size:80%;">=</span><span id="lstnumberx35.5" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx35.6" class="ltx_text ltx_lst_identifier" style="font-size:80%;">value</span><span id="lstnumberx35.7" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx35.8" class="ltx_text" style="font-size:80%;">&gt;&gt;</span><span id="lstnumberx35.9" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx35.10" class="ltx_text" style="font-size:80%;">(8*</span><span id="lstnumberx35.11" class="ltx_text ltx_lst_identifier" style="font-size:80%;">r</span><span id="lstnumberx35.12" class="ltx_text" style="font-size:80%;">)</span>
</div>
<div id="lstnumberx36" class="ltx_listingline">
<span id="lstnumberx36.1" class="ltx_text ltx_lst_space" style="font-size:80%;">            </span><span id="lstnumberx36.2" class="ltx_text ltx_lst_identifier" style="font-size:80%;">file_value</span><span id="lstnumberx36.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx36.4" class="ltx_text" style="font-size:80%;">=</span><span id="lstnumberx36.5" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx36.6" class="ltx_text ltx_lst_identifier" style="font-size:80%;">rank_to_file</span><span id="lstnumberx36.7" class="ltx_text" style="font-size:80%;">(</span><span id="lstnumberx36.8" class="ltx_text ltx_lst_identifier" style="font-size:80%;">lower_value</span><span id="lstnumberx36.9" class="ltx_text" style="font-size:80%;">)</span>
</div>
<div id="lstnumberx37" class="ltx_listingline">
<span id="lstnumberx37.1" class="ltx_text ltx_lst_space" style="font-size:80%;">            </span><span id="lstnumberx37.2" class="ltx_text ltx_lst_identifier" style="font-size:80%;">final_value</span><span id="lstnumberx37.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx37.4" class="ltx_text" style="font-size:80%;">=</span><span id="lstnumberx37.5" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx37.6" class="ltx_text ltx_lst_identifier" style="font-size:80%;">file_value</span><span id="lstnumberx37.7" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx37.8" class="ltx_text" style="font-size:80%;">&lt;&lt;</span><span id="lstnumberx37.9" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx37.10" class="ltx_text ltx_lst_identifier" style="font-size:80%;">r</span>
</div>
<div id="lstnumberx38" class="ltx_listingline">
<span id="lstnumberx38.1" class="ltx_text ltx_lst_space" style="font-size:80%;">            </span><span id="lstnumberx38.2" class="ltx_text ltx_lst_identifier" style="font-size:80%;">file_attacks</span><span id="lstnumberx38.3" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx38.4" class="ltx_text ltx_lst_identifier" style="font-size:80%;">mirror_i</span><span id="lstnumberx38.5" class="ltx_text" style="font-size:80%;">][</span><span id="lstnumberx38.6" class="ltx_text ltx_lst_identifier" style="font-size:80%;">mirror_j</span><span id="lstnumberx38.7" class="ltx_text" style="font-size:80%;">]</span><span id="lstnumberx38.8" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx38.9" class="ltx_text" style="font-size:80%;">=</span><span id="lstnumberx38.10" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx38.11" class="ltx_text ltx_lst_identifier" style="font-size:80%;">final_value</span>
</div>
<div id="lstnumberx39" class="ltx_listingline">
<span id="lstnumberx39.1" class="ltx_text ltx_lst_space" style="font-size:80%;">    </span><span id="lstnumberx39.2" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">return</span><span id="lstnumberx39.3" class="ltx_text" style="font-size:80%;">(</span><span id="lstnumberx39.4" class="ltx_text ltx_lst_identifier" style="font-size:80%;">file_attacks</span><span id="lstnumberx39.5" class="ltx_text" style="font-size:80%;">)</span>
</div>
</div>
</figure>
<div id="S2.SS2.p6" class="ltx_para">
<p id="S2.SS2.p6.1" class="ltx_p">The implementation of this is shown in Listing <a href="#LST2" title="Listing 2 ‣ 2.2 File Attacks ‣ 2 Direct Lookup ‣ AVOIDING ROTATED BITBOARDS WITH DIRECT LOOKUP" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> and uses the rank_attacks
hash table found earlier (line 11). This function has
an outer loop that ranges over the 64 squares, for the attacking piece,
and for each of these, an inner loop that loops over all the occupancy values.
In line 7, we find the symmetric square
value if reflected across the A8-H1 diagonal (e.g. g1 is reflected across
the line of symmetry and onto square h2, f1 to h3, etc.). In this way, the
position values are flipped or “rotated” 90 degrees and the occupancy
values are also rotated in line 10. The function rank_to_file() performs
this rotation by converting the number to base two and then to base 256.
In line 11, the attacked squares
that were calculated in Listing <a href="#LST1" title="Listing 1 ‣ 2.1 Rank Attacks ‣ 2 Direct Lookup ‣ AVOIDING ROTATED BITBOARDS WITH DIRECT LOOKUP" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> are also rotated.</p>
</div>
</section>
<section id="S2.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.3 </span>Diagonal Attacks</h3>

<div id="S2.SS3.p1" class="ltx_para">
<p id="S2.SS3.p1.1" class="ltx_p">The attacked squares along the diagonals
are a little more complex to calculate using the base conversion
technique used on the file_attacks. A more direct approach
like the one used to find the rank_attacks, involving shifting and adding,
is used. The diagonal hash tables can be found by summing over the squares
up to and including the blocking square. The A1-H8 diagonal can be found</p>
</div>
<div id="S2.SS3.p2" class="ltx_para">
<table id="S2.Ex9" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.Ex9.m1.2" class="ltx_Math" alttext="diag\_attacks\_ne(p,o)=\sum_{i=l}^{p-1}B_{i}+\sum_{i=p+1}^{r}B_{i}" display="block"><semantics id="S2.Ex9.m1.2a"><mrow id="S2.Ex9.m1.2.3" xref="S2.Ex9.m1.2.3.cmml"><mrow id="S2.Ex9.m1.2.3.2" xref="S2.Ex9.m1.2.3.2.cmml"><mi id="S2.Ex9.m1.2.3.2.2" xref="S2.Ex9.m1.2.3.2.2.cmml">d</mi><mo lspace="0em" rspace="0em" id="S2.Ex9.m1.2.3.2.1" xref="S2.Ex9.m1.2.3.2.1.cmml">​</mo><mi id="S2.Ex9.m1.2.3.2.3" xref="S2.Ex9.m1.2.3.2.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S2.Ex9.m1.2.3.2.1a" xref="S2.Ex9.m1.2.3.2.1.cmml">​</mo><mi id="S2.Ex9.m1.2.3.2.4" xref="S2.Ex9.m1.2.3.2.4.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.Ex9.m1.2.3.2.1b" xref="S2.Ex9.m1.2.3.2.1.cmml">​</mo><mi id="S2.Ex9.m1.2.3.2.5" xref="S2.Ex9.m1.2.3.2.5.cmml">g</mi><mo lspace="0em" rspace="0em" id="S2.Ex9.m1.2.3.2.1c" xref="S2.Ex9.m1.2.3.2.1.cmml">​</mo><mi mathvariant="normal" id="S2.Ex9.m1.2.3.2.6" xref="S2.Ex9.m1.2.3.2.6.cmml">_</mi><mo lspace="0em" rspace="0em" id="S2.Ex9.m1.2.3.2.1d" xref="S2.Ex9.m1.2.3.2.1.cmml">​</mo><mi id="S2.Ex9.m1.2.3.2.7" xref="S2.Ex9.m1.2.3.2.7.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.Ex9.m1.2.3.2.1e" xref="S2.Ex9.m1.2.3.2.1.cmml">​</mo><mi id="S2.Ex9.m1.2.3.2.8" xref="S2.Ex9.m1.2.3.2.8.cmml">t</mi><mo lspace="0em" rspace="0em" id="S2.Ex9.m1.2.3.2.1f" xref="S2.Ex9.m1.2.3.2.1.cmml">​</mo><mi id="S2.Ex9.m1.2.3.2.9" xref="S2.Ex9.m1.2.3.2.9.cmml">t</mi><mo lspace="0em" rspace="0em" id="S2.Ex9.m1.2.3.2.1g" xref="S2.Ex9.m1.2.3.2.1.cmml">​</mo><mi id="S2.Ex9.m1.2.3.2.10" xref="S2.Ex9.m1.2.3.2.10.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.Ex9.m1.2.3.2.1h" xref="S2.Ex9.m1.2.3.2.1.cmml">​</mo><mi id="S2.Ex9.m1.2.3.2.11" xref="S2.Ex9.m1.2.3.2.11.cmml">c</mi><mo lspace="0em" rspace="0em" id="S2.Ex9.m1.2.3.2.1i" xref="S2.Ex9.m1.2.3.2.1.cmml">​</mo><mi id="S2.Ex9.m1.2.3.2.12" xref="S2.Ex9.m1.2.3.2.12.cmml">k</mi><mo lspace="0em" rspace="0em" id="S2.Ex9.m1.2.3.2.1j" xref="S2.Ex9.m1.2.3.2.1.cmml">​</mo><mi id="S2.Ex9.m1.2.3.2.13" xref="S2.Ex9.m1.2.3.2.13.cmml">s</mi><mo lspace="0em" rspace="0em" id="S2.Ex9.m1.2.3.2.1k" xref="S2.Ex9.m1.2.3.2.1.cmml">​</mo><mi mathvariant="normal" id="S2.Ex9.m1.2.3.2.14" xref="S2.Ex9.m1.2.3.2.14.cmml">_</mi><mo lspace="0em" rspace="0em" id="S2.Ex9.m1.2.3.2.1l" xref="S2.Ex9.m1.2.3.2.1.cmml">​</mo><mi id="S2.Ex9.m1.2.3.2.15" xref="S2.Ex9.m1.2.3.2.15.cmml">n</mi><mo lspace="0em" rspace="0em" id="S2.Ex9.m1.2.3.2.1m" xref="S2.Ex9.m1.2.3.2.1.cmml">​</mo><mi id="S2.Ex9.m1.2.3.2.16" xref="S2.Ex9.m1.2.3.2.16.cmml">e</mi><mo lspace="0em" rspace="0em" id="S2.Ex9.m1.2.3.2.1n" xref="S2.Ex9.m1.2.3.2.1.cmml">​</mo><mrow id="S2.Ex9.m1.2.3.2.17.2" xref="S2.Ex9.m1.2.3.2.17.1.cmml"><mo stretchy="false" id="S2.Ex9.m1.2.3.2.17.2.1" xref="S2.Ex9.m1.2.3.2.17.1.cmml">(</mo><mi id="S2.Ex9.m1.1.1" xref="S2.Ex9.m1.1.1.cmml">p</mi><mo id="S2.Ex9.m1.2.3.2.17.2.2" xref="S2.Ex9.m1.2.3.2.17.1.cmml">,</mo><mi id="S2.Ex9.m1.2.2" xref="S2.Ex9.m1.2.2.cmml">o</mi><mo stretchy="false" id="S2.Ex9.m1.2.3.2.17.2.3" xref="S2.Ex9.m1.2.3.2.17.1.cmml">)</mo></mrow></mrow><mo rspace="0.111em" id="S2.Ex9.m1.2.3.1" xref="S2.Ex9.m1.2.3.1.cmml">=</mo><mrow id="S2.Ex9.m1.2.3.3" xref="S2.Ex9.m1.2.3.3.cmml"><mrow id="S2.Ex9.m1.2.3.3.2" xref="S2.Ex9.m1.2.3.3.2.cmml"><munderover id="S2.Ex9.m1.2.3.3.2.1" xref="S2.Ex9.m1.2.3.3.2.1.cmml"><mo movablelimits="false" id="S2.Ex9.m1.2.3.3.2.1.2.2" xref="S2.Ex9.m1.2.3.3.2.1.2.2.cmml">∑</mo><mrow id="S2.Ex9.m1.2.3.3.2.1.2.3" xref="S2.Ex9.m1.2.3.3.2.1.2.3.cmml"><mi id="S2.Ex9.m1.2.3.3.2.1.2.3.2" xref="S2.Ex9.m1.2.3.3.2.1.2.3.2.cmml">i</mi><mo id="S2.Ex9.m1.2.3.3.2.1.2.3.1" xref="S2.Ex9.m1.2.3.3.2.1.2.3.1.cmml">=</mo><mi id="S2.Ex9.m1.2.3.3.2.1.2.3.3" xref="S2.Ex9.m1.2.3.3.2.1.2.3.3.cmml">l</mi></mrow><mrow id="S2.Ex9.m1.2.3.3.2.1.3" xref="S2.Ex9.m1.2.3.3.2.1.3.cmml"><mi id="S2.Ex9.m1.2.3.3.2.1.3.2" xref="S2.Ex9.m1.2.3.3.2.1.3.2.cmml">p</mi><mo id="S2.Ex9.m1.2.3.3.2.1.3.1" xref="S2.Ex9.m1.2.3.3.2.1.3.1.cmml">−</mo><mn id="S2.Ex9.m1.2.3.3.2.1.3.3" xref="S2.Ex9.m1.2.3.3.2.1.3.3.cmml">1</mn></mrow></munderover><msub id="S2.Ex9.m1.2.3.3.2.2" xref="S2.Ex9.m1.2.3.3.2.2.cmml"><mi id="S2.Ex9.m1.2.3.3.2.2.2" xref="S2.Ex9.m1.2.3.3.2.2.2.cmml">B</mi><mi id="S2.Ex9.m1.2.3.3.2.2.3" xref="S2.Ex9.m1.2.3.3.2.2.3.cmml">i</mi></msub></mrow><mo rspace="0.055em" id="S2.Ex9.m1.2.3.3.1" xref="S2.Ex9.m1.2.3.3.1.cmml">+</mo><mrow id="S2.Ex9.m1.2.3.3.3" xref="S2.Ex9.m1.2.3.3.3.cmml"><munderover id="S2.Ex9.m1.2.3.3.3.1" xref="S2.Ex9.m1.2.3.3.3.1.cmml"><mo movablelimits="false" id="S2.Ex9.m1.2.3.3.3.1.2.2" xref="S2.Ex9.m1.2.3.3.3.1.2.2.cmml">∑</mo><mrow id="S2.Ex9.m1.2.3.3.3.1.2.3" xref="S2.Ex9.m1.2.3.3.3.1.2.3.cmml"><mi id="S2.Ex9.m1.2.3.3.3.1.2.3.2" xref="S2.Ex9.m1.2.3.3.3.1.2.3.2.cmml">i</mi><mo id="S2.Ex9.m1.2.3.3.3.1.2.3.1" xref="S2.Ex9.m1.2.3.3.3.1.2.3.1.cmml">=</mo><mrow id="S2.Ex9.m1.2.3.3.3.1.2.3.3" xref="S2.Ex9.m1.2.3.3.3.1.2.3.3.cmml"><mi id="S2.Ex9.m1.2.3.3.3.1.2.3.3.2" xref="S2.Ex9.m1.2.3.3.3.1.2.3.3.2.cmml">p</mi><mo id="S2.Ex9.m1.2.3.3.3.1.2.3.3.1" xref="S2.Ex9.m1.2.3.3.3.1.2.3.3.1.cmml">+</mo><mn id="S2.Ex9.m1.2.3.3.3.1.2.3.3.3" xref="S2.Ex9.m1.2.3.3.3.1.2.3.3.3.cmml">1</mn></mrow></mrow><mi id="S2.Ex9.m1.2.3.3.3.1.3" xref="S2.Ex9.m1.2.3.3.3.1.3.cmml">r</mi></munderover><msub id="S2.Ex9.m1.2.3.3.3.2" xref="S2.Ex9.m1.2.3.3.3.2.cmml"><mi id="S2.Ex9.m1.2.3.3.3.2.2" xref="S2.Ex9.m1.2.3.3.3.2.2.cmml">B</mi><mi id="S2.Ex9.m1.2.3.3.3.2.3" xref="S2.Ex9.m1.2.3.3.3.2.3.cmml">i</mi></msub></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.Ex9.m1.2b"><apply id="S2.Ex9.m1.2.3.cmml" xref="S2.Ex9.m1.2.3"><eq id="S2.Ex9.m1.2.3.1.cmml" xref="S2.Ex9.m1.2.3.1"></eq><apply id="S2.Ex9.m1.2.3.2.cmml" xref="S2.Ex9.m1.2.3.2"><times id="S2.Ex9.m1.2.3.2.1.cmml" xref="S2.Ex9.m1.2.3.2.1"></times><ci id="S2.Ex9.m1.2.3.2.2.cmml" xref="S2.Ex9.m1.2.3.2.2">𝑑</ci><ci id="S2.Ex9.m1.2.3.2.3.cmml" xref="S2.Ex9.m1.2.3.2.3">𝑖</ci><ci id="S2.Ex9.m1.2.3.2.4.cmml" xref="S2.Ex9.m1.2.3.2.4">𝑎</ci><ci id="S2.Ex9.m1.2.3.2.5.cmml" xref="S2.Ex9.m1.2.3.2.5">𝑔</ci><ci id="S2.Ex9.m1.2.3.2.6.cmml" xref="S2.Ex9.m1.2.3.2.6">_</ci><ci id="S2.Ex9.m1.2.3.2.7.cmml" xref="S2.Ex9.m1.2.3.2.7">𝑎</ci><ci id="S2.Ex9.m1.2.3.2.8.cmml" xref="S2.Ex9.m1.2.3.2.8">𝑡</ci><ci id="S2.Ex9.m1.2.3.2.9.cmml" xref="S2.Ex9.m1.2.3.2.9">𝑡</ci><ci id="S2.Ex9.m1.2.3.2.10.cmml" xref="S2.Ex9.m1.2.3.2.10">𝑎</ci><ci id="S2.Ex9.m1.2.3.2.11.cmml" xref="S2.Ex9.m1.2.3.2.11">𝑐</ci><ci id="S2.Ex9.m1.2.3.2.12.cmml" xref="S2.Ex9.m1.2.3.2.12">𝑘</ci><ci id="S2.Ex9.m1.2.3.2.13.cmml" xref="S2.Ex9.m1.2.3.2.13">𝑠</ci><ci id="S2.Ex9.m1.2.3.2.14.cmml" xref="S2.Ex9.m1.2.3.2.14">_</ci><ci id="S2.Ex9.m1.2.3.2.15.cmml" xref="S2.Ex9.m1.2.3.2.15">𝑛</ci><ci id="S2.Ex9.m1.2.3.2.16.cmml" xref="S2.Ex9.m1.2.3.2.16">𝑒</ci><interval closure="open" id="S2.Ex9.m1.2.3.2.17.1.cmml" xref="S2.Ex9.m1.2.3.2.17.2"><ci id="S2.Ex9.m1.1.1.cmml" xref="S2.Ex9.m1.1.1">𝑝</ci><ci id="S2.Ex9.m1.2.2.cmml" xref="S2.Ex9.m1.2.2">𝑜</ci></interval></apply><apply id="S2.Ex9.m1.2.3.3.cmml" xref="S2.Ex9.m1.2.3.3"><plus id="S2.Ex9.m1.2.3.3.1.cmml" xref="S2.Ex9.m1.2.3.3.1"></plus><apply id="S2.Ex9.m1.2.3.3.2.cmml" xref="S2.Ex9.m1.2.3.3.2"><apply id="S2.Ex9.m1.2.3.3.2.1.cmml" xref="S2.Ex9.m1.2.3.3.2.1"><csymbol cd="ambiguous" id="S2.Ex9.m1.2.3.3.2.1.1.cmml" xref="S2.Ex9.m1.2.3.3.2.1">superscript</csymbol><apply id="S2.Ex9.m1.2.3.3.2.1.2.cmml" xref="S2.Ex9.m1.2.3.3.2.1"><csymbol cd="ambiguous" id="S2.Ex9.m1.2.3.3.2.1.2.1.cmml" xref="S2.Ex9.m1.2.3.3.2.1">subscript</csymbol><sum id="S2.Ex9.m1.2.3.3.2.1.2.2.cmml" xref="S2.Ex9.m1.2.3.3.2.1.2.2"></sum><apply id="S2.Ex9.m1.2.3.3.2.1.2.3.cmml" xref="S2.Ex9.m1.2.3.3.2.1.2.3"><eq id="S2.Ex9.m1.2.3.3.2.1.2.3.1.cmml" xref="S2.Ex9.m1.2.3.3.2.1.2.3.1"></eq><ci id="S2.Ex9.m1.2.3.3.2.1.2.3.2.cmml" xref="S2.Ex9.m1.2.3.3.2.1.2.3.2">𝑖</ci><ci id="S2.Ex9.m1.2.3.3.2.1.2.3.3.cmml" xref="S2.Ex9.m1.2.3.3.2.1.2.3.3">𝑙</ci></apply></apply><apply id="S2.Ex9.m1.2.3.3.2.1.3.cmml" xref="S2.Ex9.m1.2.3.3.2.1.3"><minus id="S2.Ex9.m1.2.3.3.2.1.3.1.cmml" xref="S2.Ex9.m1.2.3.3.2.1.3.1"></minus><ci id="S2.Ex9.m1.2.3.3.2.1.3.2.cmml" xref="S2.Ex9.m1.2.3.3.2.1.3.2">𝑝</ci><cn type="integer" id="S2.Ex9.m1.2.3.3.2.1.3.3.cmml" xref="S2.Ex9.m1.2.3.3.2.1.3.3">1</cn></apply></apply><apply id="S2.Ex9.m1.2.3.3.2.2.cmml" xref="S2.Ex9.m1.2.3.3.2.2"><csymbol cd="ambiguous" id="S2.Ex9.m1.2.3.3.2.2.1.cmml" xref="S2.Ex9.m1.2.3.3.2.2">subscript</csymbol><ci id="S2.Ex9.m1.2.3.3.2.2.2.cmml" xref="S2.Ex9.m1.2.3.3.2.2.2">𝐵</ci><ci id="S2.Ex9.m1.2.3.3.2.2.3.cmml" xref="S2.Ex9.m1.2.3.3.2.2.3">𝑖</ci></apply></apply><apply id="S2.Ex9.m1.2.3.3.3.cmml" xref="S2.Ex9.m1.2.3.3.3"><apply id="S2.Ex9.m1.2.3.3.3.1.cmml" xref="S2.Ex9.m1.2.3.3.3.1"><csymbol cd="ambiguous" id="S2.Ex9.m1.2.3.3.3.1.1.cmml" xref="S2.Ex9.m1.2.3.3.3.1">superscript</csymbol><apply id="S2.Ex9.m1.2.3.3.3.1.2.cmml" xref="S2.Ex9.m1.2.3.3.3.1"><csymbol cd="ambiguous" id="S2.Ex9.m1.2.3.3.3.1.2.1.cmml" xref="S2.Ex9.m1.2.3.3.3.1">subscript</csymbol><sum id="S2.Ex9.m1.2.3.3.3.1.2.2.cmml" xref="S2.Ex9.m1.2.3.3.3.1.2.2"></sum><apply id="S2.Ex9.m1.2.3.3.3.1.2.3.cmml" xref="S2.Ex9.m1.2.3.3.3.1.2.3"><eq id="S2.Ex9.m1.2.3.3.3.1.2.3.1.cmml" xref="S2.Ex9.m1.2.3.3.3.1.2.3.1"></eq><ci id="S2.Ex9.m1.2.3.3.3.1.2.3.2.cmml" xref="S2.Ex9.m1.2.3.3.3.1.2.3.2">𝑖</ci><apply id="S2.Ex9.m1.2.3.3.3.1.2.3.3.cmml" xref="S2.Ex9.m1.2.3.3.3.1.2.3.3"><plus id="S2.Ex9.m1.2.3.3.3.1.2.3.3.1.cmml" xref="S2.Ex9.m1.2.3.3.3.1.2.3.3.1"></plus><ci id="S2.Ex9.m1.2.3.3.3.1.2.3.3.2.cmml" xref="S2.Ex9.m1.2.3.3.3.1.2.3.3.2">𝑝</ci><cn type="integer" id="S2.Ex9.m1.2.3.3.3.1.2.3.3.3.cmml" xref="S2.Ex9.m1.2.3.3.3.1.2.3.3.3">1</cn></apply></apply></apply><ci id="S2.Ex9.m1.2.3.3.3.1.3.cmml" xref="S2.Ex9.m1.2.3.3.3.1.3">𝑟</ci></apply><apply id="S2.Ex9.m1.2.3.3.3.2.cmml" xref="S2.Ex9.m1.2.3.3.3.2"><csymbol cd="ambiguous" id="S2.Ex9.m1.2.3.3.3.2.1.cmml" xref="S2.Ex9.m1.2.3.3.3.2">subscript</csymbol><ci id="S2.Ex9.m1.2.3.3.3.2.2.cmml" xref="S2.Ex9.m1.2.3.3.3.2.2">𝐵</ci><ci id="S2.Ex9.m1.2.3.3.3.2.3.cmml" xref="S2.Ex9.m1.2.3.3.3.2.3">𝑖</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.Ex9.m1.2c">diag\_attacks\_ne(p,o)=\sum_{i=l}^{p-1}B_{i}+\sum_{i=p+1}^{r}B_{i}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div id="S2.SS3.p3" class="ltx_para ltx_noindent">
<p id="S2.SS3.p3.6" class="ltx_p">where <math id="S2.SS3.p3.1.m1.1" class="ltx_Math" alttext="p" display="inline"><semantics id="S2.SS3.p3.1.m1.1a"><mi id="S2.SS3.p3.1.m1.1.1" xref="S2.SS3.p3.1.m1.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p3.1.m1.1b"><ci id="S2.SS3.p3.1.m1.1.1.cmml" xref="S2.SS3.p3.1.m1.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p3.1.m1.1c">p</annotation></semantics></math> is the position of the sliding piece (bishop or queen),
<math id="S2.SS3.p3.2.m2.1" class="ltx_Math" alttext="o" display="inline"><semantics id="S2.SS3.p3.2.m2.1a"><mi id="S2.SS3.p3.2.m2.1.1" xref="S2.SS3.p3.2.m2.1.1.cmml">o</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p3.2.m2.1b"><ci id="S2.SS3.p3.2.m2.1.1.cmml" xref="S2.SS3.p3.2.m2.1.1">𝑜</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p3.2.m2.1c">o</annotation></semantics></math> is the occupancy value for the diagonal, <math id="S2.SS3.p3.3.m3.1" class="ltx_Math" alttext="l" display="inline"><semantics id="S2.SS3.p3.3.m3.1a"><mi id="S2.SS3.p3.3.m3.1.1" xref="S2.SS3.p3.3.m3.1.1.cmml">l</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p3.3.m3.1b"><ci id="S2.SS3.p3.3.m3.1.1.cmml" xref="S2.SS3.p3.3.m3.1.1">𝑙</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p3.3.m3.1c">l</annotation></semantics></math> is the first occupied
square along the diagonal to the left of the sliding piece, and <math id="S2.SS3.p3.4.m4.1" class="ltx_Math" alttext="r" display="inline"><semantics id="S2.SS3.p3.4.m4.1a"><mi id="S2.SS3.p3.4.m4.1.1" xref="S2.SS3.p3.4.m4.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p3.4.m4.1b"><ci id="S2.SS3.p3.4.m4.1.1.cmml" xref="S2.SS3.p3.4.m4.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p3.4.m4.1c">r</annotation></semantics></math> is the first occupied
square along the diagonal to the right of the sliding piece. <math id="S2.SS3.p3.5.m5.1" class="ltx_Math" alttext="B_{i}" display="inline"><semantics id="S2.SS3.p3.5.m5.1a"><msub id="S2.SS3.p3.5.m5.1.1" xref="S2.SS3.p3.5.m5.1.1.cmml"><mi id="S2.SS3.p3.5.m5.1.1.2" xref="S2.SS3.p3.5.m5.1.1.2.cmml">B</mi><mi id="S2.SS3.p3.5.m5.1.1.3" xref="S2.SS3.p3.5.m5.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS3.p3.5.m5.1b"><apply id="S2.SS3.p3.5.m5.1.1.cmml" xref="S2.SS3.p3.5.m5.1.1"><csymbol cd="ambiguous" id="S2.SS3.p3.5.m5.1.1.1.cmml" xref="S2.SS3.p3.5.m5.1.1">subscript</csymbol><ci id="S2.SS3.p3.5.m5.1.1.2.cmml" xref="S2.SS3.p3.5.m5.1.1.2">𝐵</ci><ci id="S2.SS3.p3.5.m5.1.1.3.cmml" xref="S2.SS3.p3.5.m5.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p3.5.m5.1c">B_{i}</annotation></semantics></math> is the
value of the number if the <math id="S2.SS3.p3.6.m6.1" class="ltx_Math" alttext="i^{th}" display="inline"><semantics id="S2.SS3.p3.6.m6.1a"><msup id="S2.SS3.p3.6.m6.1.1" xref="S2.SS3.p3.6.m6.1.1.cmml"><mi id="S2.SS3.p3.6.m6.1.1.2" xref="S2.SS3.p3.6.m6.1.1.2.cmml">i</mi><mrow id="S2.SS3.p3.6.m6.1.1.3" xref="S2.SS3.p3.6.m6.1.1.3.cmml"><mi id="S2.SS3.p3.6.m6.1.1.3.2" xref="S2.SS3.p3.6.m6.1.1.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S2.SS3.p3.6.m6.1.1.3.1" xref="S2.SS3.p3.6.m6.1.1.3.1.cmml">​</mo><mi id="S2.SS3.p3.6.m6.1.1.3.3" xref="S2.SS3.p3.6.m6.1.1.3.3.cmml">h</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S2.SS3.p3.6.m6.1b"><apply id="S2.SS3.p3.6.m6.1.1.cmml" xref="S2.SS3.p3.6.m6.1.1"><csymbol cd="ambiguous" id="S2.SS3.p3.6.m6.1.1.1.cmml" xref="S2.SS3.p3.6.m6.1.1">superscript</csymbol><ci id="S2.SS3.p3.6.m6.1.1.2.cmml" xref="S2.SS3.p3.6.m6.1.1.2">𝑖</ci><apply id="S2.SS3.p3.6.m6.1.1.3.cmml" xref="S2.SS3.p3.6.m6.1.1.3"><times id="S2.SS3.p3.6.m6.1.1.3.1.cmml" xref="S2.SS3.p3.6.m6.1.1.3.1"></times><ci id="S2.SS3.p3.6.m6.1.1.3.2.cmml" xref="S2.SS3.p3.6.m6.1.1.3.2">𝑡</ci><ci id="S2.SS3.p3.6.m6.1.1.3.3.cmml" xref="S2.SS3.p3.6.m6.1.1.3.3">ℎ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p3.6.m6.1c">i^{th}</annotation></semantics></math> bit is set</p>
</div>
<div id="S2.SS3.p4" class="ltx_para">
<table id="S2.Ex10" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.Ex10.m1.5" class="ltx_Math" alttext="B_{i}=\cases{2^{i},&amp;if 1 exists at $i^{th}$ bit of $o$;\cr 0,&amp;otherwise.\cr}" display="block"><semantics id="S2.Ex10.m1.5a"><mrow id="S2.Ex10.m1.5.6" xref="S2.Ex10.m1.5.6.cmml"><msub id="S2.Ex10.m1.5.6.2" xref="S2.Ex10.m1.5.6.2.cmml"><mi id="S2.Ex10.m1.5.6.2.2" xref="S2.Ex10.m1.5.6.2.2.cmml">B</mi><mi id="S2.Ex10.m1.5.6.2.3" xref="S2.Ex10.m1.5.6.2.3.cmml">i</mi></msub><mo id="S2.Ex10.m1.5.6.1" xref="S2.Ex10.m1.5.6.1.cmml">=</mo><mrow id="S2.Ex10.m1.5.5" xref="S2.Ex10.m1.5.6.3.1.cmml"><mo id="S2.Ex10.m1.5.5.6" xref="S2.Ex10.m1.5.6.3.1.1.cmml">{</mo><mtable columnspacing="5pt" displaystyle="true" rowspacing="0pt" id="S2.Ex10.m1.5.5.5" xref="S2.Ex10.m1.5.6.3.1.cmml"><mtr id="S2.Ex10.m1.5.5.5a" xref="S2.Ex10.m1.5.6.3.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S2.Ex10.m1.5.5.5b" xref="S2.Ex10.m1.5.6.3.1.cmml"><mrow id="S2.Ex10.m1.3.3.3.3.3.1.1" xref="S2.Ex10.m1.3.3.3.3.3.1.1.1.cmml"><msup id="S2.Ex10.m1.3.3.3.3.3.1.1.1" xref="S2.Ex10.m1.3.3.3.3.3.1.1.1.cmml"><mn id="S2.Ex10.m1.3.3.3.3.3.1.1.1.2" xref="S2.Ex10.m1.3.3.3.3.3.1.1.1.2.cmml">2</mn><mi id="S2.Ex10.m1.3.3.3.3.3.1.1.1.3" xref="S2.Ex10.m1.3.3.3.3.3.1.1.1.3.cmml">i</mi></msup><mo id="S2.Ex10.m1.3.3.3.3.3.1.1.2" xref="S2.Ex10.m1.3.3.3.3.3.1.1.1.cmml">,</mo></mrow></mtd><mtd class="ltx_align_left" columnalign="left" id="S2.Ex10.m1.5.5.5c" xref="S2.Ex10.m1.5.6.3.1.cmml"><mrow id="S2.Ex10.m1.2.2.2.2.2.2" xref="S2.Ex10.m1.2.2.2.2.2.2d.cmml"><mtext id="S2.Ex10.m1.2.2.2.2.2.2a" xref="S2.Ex10.m1.2.2.2.2.2.2d.cmml">if 1 exists at </mtext><msup id="S2.Ex10.m1.1.1.1.1.1.1.1.m1.1.1" xref="S2.Ex10.m1.1.1.1.1.1.1.1.m1.1.1.cmml"><mi id="S2.Ex10.m1.1.1.1.1.1.1.1.m1.1.1.2" xref="S2.Ex10.m1.1.1.1.1.1.1.1.m1.1.1.2.cmml">i</mi><mrow id="S2.Ex10.m1.1.1.1.1.1.1.1.m1.1.1.3" xref="S2.Ex10.m1.1.1.1.1.1.1.1.m1.1.1.3.cmml"><mi id="S2.Ex10.m1.1.1.1.1.1.1.1.m1.1.1.3.2" xref="S2.Ex10.m1.1.1.1.1.1.1.1.m1.1.1.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S2.Ex10.m1.1.1.1.1.1.1.1.m1.1.1.3.1" xref="S2.Ex10.m1.1.1.1.1.1.1.1.m1.1.1.3.1.cmml">​</mo><mi id="S2.Ex10.m1.1.1.1.1.1.1.1.m1.1.1.3.3" xref="S2.Ex10.m1.1.1.1.1.1.1.1.m1.1.1.3.3.cmml">h</mi></mrow></msup><mtext id="S2.Ex10.m1.2.2.2.2.2.2b" xref="S2.Ex10.m1.2.2.2.2.2.2d.cmml"> bit of </mtext><mi id="S2.Ex10.m1.2.2.2.2.2.2.2.m2.1.1" xref="S2.Ex10.m1.2.2.2.2.2.2.2.m2.1.1.cmml">o</mi><mtext id="S2.Ex10.m1.2.2.2.2.2.2c" xref="S2.Ex10.m1.2.2.2.2.2.2d.cmml">;</mtext></mrow></mtd></mtr><mtr id="S2.Ex10.m1.5.5.5d" xref="S2.Ex10.m1.5.6.3.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S2.Ex10.m1.5.5.5e" xref="S2.Ex10.m1.5.6.3.1.cmml"><mrow id="S2.Ex10.m1.4.4.4.4.1.1.3" xref="S2.Ex10.m1.5.6.3.1.cmml"><mn id="S2.Ex10.m1.4.4.4.4.1.1.1" xref="S2.Ex10.m1.4.4.4.4.1.1.1.cmml">0</mn><mo id="S2.Ex10.m1.4.4.4.4.1.1.3.1" xref="S2.Ex10.m1.5.6.3.1.cmml">,</mo></mrow></mtd><mtd class="ltx_align_left" columnalign="left" id="S2.Ex10.m1.5.5.5f" xref="S2.Ex10.m1.5.6.3.1.cmml"><mtext id="S2.Ex10.m1.5.5.5.5.2.1" xref="S2.Ex10.m1.5.5.5.5.2.1a.cmml">otherwise.</mtext></mtd></mtr></mtable></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.Ex10.m1.5b"><apply id="S2.Ex10.m1.5.6.cmml" xref="S2.Ex10.m1.5.6"><eq id="S2.Ex10.m1.5.6.1.cmml" xref="S2.Ex10.m1.5.6.1"></eq><apply id="S2.Ex10.m1.5.6.2.cmml" xref="S2.Ex10.m1.5.6.2"><csymbol cd="ambiguous" id="S2.Ex10.m1.5.6.2.1.cmml" xref="S2.Ex10.m1.5.6.2">subscript</csymbol><ci id="S2.Ex10.m1.5.6.2.2.cmml" xref="S2.Ex10.m1.5.6.2.2">𝐵</ci><ci id="S2.Ex10.m1.5.6.2.3.cmml" xref="S2.Ex10.m1.5.6.2.3">𝑖</ci></apply><apply id="S2.Ex10.m1.5.6.3.1.cmml" xref="S2.Ex10.m1.5.5"><csymbol cd="latexml" id="S2.Ex10.m1.5.6.3.1.1.cmml" xref="S2.Ex10.m1.5.5.6">cases</csymbol><apply id="S2.Ex10.m1.3.3.3.3.3.1.1.1.cmml" xref="S2.Ex10.m1.3.3.3.3.3.1.1"><csymbol cd="ambiguous" id="S2.Ex10.m1.3.3.3.3.3.1.1.1.1.cmml" xref="S2.Ex10.m1.3.3.3.3.3.1.1">superscript</csymbol><cn type="integer" id="S2.Ex10.m1.3.3.3.3.3.1.1.1.2.cmml" xref="S2.Ex10.m1.3.3.3.3.3.1.1.1.2">2</cn><ci id="S2.Ex10.m1.3.3.3.3.3.1.1.1.3.cmml" xref="S2.Ex10.m1.3.3.3.3.3.1.1.1.3">𝑖</ci></apply><ci id="S2.Ex10.m1.2.2.2.2.2.2d.cmml" xref="S2.Ex10.m1.2.2.2.2.2.2"><mrow id="S2.Ex10.m1.2.2.2.2.2.2.cmml" xref="S2.Ex10.m1.2.2.2.2.2.2"><mtext id="S2.Ex10.m1.2.2.2.2.2.2a.cmml" xref="S2.Ex10.m1.2.2.2.2.2.2">if 1 exists at </mtext><msup id="S2.Ex10.m1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="S2.Ex10.m1.1.1.1.1.1.1.1.m1.1.1"><mi id="S2.Ex10.m1.1.1.1.1.1.1.1.m1.1.1.2.cmml" xref="S2.Ex10.m1.1.1.1.1.1.1.1.m1.1.1.2">i</mi><mrow id="S2.Ex10.m1.1.1.1.1.1.1.1.m1.1.1.3.cmml" xref="S2.Ex10.m1.1.1.1.1.1.1.1.m1.1.1.3"><mi id="S2.Ex10.m1.1.1.1.1.1.1.1.m1.1.1.3.2.cmml" xref="S2.Ex10.m1.1.1.1.1.1.1.1.m1.1.1.3.2">t</mi><mo id="S2.Ex10.m1.1.1.1.1.1.1.1.m1.1.1.3.1.cmml" xref="S2.Ex10.m1.1.1.1.1.1.1.1.m1.1.1.3.1" lspace='0px' rspace='0px'></mo><mi id="S2.Ex10.m1.1.1.1.1.1.1.1.m1.1.1.3.3.cmml" xref="S2.Ex10.m1.1.1.1.1.1.1.1.m1.1.1.3.3">h</mi></mrow></msup><mtext id="S2.Ex10.m1.2.2.2.2.2.2b.cmml" xref="S2.Ex10.m1.2.2.2.2.2.2"> bit of </mtext><mi id="S2.Ex10.m1.2.2.2.2.2.2.2.m2.1.1.cmml" xref="S2.Ex10.m1.2.2.2.2.2.2.2.m2.1.1">o</mi><mtext id="S2.Ex10.m1.2.2.2.2.2.2c.cmml" xref="S2.Ex10.m1.2.2.2.2.2.2">;</mtext></mrow></ci><cn type="integer" id="S2.Ex10.m1.4.4.4.4.1.1.1.cmml" xref="S2.Ex10.m1.4.4.4.4.1.1.1">0</cn><ci id="S2.Ex10.m1.5.5.5.5.2.1a.cmml" xref="S2.Ex10.m1.5.5.5.5.2.1"><mtext id="S2.Ex10.m1.5.5.5.5.2.1.cmml" xref="S2.Ex10.m1.5.5.5.5.2.1">otherwise.</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.Ex10.m1.5c">B_{i}=\cases{2^{i},&amp;if 1 exists at $i^{th}$ bit of $o$;\cr 0,&amp;otherwise.\cr}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div id="S2.SS3.p5" class="ltx_para">
<p id="S2.SS3.p5.1" class="ltx_p">The other diagonal hash table (for the A8-H1 direction)
is not shown but has a similar structure.</p>
</div>
<figure id="LST3" class="ltx_float ltx_lstlisting">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float">Listing 3: </span>Generalized Attack Lookup Table</figcaption>
<div id="LST3.1" class="ltx_listing ltx_lst_language_Python ltx_lstlisting ltx_listing">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZGVmIGdldF9hdHRhY2tzIChzcXVhcmVfbGlzdD1Ob25lKToKICAgIGF0dGFja190YWJsZSA9IHt9CiAgICBhdHRhY2tfdGFibGVbMF0gPSB7fQogICAgYXR0YWNrX3RhYmxlWzBdWzBdID0gMAogICAgZm9yIGkgaW4gcmFuZ2UobGVuKHNxdWFyZV9saXN0KSk6CiAgICAgICAgbGlzdF9zaXplID0gbGVuKHNxdWFyZV9saXN0W2ldKQogICAgICAgIGZvciBjdXJyZW50X3Bvc2l0aW9uIGluIHJhbmdlKGxpc3Rfc2l6ZSk6CiAgICAgICAgICAgIGN1cnJlbnRfYmIgPSBzcXVhcmVfbGlzdFtpXVtjdXJyZW50X3Bvc2l0aW9uXQogICAgICAgICAgICBhdHRhY2tfdGFibGVbY3VycmVudF9iYl0gPSB7fQogICAgICAgICAgICBmb3Igb2NjdXBhdGlvbiBpbiByYW5nZSgxIDw8IGxpc3Rfc2l6ZSk6CiAgICAgICAgICAgICAgICBtb3ZlcyA9IDAKICAgICAgICAgICAgICAgIGZvciBuZXdzcXVhcmUgaW4gcmFuZ2UoY3VycmVudF9wb3NpdGlvbisxLGxpc3Rfc2l6ZSk6CiAgICAgICAgICAgICAgICAgICAgbW92ZXMgfD0gc3F1YXJlX2xpc3RbaV1bbmV3c3F1YXJlXQogICAgICAgICAgICAgICAgICAgIGlmICgoMSA8PCBuZXdzcXVhcmUpICYgb2NjdXBhdGlvbik6CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICBmb3IgbmV3c3F1YXJlIGluIHJhbmdlKGN1cnJlbnRfcG9zaXRpb24tMSwtMSwtMSk6CiAgICAgICAgICAgICAgICAgICAgbW92ZXMgfD0gc3F1YXJlX2xpc3RbaV1bbmV3c3F1YXJlXQogICAgICAgICAgICAgICAgICAgIGlmICgoMSA8PCBuZXdzcXVhcmUpICYgb2NjdXBhdGlvbik6CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICB0ZW1wX2JiID0gMAogICAgICAgICAgICAgICAgd2hpbGUgKG9jY3VwYXRpb24pOgogICAgICAgICAgICAgICAgICAgIGxvd2VzdCA9IGxzYihvY2N1cGF0aW9uKQogICAgICAgICAgICAgICAgICAgIHRlbXBfYmIgfD0gc3F1YXJlX2xpc3RbaV1bYmluMmluZGV4W2xvd2VzdF1dCiAgICAgICAgICAgICAgICAgICAgb2NjdXBhdGlvbiA9IGNsZWFyX2xzYihvY2N1cGF0aW9uKQogICAgcmV0dXJuKGF0dGFja190YWJsZSkKCmRlZiBnZXRfZGlhZ19hdHRhY2tzX25lICgpOgogICAgZGlhZ192YWx1ZXMgPSBbW2gxXSwKICAgICAgICAgICAgICAgICBbaDIsZzFdLAogICAgICAgICAgICAgICAgW2gzLGcyLGYxXSwKICAgICAgICAgICAgICAgW2g0LGczLGYyLGUxXSwKICAgICAgICAgICAgICBbaDUsZzQsZjMsZTIsZDFdLAogICAgICAgICAgICAgW2g2LGc1LGY0LGUzLGQyLGMxXSwKICAgICAgICAgICAgW2g3LGc2LGY1LGU0LGQzLGMyLGIxXSwKICAgICAgICAgICBbaDgsZzcsZjYsZTUsZDQsYzMsYjIsYTFdLAogICAgICAgICAgICBbZzgsZjcsZTYsZDUsYzQsYjMsYTJdLAogICAgICAgICAgICAgW2Y4LGU3LGQ2LGM1LGI0LGEzXSwKICAgICAgICAgICAgICBbZTgsZDcsYzYsYjUsYTRdLAogICAgICAgICAgICAgICBbZDgsYzcsYjYsYTVdLAogICAgICAgICAgICAgICAgW2M4LGI3LGE2XSwKICAgICAgICAgICAgICAgICBbYjgsYTddLAogICAgICAgICAgICAgICAgICBbYThdXQogICAgcmV0dXJuKGdldF9kaWFnX2F0dGFja3MoZGlhZ192YWx1ZXMpKQoKZGVmIGdldF9kaWFnc19hdHRhY2tzX253ICgpOgogICAgZGlhZ192YWx1ZXMgPSBbW2ExXSwKICAgICAgICAgICAgICAgICBbYjEsYTJdLAogICAgICAgICAgICAgICAgW2MxLGIyLGEzXSwKICAgICAgICAgICAgICAgW2QxLGMyLGIzLGE0XSwKICAgICAgICAgICAgICBbZTEsZDIsYzMsYjQsYTVdLAogICAgICAgICAgICAgW2YxLGUyLGQzLGM0LGI1LGE2XSwKICAgICAgICAgICAgW2cxLGYyLGUzLGQ0LGM1LGI2LGE3XSwKICAgICAgICAgICBbaDEsZzIsZjMsZTQsZDUsYzYsYjcsYThdLAogICAgICAgICAgICBbaDIsZzMsZjQsZTUsZDYsYzcsYjhdLAogICAgICAgICAgICAgW2gzLGc0LGY1LGU2LGQ3LGM4XSwKICAgICAgICAgICAgICBbaDQsZzUsZjYsZTcsZDhdLAogICAgICAgICAgICAgICBbaDUsZzYsZjcsZThdLAogICAgICAgICAgICAgICAgW2g2LGc3LGY4XSwKICAgICAgICAgICAgICAgICBbaDcsZzhdLAogICAgICAgICAgICAgICAgICBbaDhdXQogICAgcmV0dXJuKGdldF9kaWFnX2F0dGFja3MoZGlhZ192YWx1ZXMpKQ==" download="">⬇</a></div>
<div id="lstnumberx40" class="ltx_listingline">
<span id="lstnumberx40.1" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">def</span><span id="lstnumberx40.2" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx40.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">get_attacks</span><span id="lstnumberx40.4" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx40.5" class="ltx_text" style="font-size:80%;">(</span><span id="lstnumberx40.6" class="ltx_text ltx_lst_identifier" style="font-size:80%;">square_list</span><span id="lstnumberx40.7" class="ltx_text" style="font-size:80%;">=</span><span id="lstnumberx40.8" class="ltx_text ltx_lst_identifier" style="font-size:80%;">None</span><span id="lstnumberx40.9" class="ltx_text" style="font-size:80%;">):</span>
</div>
<div id="lstnumberx41" class="ltx_listingline">
<span id="lstnumberx41.1" class="ltx_text ltx_lst_space" style="font-size:80%;">    </span><span id="lstnumberx41.2" class="ltx_text ltx_lst_identifier" style="font-size:80%;">attack_table</span><span id="lstnumberx41.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx41.4" class="ltx_text" style="font-size:80%;">=</span><span id="lstnumberx41.5" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx41.6" class="ltx_text" style="font-size:80%;">{}</span>
</div>
<div id="lstnumberx42" class="ltx_listingline">
<span id="lstnumberx42.1" class="ltx_text ltx_lst_space" style="font-size:80%;">    </span><span id="lstnumberx42.2" class="ltx_text ltx_lst_identifier" style="font-size:80%;">attack_table</span><span id="lstnumberx42.3" class="ltx_text" style="font-size:80%;">[0]</span><span id="lstnumberx42.4" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx42.5" class="ltx_text" style="font-size:80%;">=</span><span id="lstnumberx42.6" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx42.7" class="ltx_text" style="font-size:80%;">{}</span>
</div>
<div id="lstnumberx43" class="ltx_listingline">
<span id="lstnumberx43.1" class="ltx_text ltx_lst_space" style="font-size:80%;">    </span><span id="lstnumberx43.2" class="ltx_text ltx_lst_identifier" style="font-size:80%;">attack_table</span><span id="lstnumberx43.3" class="ltx_text" style="font-size:80%;">[0][0]</span><span id="lstnumberx43.4" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx43.5" class="ltx_text" style="font-size:80%;">=</span><span id="lstnumberx43.6" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx43.7" class="ltx_text" style="font-size:80%;">0</span>
</div>
<div id="lstnumberx44" class="ltx_listingline">
<span id="lstnumberx44.1" class="ltx_text ltx_lst_space" style="font-size:80%;">    </span><span id="lstnumberx44.2" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">for</span><span id="lstnumberx44.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx44.4" class="ltx_text ltx_lst_identifier" style="font-size:80%;">i</span><span id="lstnumberx44.5" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx44.6" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">in</span><span id="lstnumberx44.7" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx44.8" class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_sansserif" style="font-size:80%;">range</span><span id="lstnumberx44.9" class="ltx_text" style="font-size:80%;">(</span><span id="lstnumberx44.10" class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_sansserif" style="font-size:80%;">len</span><span id="lstnumberx44.11" class="ltx_text" style="font-size:80%;">(</span><span id="lstnumberx44.12" class="ltx_text ltx_lst_identifier" style="font-size:80%;">square_list</span><span id="lstnumberx44.13" class="ltx_text" style="font-size:80%;">)):</span>
</div>
<div id="lstnumberx45" class="ltx_listingline">
<span id="lstnumberx45.1" class="ltx_text ltx_lst_space" style="font-size:80%;">        </span><span id="lstnumberx45.2" class="ltx_text ltx_lst_identifier" style="font-size:80%;">list_size</span><span id="lstnumberx45.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx45.4" class="ltx_text" style="font-size:80%;">=</span><span id="lstnumberx45.5" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx45.6" class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_sansserif" style="font-size:80%;">len</span><span id="lstnumberx45.7" class="ltx_text" style="font-size:80%;">(</span><span id="lstnumberx45.8" class="ltx_text ltx_lst_identifier" style="font-size:80%;">square_list</span><span id="lstnumberx45.9" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx45.10" class="ltx_text ltx_lst_identifier" style="font-size:80%;">i</span><span id="lstnumberx45.11" class="ltx_text" style="font-size:80%;">])</span>
</div>
<div id="lstnumberx46" class="ltx_listingline">
<span id="lstnumberx46.1" class="ltx_text ltx_lst_space" style="font-size:80%;">        </span><span id="lstnumberx46.2" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">for</span><span id="lstnumberx46.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx46.4" class="ltx_text ltx_lst_identifier" style="font-size:80%;">current_position</span><span id="lstnumberx46.5" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx46.6" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">in</span><span id="lstnumberx46.7" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx46.8" class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_sansserif" style="font-size:80%;">range</span><span id="lstnumberx46.9" class="ltx_text" style="font-size:80%;">(</span><span id="lstnumberx46.10" class="ltx_text ltx_lst_identifier" style="font-size:80%;">list_size</span><span id="lstnumberx46.11" class="ltx_text" style="font-size:80%;">):</span>
</div>
<div id="lstnumberx47" class="ltx_listingline">
<span id="lstnumberx47.1" class="ltx_text ltx_lst_space" style="font-size:80%;">            </span><span id="lstnumberx47.2" class="ltx_text ltx_lst_identifier" style="font-size:80%;">current_bb</span><span id="lstnumberx47.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx47.4" class="ltx_text" style="font-size:80%;">=</span><span id="lstnumberx47.5" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx47.6" class="ltx_text ltx_lst_identifier" style="font-size:80%;">square_list</span><span id="lstnumberx47.7" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx47.8" class="ltx_text ltx_lst_identifier" style="font-size:80%;">i</span><span id="lstnumberx47.9" class="ltx_text" style="font-size:80%;">][</span><span id="lstnumberx47.10" class="ltx_text ltx_lst_identifier" style="font-size:80%;">current_position</span><span id="lstnumberx47.11" class="ltx_text" style="font-size:80%;">]</span>
</div>
<div id="lstnumberx48" class="ltx_listingline">
<span id="lstnumberx48.1" class="ltx_text ltx_lst_space" style="font-size:80%;">            </span><span id="lstnumberx48.2" class="ltx_text ltx_lst_identifier" style="font-size:80%;">attack_table</span><span id="lstnumberx48.3" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx48.4" class="ltx_text ltx_lst_identifier" style="font-size:80%;">current_bb</span><span id="lstnumberx48.5" class="ltx_text" style="font-size:80%;">]</span><span id="lstnumberx48.6" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx48.7" class="ltx_text" style="font-size:80%;">=</span><span id="lstnumberx48.8" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx48.9" class="ltx_text" style="font-size:80%;">{}</span>
</div>
<div id="lstnumberx49" class="ltx_listingline">
<span id="lstnumberx49.1" class="ltx_text ltx_lst_space" style="font-size:80%;">            </span><span id="lstnumberx49.2" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">for</span><span id="lstnumberx49.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx49.4" class="ltx_text ltx_lst_identifier" style="font-size:80%;">occupation</span><span id="lstnumberx49.5" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx49.6" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">in</span><span id="lstnumberx49.7" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx49.8" class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_sansserif" style="font-size:80%;">range</span><span id="lstnumberx49.9" class="ltx_text" style="font-size:80%;">(1</span><span id="lstnumberx49.10" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx49.11" class="ltx_text" style="font-size:80%;">&lt;&lt;</span><span id="lstnumberx49.12" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx49.13" class="ltx_text ltx_lst_identifier" style="font-size:80%;">list_size</span><span id="lstnumberx49.14" class="ltx_text" style="font-size:80%;">):</span>
</div>
<div id="lstnumberx50" class="ltx_listingline">
<span id="lstnumberx50.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                </span><span id="lstnumberx50.2" class="ltx_text ltx_lst_identifier" style="font-size:80%;">moves</span><span id="lstnumberx50.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx50.4" class="ltx_text" style="font-size:80%;">=</span><span id="lstnumberx50.5" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx50.6" class="ltx_text" style="font-size:80%;">0</span>
</div>
<div id="lstnumberx51" class="ltx_listingline">
<span id="lstnumberx51.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                </span><span id="lstnumberx51.2" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">for</span><span id="lstnumberx51.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx51.4" class="ltx_text ltx_lst_identifier" style="font-size:80%;">newsquare</span><span id="lstnumberx51.5" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx51.6" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">in</span><span id="lstnumberx51.7" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx51.8" class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_sansserif" style="font-size:80%;">range</span><span id="lstnumberx51.9" class="ltx_text" style="font-size:80%;">(</span><span id="lstnumberx51.10" class="ltx_text ltx_lst_identifier" style="font-size:80%;">current_position</span><span id="lstnumberx51.11" class="ltx_text" style="font-size:80%;">+1,</span><span id="lstnumberx51.12" class="ltx_text ltx_lst_identifier" style="font-size:80%;">list_size</span><span id="lstnumberx51.13" class="ltx_text" style="font-size:80%;">):</span>
</div>
<div id="lstnumberx52" class="ltx_listingline">
<span id="lstnumberx52.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                    </span><span id="lstnumberx52.2" class="ltx_text ltx_lst_identifier" style="font-size:80%;">moves</span><span id="lstnumberx52.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx52.4" class="ltx_text" style="font-size:80%;">|=</span><span id="lstnumberx52.5" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx52.6" class="ltx_text ltx_lst_identifier" style="font-size:80%;">square_list</span><span id="lstnumberx52.7" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx52.8" class="ltx_text ltx_lst_identifier" style="font-size:80%;">i</span><span id="lstnumberx52.9" class="ltx_text" style="font-size:80%;">][</span><span id="lstnumberx52.10" class="ltx_text ltx_lst_identifier" style="font-size:80%;">newsquare</span><span id="lstnumberx52.11" class="ltx_text" style="font-size:80%;">]</span>
</div>
<div id="lstnumberx53" class="ltx_listingline">
<span id="lstnumberx53.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                    </span><span id="lstnumberx53.2" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">if</span><span id="lstnumberx53.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx53.4" class="ltx_text" style="font-size:80%;">((1</span><span id="lstnumberx53.5" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx53.6" class="ltx_text" style="font-size:80%;">&lt;&lt;</span><span id="lstnumberx53.7" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx53.8" class="ltx_text ltx_lst_identifier" style="font-size:80%;">newsquare</span><span id="lstnumberx53.9" class="ltx_text" style="font-size:80%;">)</span><span id="lstnumberx53.10" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx53.11" class="ltx_text" style="font-size:80%;">&amp;</span><span id="lstnumberx53.12" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx53.13" class="ltx_text ltx_lst_identifier" style="font-size:80%;">occupation</span><span id="lstnumberx53.14" class="ltx_text" style="font-size:80%;">):</span>
</div>
<div id="lstnumberx54" class="ltx_listingline">
<span id="lstnumberx54.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                        </span><span id="lstnumberx54.2" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">break</span>
</div>
<div id="lstnumberx55" class="ltx_listingline">
<span id="lstnumberx55.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                </span><span id="lstnumberx55.2" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">for</span><span id="lstnumberx55.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx55.4" class="ltx_text ltx_lst_identifier" style="font-size:80%;">newsquare</span><span id="lstnumberx55.5" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx55.6" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">in</span><span id="lstnumberx55.7" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx55.8" class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_sansserif" style="font-size:80%;">range</span><span id="lstnumberx55.9" class="ltx_text" style="font-size:80%;">(</span><span id="lstnumberx55.10" class="ltx_text ltx_lst_identifier" style="font-size:80%;">current_position</span><span id="lstnumberx55.11" class="ltx_text" style="font-size:80%;">-1,-1,-1):</span>
</div>
<div id="lstnumberx56" class="ltx_listingline">
<span id="lstnumberx56.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                    </span><span id="lstnumberx56.2" class="ltx_text ltx_lst_identifier" style="font-size:80%;">moves</span><span id="lstnumberx56.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx56.4" class="ltx_text" style="font-size:80%;">|=</span><span id="lstnumberx56.5" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx56.6" class="ltx_text ltx_lst_identifier" style="font-size:80%;">square_list</span><span id="lstnumberx56.7" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx56.8" class="ltx_text ltx_lst_identifier" style="font-size:80%;">i</span><span id="lstnumberx56.9" class="ltx_text" style="font-size:80%;">][</span><span id="lstnumberx56.10" class="ltx_text ltx_lst_identifier" style="font-size:80%;">newsquare</span><span id="lstnumberx56.11" class="ltx_text" style="font-size:80%;">]</span>
</div>
<div id="lstnumberx57" class="ltx_listingline">
<span id="lstnumberx57.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                    </span><span id="lstnumberx57.2" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">if</span><span id="lstnumberx57.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx57.4" class="ltx_text" style="font-size:80%;">((1</span><span id="lstnumberx57.5" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx57.6" class="ltx_text" style="font-size:80%;">&lt;&lt;</span><span id="lstnumberx57.7" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx57.8" class="ltx_text ltx_lst_identifier" style="font-size:80%;">newsquare</span><span id="lstnumberx57.9" class="ltx_text" style="font-size:80%;">)</span><span id="lstnumberx57.10" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx57.11" class="ltx_text" style="font-size:80%;">&amp;</span><span id="lstnumberx57.12" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx57.13" class="ltx_text ltx_lst_identifier" style="font-size:80%;">occupation</span><span id="lstnumberx57.14" class="ltx_text" style="font-size:80%;">):</span>
</div>
<div id="lstnumberx58" class="ltx_listingline">
<span id="lstnumberx58.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                        </span><span id="lstnumberx58.2" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">break</span>
</div>
<div id="lstnumberx59" class="ltx_listingline">
<span id="lstnumberx59.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                </span><span id="lstnumberx59.2" class="ltx_text ltx_lst_identifier" style="font-size:80%;">temp_bb</span><span id="lstnumberx59.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx59.4" class="ltx_text" style="font-size:80%;">=</span><span id="lstnumberx59.5" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx59.6" class="ltx_text" style="font-size:80%;">0</span>
</div>
<div id="lstnumberx60" class="ltx_listingline">
<span id="lstnumberx60.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                </span><span id="lstnumberx60.2" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">while</span><span id="lstnumberx60.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx60.4" class="ltx_text" style="font-size:80%;">(</span><span id="lstnumberx60.5" class="ltx_text ltx_lst_identifier" style="font-size:80%;">occupation</span><span id="lstnumberx60.6" class="ltx_text" style="font-size:80%;">):</span>
</div>
<div id="lstnumberx61" class="ltx_listingline">
<span id="lstnumberx61.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                    </span><span id="lstnumberx61.2" class="ltx_text ltx_lst_identifier" style="font-size:80%;">lowest</span><span id="lstnumberx61.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx61.4" class="ltx_text" style="font-size:80%;">=</span><span id="lstnumberx61.5" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx61.6" class="ltx_text ltx_lst_identifier" style="font-size:80%;">lsb</span><span id="lstnumberx61.7" class="ltx_text" style="font-size:80%;">(</span><span id="lstnumberx61.8" class="ltx_text ltx_lst_identifier" style="font-size:80%;">occupation</span><span id="lstnumberx61.9" class="ltx_text" style="font-size:80%;">)</span>
</div>
<div id="lstnumberx62" class="ltx_listingline">
<span id="lstnumberx62.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                    </span><span id="lstnumberx62.2" class="ltx_text ltx_lst_identifier" style="font-size:80%;">temp_bb</span><span id="lstnumberx62.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx62.4" class="ltx_text" style="font-size:80%;">|=</span><span id="lstnumberx62.5" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx62.6" class="ltx_text ltx_lst_identifier" style="font-size:80%;">square_list</span><span id="lstnumberx62.7" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx62.8" class="ltx_text ltx_lst_identifier" style="font-size:80%;">i</span><span id="lstnumberx62.9" class="ltx_text" style="font-size:80%;">][</span><span id="lstnumberx62.10" class="ltx_text ltx_lst_identifier" style="font-size:80%;">bin2index</span><span id="lstnumberx62.11" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx62.12" class="ltx_text ltx_lst_identifier" style="font-size:80%;">lowest</span><span id="lstnumberx62.13" class="ltx_text" style="font-size:80%;">]]</span>
</div>
<div id="lstnumberx63" class="ltx_listingline">
<span id="lstnumberx63.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                    </span><span id="lstnumberx63.2" class="ltx_text ltx_lst_identifier" style="font-size:80%;">occupation</span><span id="lstnumberx63.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx63.4" class="ltx_text" style="font-size:80%;">=</span><span id="lstnumberx63.5" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx63.6" class="ltx_text ltx_lst_identifier" style="font-size:80%;">clear_lsb</span><span id="lstnumberx63.7" class="ltx_text" style="font-size:80%;">(</span><span id="lstnumberx63.8" class="ltx_text ltx_lst_identifier" style="font-size:80%;">occupation</span><span id="lstnumberx63.9" class="ltx_text" style="font-size:80%;">)</span>
</div>
<div id="lstnumberx64" class="ltx_listingline">
<span id="lstnumberx64.1" class="ltx_text ltx_lst_space" style="font-size:80%;">    </span><span id="lstnumberx64.2" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">return</span><span id="lstnumberx64.3" class="ltx_text" style="font-size:80%;">(</span><span id="lstnumberx64.4" class="ltx_text ltx_lst_identifier" style="font-size:80%;">attack_table</span><span id="lstnumberx64.5" class="ltx_text" style="font-size:80%;">)</span>
</div>
<div id="lstnumberx65" class="ltx_listingline">
</div>
<div id="lstnumberx66" class="ltx_listingline">
<span id="lstnumberx66.1" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">def</span><span id="lstnumberx66.2" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx66.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">get_diag_attacks_ne</span><span id="lstnumberx66.4" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx66.5" class="ltx_text" style="font-size:80%;">():</span>
</div>
<div id="lstnumberx67" class="ltx_listingline">
<span id="lstnumberx67.1" class="ltx_text ltx_lst_space" style="font-size:80%;">    </span><span id="lstnumberx67.2" class="ltx_text ltx_lst_identifier" style="font-size:80%;">diag_values</span><span id="lstnumberx67.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx67.4" class="ltx_text" style="font-size:80%;">=</span><span id="lstnumberx67.5" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx67.6" class="ltx_text" style="font-size:80%;">[[</span><span id="lstnumberx67.7" class="ltx_text ltx_lst_identifier" style="font-size:80%;">h1</span><span id="lstnumberx67.8" class="ltx_text" style="font-size:80%;">],</span>
</div>
<div id="lstnumberx68" class="ltx_listingline">
<span id="lstnumberx68.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                 </span><span id="lstnumberx68.2" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx68.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">h2</span><span id="lstnumberx68.4" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx68.5" class="ltx_text ltx_lst_identifier" style="font-size:80%;">g1</span><span id="lstnumberx68.6" class="ltx_text" style="font-size:80%;">],</span>
</div>
<div id="lstnumberx69" class="ltx_listingline">
<span id="lstnumberx69.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                </span><span id="lstnumberx69.2" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx69.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">h3</span><span id="lstnumberx69.4" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx69.5" class="ltx_text ltx_lst_identifier" style="font-size:80%;">g2</span><span id="lstnumberx69.6" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx69.7" class="ltx_text ltx_lst_identifier" style="font-size:80%;">f1</span><span id="lstnumberx69.8" class="ltx_text" style="font-size:80%;">],</span>
</div>
<div id="lstnumberx70" class="ltx_listingline">
<span id="lstnumberx70.1" class="ltx_text ltx_lst_space" style="font-size:80%;">               </span><span id="lstnumberx70.2" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx70.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">h4</span><span id="lstnumberx70.4" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx70.5" class="ltx_text ltx_lst_identifier" style="font-size:80%;">g3</span><span id="lstnumberx70.6" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx70.7" class="ltx_text ltx_lst_identifier" style="font-size:80%;">f2</span><span id="lstnumberx70.8" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx70.9" class="ltx_text ltx_lst_identifier" style="font-size:80%;">e1</span><span id="lstnumberx70.10" class="ltx_text" style="font-size:80%;">],</span>
</div>
<div id="lstnumberx71" class="ltx_listingline">
<span id="lstnumberx71.1" class="ltx_text ltx_lst_space" style="font-size:80%;">              </span><span id="lstnumberx71.2" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx71.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">h5</span><span id="lstnumberx71.4" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx71.5" class="ltx_text ltx_lst_identifier" style="font-size:80%;">g4</span><span id="lstnumberx71.6" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx71.7" class="ltx_text ltx_lst_identifier" style="font-size:80%;">f3</span><span id="lstnumberx71.8" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx71.9" class="ltx_text ltx_lst_identifier" style="font-size:80%;">e2</span><span id="lstnumberx71.10" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx71.11" class="ltx_text ltx_lst_identifier" style="font-size:80%;">d1</span><span id="lstnumberx71.12" class="ltx_text" style="font-size:80%;">],</span>
</div>
<div id="lstnumberx72" class="ltx_listingline">
<span id="lstnumberx72.1" class="ltx_text ltx_lst_space" style="font-size:80%;">             </span><span id="lstnumberx72.2" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx72.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">h6</span><span id="lstnumberx72.4" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx72.5" class="ltx_text ltx_lst_identifier" style="font-size:80%;">g5</span><span id="lstnumberx72.6" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx72.7" class="ltx_text ltx_lst_identifier" style="font-size:80%;">f4</span><span id="lstnumberx72.8" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx72.9" class="ltx_text ltx_lst_identifier" style="font-size:80%;">e3</span><span id="lstnumberx72.10" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx72.11" class="ltx_text ltx_lst_identifier" style="font-size:80%;">d2</span><span id="lstnumberx72.12" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx72.13" class="ltx_text ltx_lst_identifier" style="font-size:80%;">c1</span><span id="lstnumberx72.14" class="ltx_text" style="font-size:80%;">],</span>
</div>
<div id="lstnumberx73" class="ltx_listingline">
<span id="lstnumberx73.1" class="ltx_text ltx_lst_space" style="font-size:80%;">            </span><span id="lstnumberx73.2" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx73.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">h7</span><span id="lstnumberx73.4" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx73.5" class="ltx_text ltx_lst_identifier" style="font-size:80%;">g6</span><span id="lstnumberx73.6" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx73.7" class="ltx_text ltx_lst_identifier" style="font-size:80%;">f5</span><span id="lstnumberx73.8" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx73.9" class="ltx_text ltx_lst_identifier" style="font-size:80%;">e4</span><span id="lstnumberx73.10" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx73.11" class="ltx_text ltx_lst_identifier" style="font-size:80%;">d3</span><span id="lstnumberx73.12" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx73.13" class="ltx_text ltx_lst_identifier" style="font-size:80%;">c2</span><span id="lstnumberx73.14" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx73.15" class="ltx_text ltx_lst_identifier" style="font-size:80%;">b1</span><span id="lstnumberx73.16" class="ltx_text" style="font-size:80%;">],</span>
</div>
<div id="lstnumberx74" class="ltx_listingline">
<span id="lstnumberx74.1" class="ltx_text ltx_lst_space" style="font-size:80%;">           </span><span id="lstnumberx74.2" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx74.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">h8</span><span id="lstnumberx74.4" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx74.5" class="ltx_text ltx_lst_identifier" style="font-size:80%;">g7</span><span id="lstnumberx74.6" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx74.7" class="ltx_text ltx_lst_identifier" style="font-size:80%;">f6</span><span id="lstnumberx74.8" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx74.9" class="ltx_text ltx_lst_identifier" style="font-size:80%;">e5</span><span id="lstnumberx74.10" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx74.11" class="ltx_text ltx_lst_identifier" style="font-size:80%;">d4</span><span id="lstnumberx74.12" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx74.13" class="ltx_text ltx_lst_identifier" style="font-size:80%;">c3</span><span id="lstnumberx74.14" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx74.15" class="ltx_text ltx_lst_identifier" style="font-size:80%;">b2</span><span id="lstnumberx74.16" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx74.17" class="ltx_text ltx_lst_identifier" style="font-size:80%;">a1</span><span id="lstnumberx74.18" class="ltx_text" style="font-size:80%;">],</span>
</div>
<div id="lstnumberx75" class="ltx_listingline">
<span id="lstnumberx75.1" class="ltx_text ltx_lst_space" style="font-size:80%;">            </span><span id="lstnumberx75.2" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx75.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">g8</span><span id="lstnumberx75.4" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx75.5" class="ltx_text ltx_lst_identifier" style="font-size:80%;">f7</span><span id="lstnumberx75.6" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx75.7" class="ltx_text ltx_lst_identifier" style="font-size:80%;">e6</span><span id="lstnumberx75.8" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx75.9" class="ltx_text ltx_lst_identifier" style="font-size:80%;">d5</span><span id="lstnumberx75.10" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx75.11" class="ltx_text ltx_lst_identifier" style="font-size:80%;">c4</span><span id="lstnumberx75.12" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx75.13" class="ltx_text ltx_lst_identifier" style="font-size:80%;">b3</span><span id="lstnumberx75.14" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx75.15" class="ltx_text ltx_lst_identifier" style="font-size:80%;">a2</span><span id="lstnumberx75.16" class="ltx_text" style="font-size:80%;">],</span>
</div>
<div id="lstnumberx76" class="ltx_listingline">
<span id="lstnumberx76.1" class="ltx_text ltx_lst_space" style="font-size:80%;">             </span><span id="lstnumberx76.2" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx76.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">f8</span><span id="lstnumberx76.4" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx76.5" class="ltx_text ltx_lst_identifier" style="font-size:80%;">e7</span><span id="lstnumberx76.6" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx76.7" class="ltx_text ltx_lst_identifier" style="font-size:80%;">d6</span><span id="lstnumberx76.8" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx76.9" class="ltx_text ltx_lst_identifier" style="font-size:80%;">c5</span><span id="lstnumberx76.10" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx76.11" class="ltx_text ltx_lst_identifier" style="font-size:80%;">b4</span><span id="lstnumberx76.12" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx76.13" class="ltx_text ltx_lst_identifier" style="font-size:80%;">a3</span><span id="lstnumberx76.14" class="ltx_text" style="font-size:80%;">],</span>
</div>
<div id="lstnumberx77" class="ltx_listingline">
<span id="lstnumberx77.1" class="ltx_text ltx_lst_space" style="font-size:80%;">              </span><span id="lstnumberx77.2" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx77.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">e8</span><span id="lstnumberx77.4" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx77.5" class="ltx_text ltx_lst_identifier" style="font-size:80%;">d7</span><span id="lstnumberx77.6" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx77.7" class="ltx_text ltx_lst_identifier" style="font-size:80%;">c6</span><span id="lstnumberx77.8" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx77.9" class="ltx_text ltx_lst_identifier" style="font-size:80%;">b5</span><span id="lstnumberx77.10" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx77.11" class="ltx_text ltx_lst_identifier" style="font-size:80%;">a4</span><span id="lstnumberx77.12" class="ltx_text" style="font-size:80%;">],</span>
</div>
<div id="lstnumberx78" class="ltx_listingline">
<span id="lstnumberx78.1" class="ltx_text ltx_lst_space" style="font-size:80%;">               </span><span id="lstnumberx78.2" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx78.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">d8</span><span id="lstnumberx78.4" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx78.5" class="ltx_text ltx_lst_identifier" style="font-size:80%;">c7</span><span id="lstnumberx78.6" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx78.7" class="ltx_text ltx_lst_identifier" style="font-size:80%;">b6</span><span id="lstnumberx78.8" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx78.9" class="ltx_text ltx_lst_identifier" style="font-size:80%;">a5</span><span id="lstnumberx78.10" class="ltx_text" style="font-size:80%;">],</span>
</div>
<div id="lstnumberx79" class="ltx_listingline">
<span id="lstnumberx79.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                </span><span id="lstnumberx79.2" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx79.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">c8</span><span id="lstnumberx79.4" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx79.5" class="ltx_text ltx_lst_identifier" style="font-size:80%;">b7</span><span id="lstnumberx79.6" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx79.7" class="ltx_text ltx_lst_identifier" style="font-size:80%;">a6</span><span id="lstnumberx79.8" class="ltx_text" style="font-size:80%;">],</span>
</div>
<div id="lstnumberx80" class="ltx_listingline">
<span id="lstnumberx80.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                 </span><span id="lstnumberx80.2" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx80.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">b8</span><span id="lstnumberx80.4" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx80.5" class="ltx_text ltx_lst_identifier" style="font-size:80%;">a7</span><span id="lstnumberx80.6" class="ltx_text" style="font-size:80%;">],</span>
</div>
<div id="lstnumberx81" class="ltx_listingline">
<span id="lstnumberx81.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                  </span><span id="lstnumberx81.2" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx81.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">a8</span><span id="lstnumberx81.4" class="ltx_text" style="font-size:80%;">]]</span>
</div>
<div id="lstnumberx82" class="ltx_listingline">
<span id="lstnumberx82.1" class="ltx_text ltx_lst_space" style="font-size:80%;">    </span><span id="lstnumberx82.2" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">return</span><span id="lstnumberx82.3" class="ltx_text" style="font-size:80%;">(</span><span id="lstnumberx82.4" class="ltx_text ltx_lst_identifier" style="font-size:80%;">get_diag_attacks</span><span id="lstnumberx82.5" class="ltx_text" style="font-size:80%;">(</span><span id="lstnumberx82.6" class="ltx_text ltx_lst_identifier" style="font-size:80%;">diag_values</span><span id="lstnumberx82.7" class="ltx_text" style="font-size:80%;">))</span>
</div>
<div id="lstnumberx83" class="ltx_listingline">
</div>
<div id="lstnumberx84" class="ltx_listingline">
<span id="lstnumberx84.1" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">def</span><span id="lstnumberx84.2" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx84.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">get_diags_attacks_nw</span><span id="lstnumberx84.4" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx84.5" class="ltx_text" style="font-size:80%;">():</span>
</div>
<div id="lstnumberx85" class="ltx_listingline">
<span id="lstnumberx85.1" class="ltx_text ltx_lst_space" style="font-size:80%;">    </span><span id="lstnumberx85.2" class="ltx_text ltx_lst_identifier" style="font-size:80%;">diag_values</span><span id="lstnumberx85.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx85.4" class="ltx_text" style="font-size:80%;">=</span><span id="lstnumberx85.5" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx85.6" class="ltx_text" style="font-size:80%;">[[</span><span id="lstnumberx85.7" class="ltx_text ltx_lst_identifier" style="font-size:80%;">a1</span><span id="lstnumberx85.8" class="ltx_text" style="font-size:80%;">],</span>
</div>
<div id="lstnumberx86" class="ltx_listingline">
<span id="lstnumberx86.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                 </span><span id="lstnumberx86.2" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx86.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">b1</span><span id="lstnumberx86.4" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx86.5" class="ltx_text ltx_lst_identifier" style="font-size:80%;">a2</span><span id="lstnumberx86.6" class="ltx_text" style="font-size:80%;">],</span>
</div>
<div id="lstnumberx87" class="ltx_listingline">
<span id="lstnumberx87.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                </span><span id="lstnumberx87.2" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx87.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">c1</span><span id="lstnumberx87.4" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx87.5" class="ltx_text ltx_lst_identifier" style="font-size:80%;">b2</span><span id="lstnumberx87.6" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx87.7" class="ltx_text ltx_lst_identifier" style="font-size:80%;">a3</span><span id="lstnumberx87.8" class="ltx_text" style="font-size:80%;">],</span>
</div>
<div id="lstnumberx88" class="ltx_listingline">
<span id="lstnumberx88.1" class="ltx_text ltx_lst_space" style="font-size:80%;">               </span><span id="lstnumberx88.2" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx88.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">d1</span><span id="lstnumberx88.4" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx88.5" class="ltx_text ltx_lst_identifier" style="font-size:80%;">c2</span><span id="lstnumberx88.6" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx88.7" class="ltx_text ltx_lst_identifier" style="font-size:80%;">b3</span><span id="lstnumberx88.8" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx88.9" class="ltx_text ltx_lst_identifier" style="font-size:80%;">a4</span><span id="lstnumberx88.10" class="ltx_text" style="font-size:80%;">],</span>
</div>
<div id="lstnumberx89" class="ltx_listingline">
<span id="lstnumberx89.1" class="ltx_text ltx_lst_space" style="font-size:80%;">              </span><span id="lstnumberx89.2" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx89.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">e1</span><span id="lstnumberx89.4" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx89.5" class="ltx_text ltx_lst_identifier" style="font-size:80%;">d2</span><span id="lstnumberx89.6" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx89.7" class="ltx_text ltx_lst_identifier" style="font-size:80%;">c3</span><span id="lstnumberx89.8" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx89.9" class="ltx_text ltx_lst_identifier" style="font-size:80%;">b4</span><span id="lstnumberx89.10" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx89.11" class="ltx_text ltx_lst_identifier" style="font-size:80%;">a5</span><span id="lstnumberx89.12" class="ltx_text" style="font-size:80%;">],</span>
</div>
<div id="lstnumberx90" class="ltx_listingline">
<span id="lstnumberx90.1" class="ltx_text ltx_lst_space" style="font-size:80%;">             </span><span id="lstnumberx90.2" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx90.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">f1</span><span id="lstnumberx90.4" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx90.5" class="ltx_text ltx_lst_identifier" style="font-size:80%;">e2</span><span id="lstnumberx90.6" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx90.7" class="ltx_text ltx_lst_identifier" style="font-size:80%;">d3</span><span id="lstnumberx90.8" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx90.9" class="ltx_text ltx_lst_identifier" style="font-size:80%;">c4</span><span id="lstnumberx90.10" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx90.11" class="ltx_text ltx_lst_identifier" style="font-size:80%;">b5</span><span id="lstnumberx90.12" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx90.13" class="ltx_text ltx_lst_identifier" style="font-size:80%;">a6</span><span id="lstnumberx90.14" class="ltx_text" style="font-size:80%;">],</span>
</div>
<div id="lstnumberx91" class="ltx_listingline">
<span id="lstnumberx91.1" class="ltx_text ltx_lst_space" style="font-size:80%;">            </span><span id="lstnumberx91.2" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx91.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">g1</span><span id="lstnumberx91.4" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx91.5" class="ltx_text ltx_lst_identifier" style="font-size:80%;">f2</span><span id="lstnumberx91.6" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx91.7" class="ltx_text ltx_lst_identifier" style="font-size:80%;">e3</span><span id="lstnumberx91.8" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx91.9" class="ltx_text ltx_lst_identifier" style="font-size:80%;">d4</span><span id="lstnumberx91.10" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx91.11" class="ltx_text ltx_lst_identifier" style="font-size:80%;">c5</span><span id="lstnumberx91.12" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx91.13" class="ltx_text ltx_lst_identifier" style="font-size:80%;">b6</span><span id="lstnumberx91.14" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx91.15" class="ltx_text ltx_lst_identifier" style="font-size:80%;">a7</span><span id="lstnumberx91.16" class="ltx_text" style="font-size:80%;">],</span>
</div>
<div id="lstnumberx92" class="ltx_listingline">
<span id="lstnumberx92.1" class="ltx_text ltx_lst_space" style="font-size:80%;">           </span><span id="lstnumberx92.2" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx92.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">h1</span><span id="lstnumberx92.4" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx92.5" class="ltx_text ltx_lst_identifier" style="font-size:80%;">g2</span><span id="lstnumberx92.6" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx92.7" class="ltx_text ltx_lst_identifier" style="font-size:80%;">f3</span><span id="lstnumberx92.8" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx92.9" class="ltx_text ltx_lst_identifier" style="font-size:80%;">e4</span><span id="lstnumberx92.10" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx92.11" class="ltx_text ltx_lst_identifier" style="font-size:80%;">d5</span><span id="lstnumberx92.12" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx92.13" class="ltx_text ltx_lst_identifier" style="font-size:80%;">c6</span><span id="lstnumberx92.14" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx92.15" class="ltx_text ltx_lst_identifier" style="font-size:80%;">b7</span><span id="lstnumberx92.16" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx92.17" class="ltx_text ltx_lst_identifier" style="font-size:80%;">a8</span><span id="lstnumberx92.18" class="ltx_text" style="font-size:80%;">],</span>
</div>
<div id="lstnumberx93" class="ltx_listingline">
<span id="lstnumberx93.1" class="ltx_text ltx_lst_space" style="font-size:80%;">            </span><span id="lstnumberx93.2" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx93.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">h2</span><span id="lstnumberx93.4" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx93.5" class="ltx_text ltx_lst_identifier" style="font-size:80%;">g3</span><span id="lstnumberx93.6" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx93.7" class="ltx_text ltx_lst_identifier" style="font-size:80%;">f4</span><span id="lstnumberx93.8" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx93.9" class="ltx_text ltx_lst_identifier" style="font-size:80%;">e5</span><span id="lstnumberx93.10" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx93.11" class="ltx_text ltx_lst_identifier" style="font-size:80%;">d6</span><span id="lstnumberx93.12" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx93.13" class="ltx_text ltx_lst_identifier" style="font-size:80%;">c7</span><span id="lstnumberx93.14" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx93.15" class="ltx_text ltx_lst_identifier" style="font-size:80%;">b8</span><span id="lstnumberx93.16" class="ltx_text" style="font-size:80%;">],</span>
</div>
<div id="lstnumberx94" class="ltx_listingline">
<span id="lstnumberx94.1" class="ltx_text ltx_lst_space" style="font-size:80%;">             </span><span id="lstnumberx94.2" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx94.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">h3</span><span id="lstnumberx94.4" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx94.5" class="ltx_text ltx_lst_identifier" style="font-size:80%;">g4</span><span id="lstnumberx94.6" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx94.7" class="ltx_text ltx_lst_identifier" style="font-size:80%;">f5</span><span id="lstnumberx94.8" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx94.9" class="ltx_text ltx_lst_identifier" style="font-size:80%;">e6</span><span id="lstnumberx94.10" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx94.11" class="ltx_text ltx_lst_identifier" style="font-size:80%;">d7</span><span id="lstnumberx94.12" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx94.13" class="ltx_text ltx_lst_identifier" style="font-size:80%;">c8</span><span id="lstnumberx94.14" class="ltx_text" style="font-size:80%;">],</span>
</div>
<div id="lstnumberx95" class="ltx_listingline">
<span id="lstnumberx95.1" class="ltx_text ltx_lst_space" style="font-size:80%;">              </span><span id="lstnumberx95.2" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx95.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">h4</span><span id="lstnumberx95.4" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx95.5" class="ltx_text ltx_lst_identifier" style="font-size:80%;">g5</span><span id="lstnumberx95.6" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx95.7" class="ltx_text ltx_lst_identifier" style="font-size:80%;">f6</span><span id="lstnumberx95.8" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx95.9" class="ltx_text ltx_lst_identifier" style="font-size:80%;">e7</span><span id="lstnumberx95.10" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx95.11" class="ltx_text ltx_lst_identifier" style="font-size:80%;">d8</span><span id="lstnumberx95.12" class="ltx_text" style="font-size:80%;">],</span>
</div>
<div id="lstnumberx96" class="ltx_listingline">
<span id="lstnumberx96.1" class="ltx_text ltx_lst_space" style="font-size:80%;">               </span><span id="lstnumberx96.2" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx96.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">h5</span><span id="lstnumberx96.4" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx96.5" class="ltx_text ltx_lst_identifier" style="font-size:80%;">g6</span><span id="lstnumberx96.6" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx96.7" class="ltx_text ltx_lst_identifier" style="font-size:80%;">f7</span><span id="lstnumberx96.8" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx96.9" class="ltx_text ltx_lst_identifier" style="font-size:80%;">e8</span><span id="lstnumberx96.10" class="ltx_text" style="font-size:80%;">],</span>
</div>
<div id="lstnumberx97" class="ltx_listingline">
<span id="lstnumberx97.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                </span><span id="lstnumberx97.2" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx97.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">h6</span><span id="lstnumberx97.4" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx97.5" class="ltx_text ltx_lst_identifier" style="font-size:80%;">g7</span><span id="lstnumberx97.6" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx97.7" class="ltx_text ltx_lst_identifier" style="font-size:80%;">f8</span><span id="lstnumberx97.8" class="ltx_text" style="font-size:80%;">],</span>
</div>
<div id="lstnumberx98" class="ltx_listingline">
<span id="lstnumberx98.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                 </span><span id="lstnumberx98.2" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx98.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">h7</span><span id="lstnumberx98.4" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx98.5" class="ltx_text ltx_lst_identifier" style="font-size:80%;">g8</span><span id="lstnumberx98.6" class="ltx_text" style="font-size:80%;">],</span>
</div>
<div id="lstnumberx99" class="ltx_listingline">
<span id="lstnumberx99.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                  </span><span id="lstnumberx99.2" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx99.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">h8</span><span id="lstnumberx99.4" class="ltx_text" style="font-size:80%;">]]</span>
</div>
<div id="lstnumberx100" class="ltx_listingline">
<span id="lstnumberx100.1" class="ltx_text ltx_lst_space" style="font-size:80%;">    </span><span id="lstnumberx100.2" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">return</span><span id="lstnumberx100.3" class="ltx_text" style="font-size:80%;">(</span><span id="lstnumberx100.4" class="ltx_text ltx_lst_identifier" style="font-size:80%;">get_diag_attacks</span><span id="lstnumberx100.5" class="ltx_text" style="font-size:80%;">(</span><span id="lstnumberx100.6" class="ltx_text ltx_lst_identifier" style="font-size:80%;">diag_values</span><span id="lstnumberx100.7" class="ltx_text" style="font-size:80%;">))</span>
</div>
</div>
</figure>
<figure id="LST4" class="ltx_float ltx_lstlisting">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float">Listing 4: </span>Generalized Rank and File Attack Lookup Table</figcaption>
<div id="LST4.1" class="ltx_listing ltx_lst_language_Python ltx_lstlisting ltx_listing">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZGVmIGdldF9yYW5rX2F0dGFja3MgKCk6CiAgICAjIHRoZXNlIGFyZSB0aGUgcmFuayBzcXVhcmUgdmFsdWVzCiAgICByYW5rX3ZhbHVlcyA9IFtbYTEsYjEsYzEsZDEsZTEsZjEsZzEsaDFdLAogICAgICAgICAgICAgICAgICAgW2EyLGIyLGMyLGQyLGUyLGYyLGcyLGgyXSwKICAgICAgICAgICAgICAgICAgIFthMyxiMyxjMyxkMyxlMyxmMyxnMyxoM10sCiAgICAgICAgICAgICAgICAgICBbYTQsYjQsYzQsZDQsZTQsZjQsZzQsaDRdLAogICAgICAgICAgICAgICAgICAgW2E1LGI1LGM1LGQ1LGU1LGY1LGc1LGg1XSwKICAgICAgICAgICAgICAgICAgIFthNixiNixjNixkNixlNixmNixnNixoNl0sCiAgICAgICAgICAgICAgICAgICBbYTcsYjcsYzcsZDcsZTcsZjcsZzcsaDddLAogICAgICAgICAgICAgICAgICAgW2E4LGI4LGM4LGQ4LGU4LGY4LGc4LGg4XV0KICAgIHJldHVybihnZXRfYXR0YWNrcyhyYW5rX3ZhbHVlcykpCgpkZWYgZ2V0X2ZpbGVfYXR0YWNrcyAoKToKICAgICMgdGhlc2UgYXJlIHRoZSBmaWxlIHNxdWFyZSB2YWx1ZXMKICAgIGZpbGVfdmFsdWVzID0gW1thMSxhMixhMyxhNCxhNSxhNixhNyxhOF0sCiAgICAgICAgICAgICAgICAgICBbYjEsYjIsYjMsYjQsYjUsYjYsYjcsYjhdLAogICAgICAgICAgICAgICAgICAgW2MxLGMyLGMzLGM0LGM1LGM2LGM3LGM4XSwKICAgICAgICAgICAgICAgICAgIFtkMSxkMixkMyxkNCxkNSxkNixkNyxkOF0sCiAgICAgICAgICAgICAgICAgICBbZTEsZTIsZTMsZTQsZTUsZTYsZTcsZThdLAogICAgICAgICAgICAgICAgICAgW2YxLGYyLGYzLGY0LGY1LGY2LGY3LGY4XSwKICAgICAgICAgICAgICAgICAgIFtnMSxnMixnMyxnNCxnNSxnNixnNyxnOF0sCiAgICAgICAgICAgICAgICAgICBbaDEsaDIsaDMsaDQsaDUsaDYsaDcsaDhdXQogICAgcmV0dXJuKGdldF9hdHRhY2tzKGZpbGVfdmFsdWVzKSk=" download="">⬇</a></div>
<div id="lstnumberx101" class="ltx_listingline">
<span id="lstnumberx101.1" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">def</span><span id="lstnumberx101.2" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx101.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">get_rank_attacks</span><span id="lstnumberx101.4" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx101.5" class="ltx_text" style="font-size:80%;">():</span>
</div>
<div id="lstnumberx102" class="ltx_listingline">
<span id="lstnumberx102.1" class="ltx_text ltx_lst_space" style="font-size:80%;">    </span><span id="lstnumberx102.2" class="ltx_text ltx_lst_comment ltx_font_typewriter" style="font-size:80%;">#<span id="lstnumberx102.2.1" class="ltx_text ltx_lst_space"> </span>these<span id="lstnumberx102.2.2" class="ltx_text ltx_lst_space"> </span>are<span id="lstnumberx102.2.3" class="ltx_text ltx_lst_space"> </span>the<span id="lstnumberx102.2.4" class="ltx_text ltx_lst_space"> </span>rank<span id="lstnumberx102.2.5" class="ltx_text ltx_lst_space"> </span>square<span id="lstnumberx102.2.6" class="ltx_text ltx_lst_space"> </span>values</span>
</div>
<div id="lstnumberx103" class="ltx_listingline">
<span id="lstnumberx103.1" class="ltx_text ltx_lst_space" style="font-size:80%;">    </span><span id="lstnumberx103.2" class="ltx_text ltx_lst_identifier" style="font-size:80%;">rank_values</span><span id="lstnumberx103.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx103.4" class="ltx_text" style="font-size:80%;">=</span><span id="lstnumberx103.5" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx103.6" class="ltx_text" style="font-size:80%;">[[</span><span id="lstnumberx103.7" class="ltx_text ltx_lst_identifier" style="font-size:80%;">a1</span><span id="lstnumberx103.8" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx103.9" class="ltx_text ltx_lst_identifier" style="font-size:80%;">b1</span><span id="lstnumberx103.10" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx103.11" class="ltx_text ltx_lst_identifier" style="font-size:80%;">c1</span><span id="lstnumberx103.12" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx103.13" class="ltx_text ltx_lst_identifier" style="font-size:80%;">d1</span><span id="lstnumberx103.14" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx103.15" class="ltx_text ltx_lst_identifier" style="font-size:80%;">e1</span><span id="lstnumberx103.16" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx103.17" class="ltx_text ltx_lst_identifier" style="font-size:80%;">f1</span><span id="lstnumberx103.18" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx103.19" class="ltx_text ltx_lst_identifier" style="font-size:80%;">g1</span><span id="lstnumberx103.20" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx103.21" class="ltx_text ltx_lst_identifier" style="font-size:80%;">h1</span><span id="lstnumberx103.22" class="ltx_text" style="font-size:80%;">],</span>
</div>
<div id="lstnumberx104" class="ltx_listingline">
<span id="lstnumberx104.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                   </span><span id="lstnumberx104.2" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx104.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">a2</span><span id="lstnumberx104.4" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx104.5" class="ltx_text ltx_lst_identifier" style="font-size:80%;">b2</span><span id="lstnumberx104.6" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx104.7" class="ltx_text ltx_lst_identifier" style="font-size:80%;">c2</span><span id="lstnumberx104.8" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx104.9" class="ltx_text ltx_lst_identifier" style="font-size:80%;">d2</span><span id="lstnumberx104.10" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx104.11" class="ltx_text ltx_lst_identifier" style="font-size:80%;">e2</span><span id="lstnumberx104.12" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx104.13" class="ltx_text ltx_lst_identifier" style="font-size:80%;">f2</span><span id="lstnumberx104.14" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx104.15" class="ltx_text ltx_lst_identifier" style="font-size:80%;">g2</span><span id="lstnumberx104.16" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx104.17" class="ltx_text ltx_lst_identifier" style="font-size:80%;">h2</span><span id="lstnumberx104.18" class="ltx_text" style="font-size:80%;">],</span>
</div>
<div id="lstnumberx105" class="ltx_listingline">
<span id="lstnumberx105.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                   </span><span id="lstnumberx105.2" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx105.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">a3</span><span id="lstnumberx105.4" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx105.5" class="ltx_text ltx_lst_identifier" style="font-size:80%;">b3</span><span id="lstnumberx105.6" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx105.7" class="ltx_text ltx_lst_identifier" style="font-size:80%;">c3</span><span id="lstnumberx105.8" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx105.9" class="ltx_text ltx_lst_identifier" style="font-size:80%;">d3</span><span id="lstnumberx105.10" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx105.11" class="ltx_text ltx_lst_identifier" style="font-size:80%;">e3</span><span id="lstnumberx105.12" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx105.13" class="ltx_text ltx_lst_identifier" style="font-size:80%;">f3</span><span id="lstnumberx105.14" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx105.15" class="ltx_text ltx_lst_identifier" style="font-size:80%;">g3</span><span id="lstnumberx105.16" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx105.17" class="ltx_text ltx_lst_identifier" style="font-size:80%;">h3</span><span id="lstnumberx105.18" class="ltx_text" style="font-size:80%;">],</span>
</div>
<div id="lstnumberx106" class="ltx_listingline">
<span id="lstnumberx106.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                   </span><span id="lstnumberx106.2" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx106.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">a4</span><span id="lstnumberx106.4" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx106.5" class="ltx_text ltx_lst_identifier" style="font-size:80%;">b4</span><span id="lstnumberx106.6" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx106.7" class="ltx_text ltx_lst_identifier" style="font-size:80%;">c4</span><span id="lstnumberx106.8" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx106.9" class="ltx_text ltx_lst_identifier" style="font-size:80%;">d4</span><span id="lstnumberx106.10" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx106.11" class="ltx_text ltx_lst_identifier" style="font-size:80%;">e4</span><span id="lstnumberx106.12" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx106.13" class="ltx_text ltx_lst_identifier" style="font-size:80%;">f4</span><span id="lstnumberx106.14" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx106.15" class="ltx_text ltx_lst_identifier" style="font-size:80%;">g4</span><span id="lstnumberx106.16" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx106.17" class="ltx_text ltx_lst_identifier" style="font-size:80%;">h4</span><span id="lstnumberx106.18" class="ltx_text" style="font-size:80%;">],</span>
</div>
<div id="lstnumberx107" class="ltx_listingline">
<span id="lstnumberx107.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                   </span><span id="lstnumberx107.2" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx107.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">a5</span><span id="lstnumberx107.4" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx107.5" class="ltx_text ltx_lst_identifier" style="font-size:80%;">b5</span><span id="lstnumberx107.6" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx107.7" class="ltx_text ltx_lst_identifier" style="font-size:80%;">c5</span><span id="lstnumberx107.8" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx107.9" class="ltx_text ltx_lst_identifier" style="font-size:80%;">d5</span><span id="lstnumberx107.10" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx107.11" class="ltx_text ltx_lst_identifier" style="font-size:80%;">e5</span><span id="lstnumberx107.12" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx107.13" class="ltx_text ltx_lst_identifier" style="font-size:80%;">f5</span><span id="lstnumberx107.14" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx107.15" class="ltx_text ltx_lst_identifier" style="font-size:80%;">g5</span><span id="lstnumberx107.16" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx107.17" class="ltx_text ltx_lst_identifier" style="font-size:80%;">h5</span><span id="lstnumberx107.18" class="ltx_text" style="font-size:80%;">],</span>
</div>
<div id="lstnumberx108" class="ltx_listingline">
<span id="lstnumberx108.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                   </span><span id="lstnumberx108.2" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx108.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">a6</span><span id="lstnumberx108.4" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx108.5" class="ltx_text ltx_lst_identifier" style="font-size:80%;">b6</span><span id="lstnumberx108.6" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx108.7" class="ltx_text ltx_lst_identifier" style="font-size:80%;">c6</span><span id="lstnumberx108.8" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx108.9" class="ltx_text ltx_lst_identifier" style="font-size:80%;">d6</span><span id="lstnumberx108.10" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx108.11" class="ltx_text ltx_lst_identifier" style="font-size:80%;">e6</span><span id="lstnumberx108.12" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx108.13" class="ltx_text ltx_lst_identifier" style="font-size:80%;">f6</span><span id="lstnumberx108.14" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx108.15" class="ltx_text ltx_lst_identifier" style="font-size:80%;">g6</span><span id="lstnumberx108.16" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx108.17" class="ltx_text ltx_lst_identifier" style="font-size:80%;">h6</span><span id="lstnumberx108.18" class="ltx_text" style="font-size:80%;">],</span>
</div>
<div id="lstnumberx109" class="ltx_listingline">
<span id="lstnumberx109.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                   </span><span id="lstnumberx109.2" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx109.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">a7</span><span id="lstnumberx109.4" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx109.5" class="ltx_text ltx_lst_identifier" style="font-size:80%;">b7</span><span id="lstnumberx109.6" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx109.7" class="ltx_text ltx_lst_identifier" style="font-size:80%;">c7</span><span id="lstnumberx109.8" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx109.9" class="ltx_text ltx_lst_identifier" style="font-size:80%;">d7</span><span id="lstnumberx109.10" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx109.11" class="ltx_text ltx_lst_identifier" style="font-size:80%;">e7</span><span id="lstnumberx109.12" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx109.13" class="ltx_text ltx_lst_identifier" style="font-size:80%;">f7</span><span id="lstnumberx109.14" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx109.15" class="ltx_text ltx_lst_identifier" style="font-size:80%;">g7</span><span id="lstnumberx109.16" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx109.17" class="ltx_text ltx_lst_identifier" style="font-size:80%;">h7</span><span id="lstnumberx109.18" class="ltx_text" style="font-size:80%;">],</span>
</div>
<div id="lstnumberx110" class="ltx_listingline">
<span id="lstnumberx110.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                   </span><span id="lstnumberx110.2" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx110.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">a8</span><span id="lstnumberx110.4" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx110.5" class="ltx_text ltx_lst_identifier" style="font-size:80%;">b8</span><span id="lstnumberx110.6" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx110.7" class="ltx_text ltx_lst_identifier" style="font-size:80%;">c8</span><span id="lstnumberx110.8" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx110.9" class="ltx_text ltx_lst_identifier" style="font-size:80%;">d8</span><span id="lstnumberx110.10" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx110.11" class="ltx_text ltx_lst_identifier" style="font-size:80%;">e8</span><span id="lstnumberx110.12" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx110.13" class="ltx_text ltx_lst_identifier" style="font-size:80%;">f8</span><span id="lstnumberx110.14" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx110.15" class="ltx_text ltx_lst_identifier" style="font-size:80%;">g8</span><span id="lstnumberx110.16" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx110.17" class="ltx_text ltx_lst_identifier" style="font-size:80%;">h8</span><span id="lstnumberx110.18" class="ltx_text" style="font-size:80%;">]]</span>
</div>
<div id="lstnumberx111" class="ltx_listingline">
<span id="lstnumberx111.1" class="ltx_text ltx_lst_space" style="font-size:80%;">    </span><span id="lstnumberx111.2" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">return</span><span id="lstnumberx111.3" class="ltx_text" style="font-size:80%;">(</span><span id="lstnumberx111.4" class="ltx_text ltx_lst_identifier" style="font-size:80%;">get_attacks</span><span id="lstnumberx111.5" class="ltx_text" style="font-size:80%;">(</span><span id="lstnumberx111.6" class="ltx_text ltx_lst_identifier" style="font-size:80%;">rank_values</span><span id="lstnumberx111.7" class="ltx_text" style="font-size:80%;">))</span>
</div>
<div id="lstnumberx112" class="ltx_listingline">
</div>
<div id="lstnumberx113" class="ltx_listingline">
<span id="lstnumberx113.1" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">def</span><span id="lstnumberx113.2" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx113.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">get_file_attacks</span><span id="lstnumberx113.4" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx113.5" class="ltx_text" style="font-size:80%;">():</span>
</div>
<div id="lstnumberx114" class="ltx_listingline">
<span id="lstnumberx114.1" class="ltx_text ltx_lst_space" style="font-size:80%;">    </span><span id="lstnumberx114.2" class="ltx_text ltx_lst_comment ltx_font_typewriter" style="font-size:80%;">#<span id="lstnumberx114.2.1" class="ltx_text ltx_lst_space"> </span>these<span id="lstnumberx114.2.2" class="ltx_text ltx_lst_space"> </span>are<span id="lstnumberx114.2.3" class="ltx_text ltx_lst_space"> </span>the<span id="lstnumberx114.2.4" class="ltx_text ltx_lst_space"> </span>file<span id="lstnumberx114.2.5" class="ltx_text ltx_lst_space"> </span>square<span id="lstnumberx114.2.6" class="ltx_text ltx_lst_space"> </span>values</span>
</div>
<div id="lstnumberx115" class="ltx_listingline">
<span id="lstnumberx115.1" class="ltx_text ltx_lst_space" style="font-size:80%;">    </span><span id="lstnumberx115.2" class="ltx_text ltx_lst_identifier" style="font-size:80%;">file_values</span><span id="lstnumberx115.3" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx115.4" class="ltx_text" style="font-size:80%;">=</span><span id="lstnumberx115.5" class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span id="lstnumberx115.6" class="ltx_text" style="font-size:80%;">[[</span><span id="lstnumberx115.7" class="ltx_text ltx_lst_identifier" style="font-size:80%;">a1</span><span id="lstnumberx115.8" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx115.9" class="ltx_text ltx_lst_identifier" style="font-size:80%;">a2</span><span id="lstnumberx115.10" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx115.11" class="ltx_text ltx_lst_identifier" style="font-size:80%;">a3</span><span id="lstnumberx115.12" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx115.13" class="ltx_text ltx_lst_identifier" style="font-size:80%;">a4</span><span id="lstnumberx115.14" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx115.15" class="ltx_text ltx_lst_identifier" style="font-size:80%;">a5</span><span id="lstnumberx115.16" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx115.17" class="ltx_text ltx_lst_identifier" style="font-size:80%;">a6</span><span id="lstnumberx115.18" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx115.19" class="ltx_text ltx_lst_identifier" style="font-size:80%;">a7</span><span id="lstnumberx115.20" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx115.21" class="ltx_text ltx_lst_identifier" style="font-size:80%;">a8</span><span id="lstnumberx115.22" class="ltx_text" style="font-size:80%;">],</span>
</div>
<div id="lstnumberx116" class="ltx_listingline">
<span id="lstnumberx116.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                   </span><span id="lstnumberx116.2" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx116.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">b1</span><span id="lstnumberx116.4" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx116.5" class="ltx_text ltx_lst_identifier" style="font-size:80%;">b2</span><span id="lstnumberx116.6" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx116.7" class="ltx_text ltx_lst_identifier" style="font-size:80%;">b3</span><span id="lstnumberx116.8" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx116.9" class="ltx_text ltx_lst_identifier" style="font-size:80%;">b4</span><span id="lstnumberx116.10" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx116.11" class="ltx_text ltx_lst_identifier" style="font-size:80%;">b5</span><span id="lstnumberx116.12" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx116.13" class="ltx_text ltx_lst_identifier" style="font-size:80%;">b6</span><span id="lstnumberx116.14" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx116.15" class="ltx_text ltx_lst_identifier" style="font-size:80%;">b7</span><span id="lstnumberx116.16" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx116.17" class="ltx_text ltx_lst_identifier" style="font-size:80%;">b8</span><span id="lstnumberx116.18" class="ltx_text" style="font-size:80%;">],</span>
</div>
<div id="lstnumberx117" class="ltx_listingline">
<span id="lstnumberx117.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                   </span><span id="lstnumberx117.2" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx117.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">c1</span><span id="lstnumberx117.4" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx117.5" class="ltx_text ltx_lst_identifier" style="font-size:80%;">c2</span><span id="lstnumberx117.6" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx117.7" class="ltx_text ltx_lst_identifier" style="font-size:80%;">c3</span><span id="lstnumberx117.8" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx117.9" class="ltx_text ltx_lst_identifier" style="font-size:80%;">c4</span><span id="lstnumberx117.10" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx117.11" class="ltx_text ltx_lst_identifier" style="font-size:80%;">c5</span><span id="lstnumberx117.12" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx117.13" class="ltx_text ltx_lst_identifier" style="font-size:80%;">c6</span><span id="lstnumberx117.14" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx117.15" class="ltx_text ltx_lst_identifier" style="font-size:80%;">c7</span><span id="lstnumberx117.16" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx117.17" class="ltx_text ltx_lst_identifier" style="font-size:80%;">c8</span><span id="lstnumberx117.18" class="ltx_text" style="font-size:80%;">],</span>
</div>
<div id="lstnumberx118" class="ltx_listingline">
<span id="lstnumberx118.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                   </span><span id="lstnumberx118.2" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx118.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">d1</span><span id="lstnumberx118.4" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx118.5" class="ltx_text ltx_lst_identifier" style="font-size:80%;">d2</span><span id="lstnumberx118.6" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx118.7" class="ltx_text ltx_lst_identifier" style="font-size:80%;">d3</span><span id="lstnumberx118.8" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx118.9" class="ltx_text ltx_lst_identifier" style="font-size:80%;">d4</span><span id="lstnumberx118.10" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx118.11" class="ltx_text ltx_lst_identifier" style="font-size:80%;">d5</span><span id="lstnumberx118.12" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx118.13" class="ltx_text ltx_lst_identifier" style="font-size:80%;">d6</span><span id="lstnumberx118.14" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx118.15" class="ltx_text ltx_lst_identifier" style="font-size:80%;">d7</span><span id="lstnumberx118.16" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx118.17" class="ltx_text ltx_lst_identifier" style="font-size:80%;">d8</span><span id="lstnumberx118.18" class="ltx_text" style="font-size:80%;">],</span>
</div>
<div id="lstnumberx119" class="ltx_listingline">
<span id="lstnumberx119.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                   </span><span id="lstnumberx119.2" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx119.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">e1</span><span id="lstnumberx119.4" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx119.5" class="ltx_text ltx_lst_identifier" style="font-size:80%;">e2</span><span id="lstnumberx119.6" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx119.7" class="ltx_text ltx_lst_identifier" style="font-size:80%;">e3</span><span id="lstnumberx119.8" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx119.9" class="ltx_text ltx_lst_identifier" style="font-size:80%;">e4</span><span id="lstnumberx119.10" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx119.11" class="ltx_text ltx_lst_identifier" style="font-size:80%;">e5</span><span id="lstnumberx119.12" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx119.13" class="ltx_text ltx_lst_identifier" style="font-size:80%;">e6</span><span id="lstnumberx119.14" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx119.15" class="ltx_text ltx_lst_identifier" style="font-size:80%;">e7</span><span id="lstnumberx119.16" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx119.17" class="ltx_text ltx_lst_identifier" style="font-size:80%;">e8</span><span id="lstnumberx119.18" class="ltx_text" style="font-size:80%;">],</span>
</div>
<div id="lstnumberx120" class="ltx_listingline">
<span id="lstnumberx120.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                   </span><span id="lstnumberx120.2" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx120.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">f1</span><span id="lstnumberx120.4" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx120.5" class="ltx_text ltx_lst_identifier" style="font-size:80%;">f2</span><span id="lstnumberx120.6" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx120.7" class="ltx_text ltx_lst_identifier" style="font-size:80%;">f3</span><span id="lstnumberx120.8" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx120.9" class="ltx_text ltx_lst_identifier" style="font-size:80%;">f4</span><span id="lstnumberx120.10" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx120.11" class="ltx_text ltx_lst_identifier" style="font-size:80%;">f5</span><span id="lstnumberx120.12" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx120.13" class="ltx_text ltx_lst_identifier" style="font-size:80%;">f6</span><span id="lstnumberx120.14" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx120.15" class="ltx_text ltx_lst_identifier" style="font-size:80%;">f7</span><span id="lstnumberx120.16" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx120.17" class="ltx_text ltx_lst_identifier" style="font-size:80%;">f8</span><span id="lstnumberx120.18" class="ltx_text" style="font-size:80%;">],</span>
</div>
<div id="lstnumberx121" class="ltx_listingline">
<span id="lstnumberx121.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                   </span><span id="lstnumberx121.2" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx121.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">g1</span><span id="lstnumberx121.4" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx121.5" class="ltx_text ltx_lst_identifier" style="font-size:80%;">g2</span><span id="lstnumberx121.6" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx121.7" class="ltx_text ltx_lst_identifier" style="font-size:80%;">g3</span><span id="lstnumberx121.8" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx121.9" class="ltx_text ltx_lst_identifier" style="font-size:80%;">g4</span><span id="lstnumberx121.10" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx121.11" class="ltx_text ltx_lst_identifier" style="font-size:80%;">g5</span><span id="lstnumberx121.12" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx121.13" class="ltx_text ltx_lst_identifier" style="font-size:80%;">g6</span><span id="lstnumberx121.14" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx121.15" class="ltx_text ltx_lst_identifier" style="font-size:80%;">g7</span><span id="lstnumberx121.16" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx121.17" class="ltx_text ltx_lst_identifier" style="font-size:80%;">g8</span><span id="lstnumberx121.18" class="ltx_text" style="font-size:80%;">],</span>
</div>
<div id="lstnumberx122" class="ltx_listingline">
<span id="lstnumberx122.1" class="ltx_text ltx_lst_space" style="font-size:80%;">                   </span><span id="lstnumberx122.2" class="ltx_text" style="font-size:80%;">[</span><span id="lstnumberx122.3" class="ltx_text ltx_lst_identifier" style="font-size:80%;">h1</span><span id="lstnumberx122.4" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx122.5" class="ltx_text ltx_lst_identifier" style="font-size:80%;">h2</span><span id="lstnumberx122.6" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx122.7" class="ltx_text ltx_lst_identifier" style="font-size:80%;">h3</span><span id="lstnumberx122.8" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx122.9" class="ltx_text ltx_lst_identifier" style="font-size:80%;">h4</span><span id="lstnumberx122.10" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx122.11" class="ltx_text ltx_lst_identifier" style="font-size:80%;">h5</span><span id="lstnumberx122.12" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx122.13" class="ltx_text ltx_lst_identifier" style="font-size:80%;">h6</span><span id="lstnumberx122.14" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx122.15" class="ltx_text ltx_lst_identifier" style="font-size:80%;">h7</span><span id="lstnumberx122.16" class="ltx_text" style="font-size:80%;">,</span><span id="lstnumberx122.17" class="ltx_text ltx_lst_identifier" style="font-size:80%;">h8</span><span id="lstnumberx122.18" class="ltx_text" style="font-size:80%;">]]</span>
</div>
<div id="lstnumberx123" class="ltx_listingline">
<span id="lstnumberx123.1" class="ltx_text ltx_lst_space" style="font-size:80%;">    </span><span id="lstnumberx123.2" class="ltx_text ltx_lst_keyword ltx_font_sansserif" style="font-size:80%;">return</span><span id="lstnumberx123.3" class="ltx_text" style="font-size:80%;">(</span><span id="lstnumberx123.4" class="ltx_text ltx_lst_identifier" style="font-size:80%;">get_attacks</span><span id="lstnumberx123.5" class="ltx_text" style="font-size:80%;">(</span><span id="lstnumberx123.6" class="ltx_text ltx_lst_identifier" style="font-size:80%;">file_values</span><span id="lstnumberx123.7" class="ltx_text" style="font-size:80%;">))</span>
</div>
</div>
</figure>
<div id="S2.SS3.p6" class="ltx_para">
<p id="S2.SS3.p6.1" class="ltx_p">An implementation of this is shown in Listing <a href="#LST3" title="Listing 3 ‣ 2.3 Diagonal Attacks ‣ 2 Direct Lookup ‣ AVOIDING ROTATED BITBOARDS WITH DIRECT LOOKUP" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>. Each diagonal is looped
over (line 5) for the outer loop and the attacking piece is moved along the diagonal
for the inner loop (line 7). For each position of the attacking piece, all of the
possible occupancies are generated (line 10) and the two inner loops, one for the
right side (lines 12-15) and one for the left side (lines 16-19), are used to accumulate
open squares until blocking bits are encountered. The function completes by
converting the occupancy value to a bitboard number along the diagonal.
Not shown is a hash table called <span id="S2.SS3.p6.1.1" class="ltx_text ltx_font_bold">bin2index</span>
used to convert bitboard values to square index
values (e.g. a1<math id="S2.SS3.p6.1.m1.1" class="ltx_Math" alttext="\rightarrow" display="inline"><semantics id="S2.SS3.p6.1.m1.1a"><mo stretchy="false" id="S2.SS3.p6.1.m1.1.1" xref="S2.SS3.p6.1.m1.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="S2.SS3.p6.1.m1.1b"><ci id="S2.SS3.p6.1.m1.1.1.cmml" xref="S2.SS3.p6.1.m1.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p6.1.m1.1c">\rightarrow</annotation></semantics></math>7).
The function is called with a list of lists of the values of the diagonals.
For the A1-H8 direction (also referred to as the “northeast” or ne direction),
the diagonal values are shown in lines 28-42 and for the A8-H1 diagonals, the
diagonal values passed into the function are shown in lines 46-60.</p>
</div>
<div id="S2.SS3.p7" class="ltx_para">
<p id="S2.SS3.p7.1" class="ltx_p">This algorithm is general enough to allow for the rank and file attack
tables to be generated and these are reformulated to work with this
approach and the listings are shown in Listing <a href="#LST4" title="Listing 4 ‣ 2.3 Diagonal Attacks ‣ 2 Direct Lookup ‣ AVOIDING ROTATED BITBOARDS WITH DIRECT LOOKUP" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>.</p>
</div>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Experimental Results</h2>

<figure id="S3.T1" class="ltx_table">
<table id="S3.T1.1" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S3.T1.1.1.1" class="ltx_tr">
<th id="S3.T1.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_l ltx_border_r ltx_border_t">OS and CPU</th>
<th id="S3.T1.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">Rotated Bitboards Time (s)</th>
<th id="S3.T1.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">Direct Lookup Time (s)</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S3.T1.1.2.1" class="ltx_tr">
<th id="S3.T1.1.2.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_tt">OS X 10.4.9 2.33 GHz Intel Core 2 Duo</th>
<td id="S3.T1.1.2.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt">7.29</td>
<td id="S3.T1.1.2.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt">6.42</td>
</tr>
<tr id="S3.T1.1.3.2" class="ltx_tr">
<th id="S3.T1.1.3.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_l ltx_border_r">Linux 2.6.9 3.4 GHz Intel Quad Xeon</th>
<td id="S3.T1.1.3.2.2" class="ltx_td ltx_align_center ltx_border_r">8.82</td>
<td id="S3.T1.1.3.2.3" class="ltx_td ltx_align_center ltx_border_r">7.67</td>
</tr>
<tr id="S3.T1.1.4.3" class="ltx_tr">
<th id="S3.T1.1.4.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_l ltx_border_r">OS X 10.4.9 1.67 GHz PowerPC G4</th>
<td id="S3.T1.1.4.3.2" class="ltx_td ltx_align_center ltx_border_r">16.31</td>
<td id="S3.T1.1.4.3.3" class="ltx_td ltx_align_center ltx_border_r">14.13</td>
</tr>
<tr id="S3.T1.1.5.4" class="ltx_tr">
<th id="S3.T1.1.5.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_l ltx_border_r">SunOS 5.8 1.5 GHz dual UltraSPARC-IIIi</th>
<td id="S3.T1.1.5.4.2" class="ltx_td ltx_align_center ltx_border_r">23.95</td>
<td id="S3.T1.1.5.4.3" class="ltx_td ltx_align_center ltx_border_r">19.06</td>
</tr>
<tr id="S3.T1.1.6.5" class="ltx_tr">
<th id="S3.T1.1.6.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_l ltx_border_r">FreeBSD 6.2 500 MHz Pentium 3</th>
<td id="S3.T1.1.6.5.2" class="ltx_td ltx_align_center ltx_border_b ltx_border_r">58.17</td>
<td id="S3.T1.1.6.5.3" class="ltx_td ltx_align_center ltx_border_b ltx_border_r">44.85</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span>Move Generation Results for Rotated Bitboards and Direct Lookup. </figcaption>
</figure>
<div id="S3.p1" class="ltx_para">
<p id="S3.p1.1" class="ltx_p">A performance comparison of simple move generation
was made between a rotated bitboard implementation and
a direct lookup implementation. The test results are shown in Table <a href="#S3.T1" title="Table 1 ‣ 3 Experimental Results ‣ AVOIDING ROTATED BITBOARDS WITH DIRECT LOOKUP" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>.
The times shown reflect a comparison of the move generation routines.
A well known and well studied set of test cases exists in the Encyclopedia of Chess
Middle Games (ECM).
Positions were selected from the ECM <span id="S3.p1.1.1" class="ltx_ERROR undefined">\citebay</span>krogius80 and for each of the 879
test positions, a list of the main board position as well as three rotated boards
were precalculated and saved in a list used by both methods. The moves were then generated
for each of these 879 positions using the same list of bitboards generated earlier.
The move generation functions for direct lookup
and those for the rotated bitboards differed only in how they handled the sliding piece attacks.
This process was repeated 10 times for each of the two types of approaches.
In generating moves for rotated bitboards, we required additional shifting and masking operations
before the lookup of the attacks could take place. Furthermore, the overhead
of maintaining and updating the rotated bitboards is not accounted for since
these test positions represent games in mid play where the rotated bitboards
were precalculated.</p>
</div>
<div id="S3.p2" class="ltx_para">
<p id="S3.p2.1" class="ltx_p">The results shown indicate that directly looking up the attacking moves
for sliding pieces in hash tables improves the move generation speeds
from 10% to 15% depending on computer architecture. Further efficiencies
can be expected in a full implementation where the overhead of maintaining
rotated bitboards is eliminated.
The implementation and test code is made available in an Open-Source,
interactive, chess programming module called “Shatranj” <span id="S3.p2.1.1" class="ltx_ERROR undefined">\citebay</span>shatranj06.</p>
</div>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Conclusions and Future Work</h2>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.1" class="ltx_p">We have described an approach for obtaining direct access to the attacked
squares of sliding pieces without resorting to rotated
bitboards. Detailed algorithms and working code illustrate how
the four hash tables were derived. The attacked squares are directly retrieved
from the hash tables once the occupancy for the particular rank, file or diagonal
was retrieved by the appropriate masks. Using these four hash tables,
maintaining incrementally updated rotated bitboards
becomes unnecessary as does the required shifting and masking
required to obtain the consecutive occupancy bits for a rank,
file or diagonal.
In addition to simplifying the implementation, we can expect a performance
improvement in move generation of at least 10%.
Taking the implementation a bit further,
the hash tables described in this
paper are also useful for implementing evaluation functions
which include piece mobilty and attack threats. When the additional
impact of complex evaluation functions is taken into account,
the speed improvements should be greater then the results presented here.</p>
</div>
<div id="S4.p2" class="ltx_para">
<p id="S4.p2.1" class="ltx_p">Since most chess implementations do not use a high level interpreted language
such as Python, it is difficult to estimate the effect of cache loading and
execution speed. The results presented here only reflect the savings
seen by move generation and not those of a fully implemented chess engine.
Further research is needed to quantify the effect of these changes on
cache utilization in a complete chess engine.</p>
</div>
<div id="S4.p3" class="ltx_para">
<p id="S4.p3.1" class="ltx_p">Alternatives to rotated bitboards have gained some popularity recently.
Minimal perfect hash functions as descibed in
<span id="S4.p3.1.1" class="ltx_ERROR undefined">\citebay</span>czech92 have been used to create hash tables where the
index is calculated based on the mover square and occupancy bitboard.
A recent refinement of this described in <span id="S4.p3.1.2" class="ltx_ERROR undefined">\citebay</span>leiserson98,
called magic move generation, further reduces the memory requirements of the
hash table. In this approach, a “magic multiplier” for a particular
square is multiplied by an occupancy bitboard and then shifted by
another “magic” number. This provides a hash index where the attacked
squares can be retrieved from a hash table. Performance comparisons
of the built in hash tables provided by interpreted languages and
techniques involving manually creating minimal perfect hash functions
as well as hash functions using de Bruijn sequences (a.k.a. magic move
generation techniques) could also be explored in future work.
Representation of chess knowledge with the data structures
provided by high level languages seems to have received very little
attention since the primary focus of the majority of work has been
improving execution speed, an area that places interpreted languages at a
distinct disadvantage.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock"><span id="bib.bib1.1.1" class="ltx_ERROR undefined">\harmsbibitem</span>Adelson-Velskii<span id="bib.bib1.2.2" class="ltx_text ltx_font_italic"> et al.</span>Adelson-Velskii<span id="bib.bib1.3.3" class="ltx_text ltx_font_italic"> et al.</span>1970bitman70Adelson-Velskii, G., Arlazarov, V., Bitman, A., Zhivotovskii, A., and Uskov, A.
(1970).

</span>
<span class="ltx_bibblock">Programming a computer to play chess.

</span>
<span class="ltx_bibblock"><span id="bib.bib1.4.1" class="ltx_text ltx_font_slanted">Russian Mathematical Surveys</span>, Vol. 25.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock"><span id="bib.bib2.1.1" class="ltx_ERROR undefined">\harmsbibitem</span>Czech, Havas, and MajewskiCzech<span id="bib.bib2.2.2" class="ltx_text ltx_font_italic"> et al.</span>1992czech92Czech, Z. J., Havas, G., and Majewski, B. S. (1992).

</span>
<span class="ltx_bibblock">An Optimal Algorithm for Generating Minimal Perfect Hash Functions.

</span>
<span class="ltx_bibblock"><span id="bib.bib2.3.1" class="ltx_text ltx_font_slanted">Information Processing Letters</span>, Vol. 43, pp. 257–264.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock"><span id="bib.bib3.1.1" class="ltx_ERROR undefined">\harmsbibitem</span>HeinzHeinz1997heinz97Heinz, E. A. (1997).

</span>
<span class="ltx_bibblock">How DarkThought Plays Chess.

</span>
<span class="ltx_bibblock"><span id="bib.bib3.2.1" class="ltx_text ltx_font_slanted">ICCA Journal</span>, Vol. 20, pp. 167–176.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock"><span id="bib.bib4.1.1" class="ltx_ERROR undefined">\harmsbibitem</span>HyattHyatt1999hyatt99Hyatt, R. (1999).

</span>
<span class="ltx_bibblock">Rotated Bitmaps.

</span>
<span class="ltx_bibblock"><span id="bib.bib4.2.1" class="ltx_text ltx_font_slanted">ICCA Journal</span>, Vol. 22, pp. 213–222.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock"><span id="bib.bib5.1.1" class="ltx_ERROR undefined">\harmsbibitem</span>Hyatt, Gower, and NelsonHyatt<span id="bib.bib5.2.2" class="ltx_text ltx_font_italic"> et al.</span>1990hyatt90Hyatt, R., Gower, A., and Nelson, H. (1990).

</span>
<span class="ltx_bibblock"><span id="bib.bib5.3.1" class="ltx_text ltx_font_slanted">Chapter 7: Cray Blitz in Computers, Chess, and Cognition, T.A.
Marsland and J. Schaeffer (eds.)</span>.

</span>
<span class="ltx_bibblock">Springer.

</span>
<span class="ltx_bibblock">ISBN 0387974156.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock"><span id="bib.bib6.1.1" class="ltx_ERROR undefined">\harmsbibitem</span>KnuthKnuth1998knuth98Knuth, D. E. (1998).

</span>
<span class="ltx_bibblock"><span id="bib.bib6.2.1" class="ltx_text ltx_font_slanted">The Art of Computer Programming, Volume 3, Sorting and
Searching</span>.

</span>
<span class="ltx_bibblock">Addison Wesley.

</span>
<span class="ltx_bibblock">ISBN 0201896850.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock"><span id="bib.bib7.1.1" class="ltx_ERROR undefined">\harmsbibitem</span>KrogiusKrogius1980krogius80Krogius, N. (1980).

</span>
<span class="ltx_bibblock"><span id="bib.bib7.2.1" class="ltx_text ltx_font_slanted">Encyclopedia of Chess Middle Games</span>.

</span>
<span class="ltx_bibblock">Batsford.

</span>
<span class="ltx_bibblock">ISBN 0713434740.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock"><span id="bib.bib8.1.1" class="ltx_ERROR undefined">\harmsbibitem</span>Leiserson, Prokop, and
RandallLeiserson<span id="bib.bib8.2.2" class="ltx_text ltx_font_italic"> et al.</span>1998leiserson98Leiserson, C. E., Prokop, H., and Randall, K. H. (1998).

</span>
<span class="ltx_bibblock">Using de Bruijn Sequences to Index a 1 in a Computer Word.

</span>
<span class="ltx_bibblock"><span id="bib.bib8.3.1" class="ltx_ERROR undefined">\url</span>http://citeseer.ist.psu.edu/leiserson98using.html.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock"><span id="bib.bib9.1.1" class="ltx_ERROR undefined">\harmsbibitem</span>van Rossumvan Rossum1993python93Rossum, G. van (1993). The Python Programming Language.
<span id="bib.bib9.2.2" class="ltx_ERROR undefined">\url</span>http://www.python.org.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock"><span id="bib.bib10.1.1" class="ltx_ERROR undefined">\harmsbibitem</span>SamuelSamuel1959samuel59Samuel, A. (1959).

</span>
<span class="ltx_bibblock">Some Studies in Machine Learning Using the Game of Checkers.

</span>
<span class="ltx_bibblock"><span id="bib.bib10.2.1" class="ltx_text ltx_font_slanted">IBM Journal of Research and Development</span>, Vol. 3, pp. 210–229.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock"><span id="bib.bib11.1.1" class="ltx_ERROR undefined">\harmsbibitem</span>ShannonShannon1950shannon50Shannon, C. E. (1950).

</span>
<span class="ltx_bibblock">Programming a Computer for Playing Chess.

</span>
<span class="ltx_bibblock"><span id="bib.bib11.2.1" class="ltx_text ltx_font_slanted">Philosophical Magazine</span>, Vol. 41.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock"><span id="bib.bib12.1.1" class="ltx_ERROR undefined">\harmsbibitem</span>Slate and AtkinSlate and Atkin1978slate78Slate, D. and Atkin, L. (1978).

</span>
<span class="ltx_bibblock"><span id="bib.bib12.2.1" class="ltx_text ltx_font_slanted">CHESS 4.5 – The Northwestern University chess program: Chess
Skill in Man and Machine, P.W. Frey (ed.)</span>.

</span>
<span class="ltx_bibblock">Springer.

</span>
<span class="ltx_bibblock">ISBN 3540079572.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock"><span id="bib.bib13.2.1" class="ltx_ERROR undefined">\harmsbibitem</span>TannousTannous2006shatranj06Tannous, S. (2006). The Shatranj Chess Programming Toolkit.
<span id="bib.bib13.3.2" class="ltx_ERROR undefined">\url</span>http://www.employees.org/<math id="bib.bib13.1.m1.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="bib.bib13.1.m1.1a"><mo id="bib.bib13.1.m1.1.1" xref="bib.bib13.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="bib.bib13.1.m1.1b"><csymbol cd="latexml" id="bib.bib13.1.m1.1.1.cmml" xref="bib.bib13.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="bib.bib13.1.m1.1c">\sim</annotation></semantics></math>stannous/shatranj.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock">
</span>
</li>
</ul>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/0704.3772" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/0704.3773" class="ar5iv-text-button ar5iv-severity-error">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+0704.3773">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/0704.3773" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/0704.3774" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Fri Mar  8 17:08:07 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
